const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SendgridForm-ByEoT8XL.js","./SendgridForm-DJvYOF9r.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ly(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const Sn={},nu=[],po=()=>{},sx=()=>!1,Sg=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),cy=n=>n.startsWith("onUpdate:"),sr=Object.assign,uy=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},oP=Object.prototype.hasOwnProperty,hn=(n,t)=>oP.call(n,t),be=Array.isArray,iu=n=>Vf(n)==="[object Map]",Mu=n=>Vf(n)==="[object Set]",Ov=n=>Vf(n)==="[object Date]",Oe=n=>typeof n=="function",yi=n=>typeof n=="string",xo=n=>typeof n=="symbol",Rn=n=>n!==null&&typeof n=="object",ox=n=>(Rn(n)||Oe(n))&&Oe(n.then)&&Oe(n.catch),ax=Object.prototype.toString,Vf=n=>ax.call(n),aP=n=>Vf(n).slice(8,-1),lx=n=>Vf(n)==="[object Object]",hy=n=>yi(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,jh=ly(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eg=n=>{const t=Object.create(null);return(e=>t[e]||(t[e]=n(e)))},lP=/-(\w)/g,gs=Eg(n=>n.replace(lP,(t,e)=>e?e.toUpperCase():"")),cP=/\B([A-Z])/g,Tc=Eg(n=>n.replace(cP,"-$1").toLowerCase()),Tg=Eg(n=>n.charAt(0).toUpperCase()+n.slice(1)),Bm=Eg(n=>n?`on${Tg(n)}`:""),ol=(n,t)=>!Object.is(n,t),op=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},cx=(n,t,e,i=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:i,value:e})},Op=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Dv;const Ig=()=>Dv||(Dv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fy(n){if(be(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],r=yi(i)?dP(i):fy(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(yi(n)||Rn(n))return n}const uP=/;(?![^(]*\))/g,hP=/:([^]+)/,fP=/\/\*[^]*?\*\//g;function dP(n){const t={};return n.replace(fP,"").split(uP).forEach(e=>{if(e){const i=e.split(hP);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Fu(n){let t="";if(yi(n))t=n;else if(be(n))for(let e=0;e<n.length;e++){const i=Fu(n[e]);i&&(t+=i+" ")}else if(Rn(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const pP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gP=ly(pP);function ux(n){return!!n||n===""}function mP(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Bf(n[i],t[i]);return e}function Bf(n,t){if(n===t)return!0;let e=Ov(n),i=Ov(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=xo(n),i=xo(t),e||i)return n===t;if(e=be(n),i=be(t),e||i)return e&&i?mP(n,t):!1;if(e=Rn(n),i=Rn(t),e||i){if(!e||!i)return!1;const r=Object.keys(n).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Bf(n[o],t[o]))return!1}}return String(n)===String(t)}function dy(n,t){return n.findIndex(e=>Bf(e,t))}const hx=n=>!!(n&&n.__v_isRef===!0),Qt=n=>yi(n)?n:n==null?"":be(n)||Rn(n)&&(n.toString===ax||!Oe(n.toString))?hx(n)?Qt(n.value):JSON.stringify(n,fx,2):String(n),fx=(n,t)=>hx(t)?fx(n,t.value):iu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,r],s)=>(e[jm(i,s)+" =>"]=r,e),{})}:Mu(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>jm(e))}:xo(t)?jm(t):Rn(t)&&!be(t)&&!lx(t)?String(t):t,jm=(n,t="")=>{var e;return xo(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ar;class yP{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ar,!t&&Ar&&(this.index=(Ar.scopes||(Ar.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Ar;try{return Ar=this,t()}finally{Ar=e}}}on(){++this._on===1&&(this.prevScope=Ar,Ar=this)}off(){this._on>0&&--this._on===0&&(Ar=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(this.effects.length=0,e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function vP(){return Ar}let Pn;const Um=new WeakSet;class dx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ar&&Ar.active&&Ar.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Um.has(this)&&(Um.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mv(this),mx(this);const t=Pn,e=Cs;Pn=this,Cs=!0;try{return this.fn()}finally{yx(this),Pn=t,Cs=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)my(t);this.deps=this.depsTail=void 0,Mv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Um.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){X1(this)&&this.run()}get dirty(){return X1(this)}}let px=0,Uh,qh;function gx(n,t=!1){if(n.flags|=8,t){n.next=qh,qh=n;return}n.next=Uh,Uh=n}function py(){px++}function gy(){if(--px>0)return;if(qh){let t=qh;for(qh=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Uh;){let t=Uh;for(Uh=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){n||(n=i)}t=e}}if(n)throw n}function mx(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yx(n){let t,e=n.depsTail,i=e;for(;i;){const r=i.prevDep;i.version===-1?(i===e&&(e=r),my(i),_P(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}n.deps=t,n.depsTail=e}function X1(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(vx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function vx(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===cf)||(n.globalVersion=cf,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!X1(n))))return;n.flags|=2;const t=n.dep,e=Pn,i=Cs;Pn=n,Cs=!0;try{mx(n);const r=n.fn(n._value);(t.version===0||ol(r,n._value))&&(n.flags|=128,n._value=r,t.version++)}catch(r){throw t.version++,r}finally{Pn=e,Cs=i,yx(n),n.flags&=-3}}function my(n,t=!1){const{dep:e,prevSub:i,nextSub:r}=n;if(i&&(i.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=i,n.nextSub=void 0),e.subs===n&&(e.subs=i,!i&&e.computed)){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)my(s,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function _P(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Cs=!0;const _x=[];function oa(){_x.push(Cs),Cs=!1}function aa(){const n=_x.pop();Cs=n===void 0?!0:n}function Mv(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=Pn;Pn=void 0;try{t()}finally{Pn=e}}}let cf=0;class bP{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yy{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pn||!Cs||Pn===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Pn)e=this.activeLink=new bP(Pn,this),Pn.deps?(e.prevDep=Pn.depsTail,Pn.depsTail.nextDep=e,Pn.depsTail=e):Pn.deps=Pn.depsTail=e,bx(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const i=e.nextDep;i.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=i),e.prevDep=Pn.depsTail,e.nextDep=void 0,Pn.depsTail.nextDep=e,Pn.depsTail=e,Pn.deps===e&&(Pn.deps=i)}return e}trigger(t){this.version++,cf++,this.notify(t)}notify(t){py();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{gy()}}}function bx(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)bx(i)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Q1=new WeakMap,cc=Symbol(""),Z1=Symbol(""),uf=Symbol("");function Zi(n,t,e){if(Cs&&Pn){let i=Q1.get(n);i||Q1.set(n,i=new Map);let r=i.get(e);r||(i.set(e,r=new yy),r.map=i,r.key=e),r.track()}}function Qo(n,t,e,i,r,s){const o=Q1.get(n);if(!o){cf++;return}const a=l=>{l&&l.trigger()};if(py(),t==="clear")o.forEach(a);else{const l=be(n),c=l&&hy(e);if(l&&e==="length"){const u=Number(i);o.forEach((h,g)=>{(g==="length"||g===uf||!xo(g)&&g>=u)&&a(h)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),c&&a(o.get(uf)),t){case"add":l?c&&a(o.get("length")):(a(o.get(cc)),iu(n)&&a(o.get(Z1)));break;case"delete":l||(a(o.get(cc)),iu(n)&&a(o.get(Z1)));break;case"set":iu(n)&&a(o.get(cc));break}}gy()}function jc(n){const t=nn(n);return t===n?t:(Zi(t,"iterate",uf),fs(n)?t:t.map(Bi))}function Pg(n){return Zi(n=nn(n),"iterate",uf),n}const wP={__proto__:null,[Symbol.iterator](){return qm(this,Symbol.iterator,Bi)},concat(...n){return jc(this).concat(...n.map(t=>be(t)?jc(t):t))},entries(){return qm(this,"entries",n=>(n[1]=Bi(n[1]),n))},every(n,t){return qo(this,"every",n,t,void 0,arguments)},filter(n,t){return qo(this,"filter",n,t,e=>e.map(Bi),arguments)},find(n,t){return qo(this,"find",n,t,Bi,arguments)},findIndex(n,t){return qo(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return qo(this,"findLast",n,t,Bi,arguments)},findLastIndex(n,t){return qo(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return qo(this,"forEach",n,t,void 0,arguments)},includes(...n){return zm(this,"includes",n)},indexOf(...n){return zm(this,"indexOf",n)},join(n){return jc(this).join(n)},lastIndexOf(...n){return zm(this,"lastIndexOf",n)},map(n,t){return qo(this,"map",n,t,void 0,arguments)},pop(){return vh(this,"pop")},push(...n){return vh(this,"push",n)},reduce(n,...t){return Fv(this,"reduce",n,t)},reduceRight(n,...t){return Fv(this,"reduceRight",n,t)},shift(){return vh(this,"shift")},some(n,t){return qo(this,"some",n,t,void 0,arguments)},splice(...n){return vh(this,"splice",n)},toReversed(){return jc(this).toReversed()},toSorted(n){return jc(this).toSorted(n)},toSpliced(...n){return jc(this).toSpliced(...n)},unshift(...n){return vh(this,"unshift",n)},values(){return qm(this,"values",Bi)}};function qm(n,t,e){const i=Pg(n),r=i[t]();return i!==n&&!fs(n)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=e(s.value)),s}),r}const AP=Array.prototype;function qo(n,t,e,i,r,s){const o=Pg(n),a=o!==n&&!fs(n),l=o[t];if(l!==AP[t]){const h=l.apply(n,s);return a?Bi(h):h}let c=e;o!==n&&(a?c=function(h,g){return e.call(this,Bi(h),g,n)}:e.length>2&&(c=function(h,g){return e.call(this,h,g,n)}));const u=l.call(o,c,i);return a&&r?r(u):u}function Fv(n,t,e,i){const r=Pg(n);let s=e;return r!==n&&(fs(n)?e.length>3&&(s=function(o,a,l){return e.call(this,o,a,l,n)}):s=function(o,a,l){return e.call(this,o,Bi(a),l,n)}),r[t](s,...i)}function zm(n,t,e){const i=nn(n);Zi(i,"iterate",uf);const r=i[t](...e);return(r===-1||r===!1)&&jf(e[0])?(e[0]=nn(e[0]),i[t](...e)):r}function vh(n,t,e=[]){oa(),py();const i=nn(n)[t].apply(n,e);return gy(),aa(),i}const xP=ly("__proto__,__v_isRef,__isVue"),wx=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(xo));function SP(n){xo(n)||(n=String(n));const t=nn(this);return Zi(t,"has",n),t.hasOwnProperty(n)}class Ax{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){if(e==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(e==="__v_isReactive")return!r;if(e==="__v_isReadonly")return r;if(e==="__v_isShallow")return s;if(e==="__v_raw")return i===(r?s?OP:Tx:s?Ex:Sx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=be(t);if(!r){let l;if(o&&(l=wP[e]))return l;if(e==="hasOwnProperty")return SP}const a=Reflect.get(t,e,ir(t)?t:i);return(xo(e)?wx.has(e):xP(e))||(r||Zi(t,"get",e),s)?a:ir(a)?o&&hy(e)?a:a.value:Rn(a)?r?Px(a):gc(a):a}}class xx extends Ax{constructor(t=!1){super(!1,t)}set(t,e,i,r){let s=t[e];if(!this._isShallow){const l=dl(s);if(!fs(i)&&!dl(i)&&(s=nn(s),i=nn(i)),!be(t)&&ir(s)&&!ir(i))return l||(s.value=i),!0}const o=be(t)&&hy(e)?Number(e)<t.length:hn(t,e),a=Reflect.set(t,e,i,ir(t)?t:r);return t===nn(r)&&(o?ol(i,s)&&Qo(t,"set",e,i):Qo(t,"add",e,i)),a}deleteProperty(t,e){const i=hn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&i&&Qo(t,"delete",e,void 0),r}has(t,e){const i=Reflect.has(t,e);return(!xo(e)||!wx.has(e))&&Zi(t,"has",e),i}ownKeys(t){return Zi(t,"iterate",be(t)?"length":cc),Reflect.ownKeys(t)}}class EP extends Ax{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const TP=new xx,IP=new EP,PP=new xx(!0);const t0=n=>n,Id=n=>Reflect.getPrototypeOf(n);function kP(n,t,e){return function(...i){const r=this.__v_raw,s=nn(r),o=iu(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=e?t0:t?Dp:Bi;return!t&&Zi(s,"iterate",l?Z1:cc),{next(){const{value:h,done:g}=c.next();return g?{value:h,done:g}:{value:a?[u(h[0]),u(h[1])]:u(h),done:g}},[Symbol.iterator](){return this}}}}function Pd(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function CP(n,t){const e={get(r){const s=this.__v_raw,o=nn(s),a=nn(r);n||(ol(r,a)&&Zi(o,"get",r),Zi(o,"get",a));const{has:l}=Id(o),c=t?t0:n?Dp:Bi;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!n&&Zi(nn(r),"iterate",cc),r.size},has(r){const s=this.__v_raw,o=nn(s),a=nn(r);return n||(ol(r,a)&&Zi(o,"has",r),Zi(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=nn(a),c=t?t0:n?Dp:Bi;return!n&&Zi(l,"iterate",cc),a.forEach((u,h)=>r.call(s,c(u),c(h),o))}};return sr(e,n?{add:Pd("add"),set:Pd("set"),delete:Pd("delete"),clear:Pd("clear")}:{add(r){!t&&!fs(r)&&!dl(r)&&(r=nn(r));const s=nn(this);return Id(s).has.call(s,r)||(s.add(r),Qo(s,"add",r,r)),this},set(r,s){!t&&!fs(s)&&!dl(s)&&(s=nn(s));const o=nn(this),{has:a,get:l}=Id(o);let c=a.call(o,r);c||(r=nn(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,s),c?ol(s,u)&&Qo(o,"set",r,s):Qo(o,"add",r,s),this},delete(r){const s=nn(this),{has:o,get:a}=Id(s);let l=o.call(s,r);l||(r=nn(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&Qo(s,"delete",r,void 0),c},clear(){const r=nn(this),s=r.size!==0,o=r.clear();return s&&Qo(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=kP(r,n,t)}),e}function vy(n,t){const e=CP(n,t);return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(hn(e,r)&&r in i?e:i,r,s)}const RP={get:vy(!1,!1)},NP={get:vy(!1,!0)},LP={get:vy(!0,!1)};const Sx=new WeakMap,Ex=new WeakMap,Tx=new WeakMap,OP=new WeakMap;function DP(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function MP(n){return n.__v_skip||!Object.isExtensible(n)?0:DP(aP(n))}function gc(n){return dl(n)?n:_y(n,!1,TP,RP,Sx)}function Ix(n){return _y(n,!1,PP,NP,Ex)}function Px(n){return _y(n,!0,IP,LP,Tx)}function _y(n,t,e,i,r){if(!Rn(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=MP(n);if(s===0)return n;const o=r.get(n);if(o)return o;const a=new Proxy(n,s===2?i:e);return r.set(n,a),a}function ru(n){return dl(n)?ru(n.__v_raw):!!(n&&n.__v_isReactive)}function dl(n){return!!(n&&n.__v_isReadonly)}function fs(n){return!!(n&&n.__v_isShallow)}function jf(n){return n?!!n.__v_raw:!1}function nn(n){const t=n&&n.__v_raw;return t?nn(t):n}function FP(n){return!hn(n,"__v_skip")&&Object.isExtensible(n)&&cx(n,"__v_skip",!0),n}const Bi=n=>Rn(n)?gc(n):n,Dp=n=>Rn(n)?Px(n):n;function ir(n){return n?n.__v_isRef===!0:!1}function Zt(n){return kx(n,!1)}function by(n){return kx(n,!0)}function kx(n,t){return ir(n)?n:new VP(n,t)}class VP{constructor(t,e){this.dep=new yy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:nn(t),this._value=e?t:Bi(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this.__v_isShallow||fs(t)||dl(t);t=i?t:nn(t),ol(t,e)&&(this._rawValue=t,this._value=i?t:Bi(t),this.dep.trigger())}}function Sr(n){return ir(n)?n.value:n}const BP={get:(n,t,e)=>t==="__v_raw"?n:Sr(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const r=n[t];return ir(r)&&!ir(e)?(r.value=e,!0):Reflect.set(n,t,e,i)}};function Cx(n){return ru(n)?n:new Proxy(n,BP)}class jP{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new yy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Pn!==this)return gx(this,!0),!0}get value(){const t=this.dep.track();return vx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function UP(n,t,e=!1){let i,r;return Oe(n)?i=n:(i=n.get,r=n.set),new jP(i,r,e)}const kd={},Mp=new WeakMap;let Ql;function qP(n,t=!1,e=Ql){if(e){let i=Mp.get(e);i||Mp.set(e,i=[]),i.push(n)}}function zP(n,t,e=Sn){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=e,c=D=>r?D:fs(D)||r===!1||r===0?Zo(D,1):Zo(D);let u,h,g,p,y=!1,b=!1;if(ir(n)?(h=()=>n.value,y=fs(n)):ru(n)?(h=()=>c(n),y=!0):be(n)?(b=!0,y=n.some(D=>ru(D)||fs(D)),h=()=>n.map(D=>{if(ir(D))return D.value;if(ru(D))return c(D);if(Oe(D))return l?l(D,2):D()})):Oe(n)?t?h=l?()=>l(n,2):n:h=()=>{if(g){oa();try{g()}finally{aa()}}const D=Ql;Ql=u;try{return l?l(n,3,[p]):n(p)}finally{Ql=D}}:h=po,t&&r){const D=h,W=r===!0?1/0:r;h=()=>Zo(D(),W)}const w=vP(),_=()=>{u.stop(),w&&w.active&&uy(w.effects,u)};if(s&&t){const D=t;t=(...W)=>{D(...W),_()}}let E=b?new Array(n.length).fill(kd):kd;const k=D=>{if(!(!(u.flags&1)||!u.dirty&&!D))if(t){const W=u.run();if(r||y||(b?W.some((it,L)=>ol(it,E[L])):ol(W,E))){g&&g();const it=Ql;Ql=u;try{const L=[W,E===kd?void 0:b&&E[0]===kd?[]:E,p];E=W,l?l(t,3,L):t(...L)}finally{Ql=it}}}else u.run()};return a&&a(k),u=new dx(h),u.scheduler=o?()=>o(k,!1):k,p=D=>qP(D,!1,u),g=u.onStop=()=>{const D=Mp.get(u);if(D){if(l)l(D,4);else for(const W of D)W();Mp.delete(u)}},t?i?k(!0):E=u.run():o?o(k.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Zo(n,t=1/0,e){if(t<=0||!Rn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,ir(n))Zo(n.value,t,e);else if(be(n))for(let i=0;i<n.length;i++)Zo(n[i],t,e);else if(Mu(n)||iu(n))n.forEach(i=>{Zo(i,t,e)});else if(lx(n)){for(const i in n)Zo(n[i],t,e);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&Zo(n[i],t,e)}return n}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uf(n,t,e,i){try{return i?n(...i):n()}catch(r){kg(r,t,e)}}function So(n,t,e,i){if(Oe(n)){const r=Uf(n,t,e,i);return r&&ox(r)&&r.catch(s=>{kg(s,t,e)}),r}if(be(n)){const r=[];for(let s=0;s<n.length;s++)r.push(So(n[s],t,e,i));return r}}function kg(n,t,e,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Sn;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,l,c)===!1)return}a=a.parent}if(s){oa(),Uf(s,null,10,[n,l,c]),aa();return}}HP(n,e,r,i,o)}function HP(n,t,e,i=!0,r=!1){if(r)throw n;console.error(n)}const pr=[];let lo=-1;const su=[];let $a=null,Wc=0;const Rx=Promise.resolve();let Fp=null;function qf(n){const t=Fp||Rx;return n?t.then(this?n.bind(this):n):t}function $P(n){let t=lo+1,e=pr.length;for(;t<e;){const i=t+e>>>1,r=pr[i],s=hf(r);s<n||s===n&&r.flags&2?t=i+1:e=i}return t}function wy(n){if(!(n.flags&1)){const t=hf(n),e=pr[pr.length-1];!e||!(n.flags&2)&&t>=hf(e)?pr.push(n):pr.splice($P(t),0,n),n.flags|=1,Nx()}}function Nx(){Fp||(Fp=Rx.then(Ox))}function WP(n){be(n)?su.push(...n):$a&&n.id===-1?$a.splice(Wc+1,0,n):n.flags&1||(su.push(n),n.flags|=1),Nx()}function Vv(n,t,e=lo+1){for(;e<pr.length;e++){const i=pr[e];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;pr.splice(e,1),e--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Lx(n){if(su.length){const t=[...new Set(su)].sort((e,i)=>hf(e)-hf(i));if(su.length=0,$a){$a.push(...t);return}for($a=t,Wc=0;Wc<$a.length;Wc++){const e=$a[Wc];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}$a=null,Wc=0}}const hf=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Ox(n){try{for(lo=0;lo<pr.length;lo++){const t=pr[lo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Uf(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;lo<pr.length;lo++){const t=pr[lo];t&&(t.flags&=-2)}lo=-1,pr.length=0,Lx(),Fp=null,(pr.length||su.length)&&Ox()}}let Yr=null,Dx=null;function Vp(n){const t=Yr;return Yr=n,Dx=n&&n.type.__scopeId||null,t}function Fi(n,t=Yr,e){if(!t||n._n)return n;const i=(...r)=>{i._d&&Kv(-1);const s=Vp(t);let o;try{o=n(...r)}finally{Vp(s),i._d&&Kv(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function rn(n,t){if(Yr===null)return n;const e=Og(Yr),i=n.dirs||(n.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Sn]=t[r];s&&(Oe(s)&&(s={mounted:s,updated:s}),s.deep&&Zo(o),i.push({dir:s,instance:e,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Gl(n,t,e,i){const r=n.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(oa(),So(l,e,8,[n.el,a,n,t]),aa())}}const GP=Symbol("_vte"),KP=n=>n.__isTeleport,YP=Symbol("_leaveCb");function Ay(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Ay(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Cg(n,t){return Oe(n)?sr({name:n.name},t,{setup:n}):n}function Mx(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function zh(n,t,e,i,r=!1){if(be(n)){n.forEach((y,b)=>zh(y,t&&(be(t)?t[b]:t),e,i,r));return}if(Hh(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&zh(n,t,e,i.component.subTree);return}const s=i.shapeFlag&4?Og(i.component):i.el,o=r?null:s,{i:a,r:l}=n,c=t&&t.r,u=a.refs===Sn?a.refs={}:a.refs,h=a.setupState,g=nn(h),p=h===Sn?sx:y=>hn(g,y);if(c!=null&&c!==l){if(yi(c))u[c]=null,p(c)&&(h[c]=null);else if(ir(c)){c.value=null;const y=t;y.k&&(u[y.k]=null)}}if(Oe(l))Uf(l,a,12,[o,u]);else{const y=yi(l),b=ir(l);if(y||b){const w=()=>{if(n.f){const _=y?p(l)?h[l]:u[l]:l.value;if(r)be(_)&&uy(_,s);else if(be(_))_.includes(s)||_.push(s);else if(y)u[l]=[s],p(l)&&(h[l]=u[l]);else{const E=[s];l.value=E,n.k&&(u[n.k]=E)}}else y?(u[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,n.k&&(u[n.k]=o))};o?(w.id=-1,Gr(w,e)):w()}}}Ig().requestIdleCallback;Ig().cancelIdleCallback;const Hh=n=>!!n.type.__asyncLoader,Fx=n=>n.type.__isKeepAlive;function JP(n,t){Vx(n,"a",t)}function XP(n,t){Vx(n,"da",t)}function Vx(n,t,e=er){const i=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Rg(t,i,e),e){let r=e.parent;for(;r&&r.parent;)Fx(r.parent.vnode)&&QP(i,t,e,r),r=r.parent}}function QP(n,t,e,i){const r=Rg(t,n,i,!0);Sy(()=>{uy(i[t],r)},e)}function Rg(n,t,e=er,i=!1){if(e){const r=e[n]||(e[n]=[]),s=t.__weh||(t.__weh=(...o)=>{oa();const a=zf(e),l=So(t,e,n,o);return a(),aa(),l});return i?r.unshift(s):r.push(s),s}}const ga=n=>(t,e=er)=>{(!df||n==="sp")&&Rg(n,(...i)=>t(...i),e)},ZP=ga("bm"),To=ga("m"),tk=ga("bu"),ek=ga("u"),xy=ga("bum"),Sy=ga("um"),nk=ga("sp"),ik=ga("rtg"),rk=ga("rtc");function sk(n,t=er){Rg("ec",n,t)}const ok="components";function Bp(n,t){return lk(ok,n,!0,t)||n}const ak=Symbol.for("v-ndc");function lk(n,t,e=!0,i=!1){const r=Yr||er;if(r){const s=r.type;{const a=Jk(s,!1);if(a&&(a===t||a===gs(t)||a===Tg(gs(t))))return s}const o=Bv(r[n]||s[n],t)||Bv(r.appContext[n],t);return!o&&i?s:o}}function Bv(n,t){return n&&(n[t]||n[gs(t)]||n[Tg(gs(t))])}function xl(n,t,e,i){let r;const s=e,o=be(n);if(o||yi(n)){const a=o&&ru(n);let l=!1,c=!1;a&&(l=!fs(n),c=dl(n),n=Pg(n)),r=new Array(n.length);for(let u=0,h=n.length;u<h;u++)r[u]=t(l?c?Dp(Bi(n[u])):Bi(n[u]):n[u],u,void 0,s)}else if(typeof n=="number"){r=new Array(n);for(let a=0;a<n;a++)r[a]=t(a+1,a,void 0,s)}else if(Rn(n))if(n[Symbol.iterator])r=Array.from(n,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(n);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(n[u],u,l,s)}}else r=[];return r}const e0=n=>n?sS(n)?Og(n):e0(n.parent):null,$h=sr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>e0(n.parent),$root:n=>e0(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>jx(n),$forceUpdate:n=>n.f||(n.f=()=>{wy(n.update)}),$nextTick:n=>n.n||(n.n=qf.bind(n.proxy)),$watch:n=>kk.bind(n)}),Hm=(n,t)=>n!==Sn&&!n.__isScriptSetup&&hn(n,t),ck={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return r[t];case 4:return e[t];case 3:return s[t]}else{if(Hm(i,t))return o[t]=1,i[t];if(r!==Sn&&hn(r,t))return o[t]=2,r[t];if((c=n.propsOptions[0])&&hn(c,t))return o[t]=3,s[t];if(e!==Sn&&hn(e,t))return o[t]=4,e[t];n0&&(o[t]=0)}}const u=$h[t];let h,g;if(u)return t==="$attrs"&&Zi(n.attrs,"get",""),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==Sn&&hn(e,t))return o[t]=4,e[t];if(g=l.config.globalProperties,hn(g,t))return g[t]},set({_:n},t,e){const{data:i,setupState:r,ctx:s}=n;return Hm(r,t)?(r[t]=e,!0):i!==Sn&&hn(i,t)?(i[t]=e,!0):hn(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(s[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:r,propsOptions:s,type:o}},a){let l,c;return!!(e[a]||n!==Sn&&a[0]!=="$"&&hn(n,a)||Hm(t,a)||(l=s[0])&&hn(l,a)||hn(i,a)||hn($h,a)||hn(r.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:hn(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function jv(n){return be(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let n0=!0;function uk(n){const t=jx(n),e=n.proxy,i=n.ctx;n0=!1,t.beforeCreate&&Uv(t.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:g,beforeUpdate:p,updated:y,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:E,destroyed:k,unmounted:D,render:W,renderTracked:it,renderTriggered:L,errorCaptured:T,serverPrefetch:P,expose:F,inheritAttrs:S,components:C,directives:N,filters:nt}=t;if(c&&hk(c,i,null),o)for(const mt in o){const at=o[mt];Oe(at)&&(i[mt]=at.bind(e))}if(r){const mt=r.call(e,e);Rn(mt)&&(n.data=gc(mt))}if(n0=!0,s)for(const mt in s){const at=s[mt],Et=Oe(at)?at.bind(e,e):Oe(at.get)?at.get.bind(e,e):po,jt=!Oe(at)&&Oe(at.set)?at.set.bind(e):po,kt=zn({get:Et,set:jt});Object.defineProperty(i,mt,{enumerable:!0,configurable:!0,get:()=>kt.value,set:V=>kt.value=V})}if(a)for(const mt in a)Bx(a[mt],i,e,mt);if(l){const mt=Oe(l)?l.call(e):l;Reflect.ownKeys(mt).forEach(at=>{ap(at,mt[at])})}u&&Uv(u,n,"c");function gt(mt,at){be(at)?at.forEach(Et=>mt(Et.bind(e))):at&&mt(at.bind(e))}if(gt(ZP,h),gt(To,g),gt(tk,p),gt(ek,y),gt(JP,b),gt(XP,w),gt(sk,T),gt(rk,it),gt(ik,L),gt(xy,E),gt(Sy,D),gt(nk,P),be(F))if(F.length){const mt=n.exposed||(n.exposed={});F.forEach(at=>{Object.defineProperty(mt,at,{get:()=>e[at],set:Et=>e[at]=Et,enumerable:!0})})}else n.exposed||(n.exposed={});W&&n.render===po&&(n.render=W),S!=null&&(n.inheritAttrs=S),C&&(n.components=C),N&&(n.directives=N),P&&Mx(n)}function hk(n,t,e=po){be(n)&&(n=i0(n));for(const i in n){const r=n[i];let s;Rn(r)?"default"in r?s=Rs(r.from||i,r.default,!0):s=Rs(r.from||i):s=Rs(r),ir(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Uv(n,t,e){So(be(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function Bx(n,t,e,i){let r=i.includes(".")?Zx(e,i):()=>e[i];if(yi(n)){const s=t[n];Oe(s)&&ds(r,s)}else if(Oe(n))ds(r,n.bind(e));else if(Rn(n))if(be(n))n.forEach(s=>Bx(s,t,e,i));else{const s=Oe(n.handler)?n.handler.bind(e):t[n.handler];Oe(s)&&ds(r,s,n)}}function jx(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!e&&!i?l=t:(l={},r.length&&r.forEach(c=>jp(l,c,o,!0)),jp(l,t,o)),Rn(t)&&s.set(t,l),l}function jp(n,t,e,i=!1){const{mixins:r,extends:s}=t;s&&jp(n,s,e,!0),r&&r.forEach(o=>jp(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=fk[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const fk={data:qv,props:zv,emits:zv,methods:Ch,computed:Ch,beforeCreate:dr,created:dr,beforeMount:dr,mounted:dr,beforeUpdate:dr,updated:dr,beforeDestroy:dr,beforeUnmount:dr,destroyed:dr,unmounted:dr,activated:dr,deactivated:dr,errorCaptured:dr,serverPrefetch:dr,components:Ch,directives:Ch,watch:pk,provide:qv,inject:dk};function qv(n,t){return t?n?function(){return sr(Oe(n)?n.call(this,this):n,Oe(t)?t.call(this,this):t)}:t:n}function dk(n,t){return Ch(i0(n),i0(t))}function i0(n){if(be(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function dr(n,t){return n?[...new Set([].concat(n,t))]:t}function Ch(n,t){return n?sr(Object.create(null),n,t):t}function zv(n,t){return n?be(n)&&be(t)?[...new Set([...n,...t])]:sr(Object.create(null),jv(n),jv(t??{})):t}function pk(n,t){if(!n)return t;if(!t)return n;const e=sr(Object.create(null),n);for(const i in t)e[i]=dr(n[i],t[i]);return e}function Ux(){return{app:null,config:{isNativeTag:sx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gk=0;function mk(n,t){return function(i,r=null){Oe(i)||(i=sr({},i)),r!=null&&!Rn(r)&&(r=null);const s=Ux(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:gk++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:aS,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&Oe(u.install)?(o.add(u),u.install(c,...h)):Oe(u)&&(o.add(u),u(c,...h))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,h){return h?(s.components[u]=h,c):s.components[u]},directive(u,h){return h?(s.directives[u]=h,c):s.directives[u]},mount(u,h,g){if(!l){const p=c._ceVNode||Xe(i,r);return p.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),n(p,u,g),l=!0,c._container=u,u.__vue_app__=c,Og(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(So(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return s.provides[u]=h,c},runWithContext(u){const h=ou;ou=c;try{return u()}finally{ou=h}}};return c}}let ou=null;function ap(n,t){if(er){let e=er.provides;const i=er.parent&&er.parent.provides;i===e&&(e=er.provides=Object.create(i)),e[n]=t}}function Rs(n,t,e=!1){const i=$k();if(i||ou){let r=ou?ou._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return e&&Oe(t)?t.call(i&&i.proxy):t}}const qx={},zx=()=>Object.create(qx),Hx=n=>Object.getPrototypeOf(n)===qx;function yk(n,t,e,i=!1){const r={},s=zx();n.propsDefaults=Object.create(null),$x(n,t,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);e?n.props=i?r:Ix(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function vk(n,t,e,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=nn(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let g=u[h];if(Ng(n.emitsOptions,g))continue;const p=t[g];if(l)if(hn(s,g))p!==s[g]&&(s[g]=p,c=!0);else{const y=gs(g);r[y]=r0(l,a,y,p,n,!1)}else p!==s[g]&&(s[g]=p,c=!0)}}}else{$x(n,t,r,s)&&(c=!0);let u;for(const h in a)(!t||!hn(t,h)&&((u=Tc(h))===h||!hn(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(r[h]=r0(l,a,h,void 0,n,!0)):delete r[h]);if(s!==a)for(const h in s)(!t||!hn(t,h))&&(delete s[h],c=!0)}c&&Qo(n.attrs,"set","")}function $x(n,t,e,i){const[r,s]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(jh(l))continue;const c=t[l];let u;r&&hn(r,u=gs(l))?!s||!s.includes(u)?e[u]=c:(a||(a={}))[u]=c:Ng(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=nn(e),c=a||Sn;for(let u=0;u<s.length;u++){const h=s[u];e[h]=r0(r,l,h,c[h],n,!hn(c,h))}}return o}function r0(n,t,e,i,r,s){const o=n[e];if(o!=null){const a=hn(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Oe(l)){const{propsDefaults:c}=r;if(e in c)i=c[e];else{const u=zf(r);i=c[e]=l.call(null,t),u()}}else i=l;r.ce&&r.ce._setProp(e,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Tc(e))&&(i=!0))}return i}const _k=new WeakMap;function Wx(n,t,e=!1){const i=e?_k:t.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!Oe(n)){const u=h=>{l=!0;const[g,p]=Wx(h,t,!0);sr(o,g),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return Rn(n)&&i.set(n,nu),nu;if(be(s))for(let u=0;u<s.length;u++){const h=gs(s[u]);Hv(h)&&(o[h]=Sn)}else if(s)for(const u in s){const h=gs(u);if(Hv(h)){const g=s[u],p=o[h]=be(g)||Oe(g)?{type:g}:sr({},g),y=p.type;let b=!1,w=!0;if(be(y))for(let _=0;_<y.length;++_){const E=y[_],k=Oe(E)&&E.name;if(k==="Boolean"){b=!0;break}else k==="String"&&(w=!1)}else b=Oe(y)&&y.name==="Boolean";p[0]=b,p[1]=w,(b||hn(p,"default"))&&a.push(h)}}const c=[o,a];return Rn(n)&&i.set(n,c),c}function Hv(n){return n[0]!=="$"&&!jh(n)}const Ey=n=>n==="_"||n==="_ctx"||n==="$stable",Ty=n=>be(n)?n.map(ho):[ho(n)],bk=(n,t,e)=>{if(t._n)return t;const i=Fi((...r)=>Ty(t(...r)),e);return i._c=!1,i},Gx=(n,t,e)=>{const i=n._ctx;for(const r in n){if(Ey(r))continue;const s=n[r];if(Oe(s))t[r]=bk(r,s,i);else if(s!=null){const o=Ty(s);t[r]=()=>o}}},Kx=(n,t)=>{const e=Ty(t);n.slots.default=()=>e},Yx=(n,t,e)=>{for(const i in t)(e||!Ey(i))&&(n[i]=t[i])},wk=(n,t,e)=>{const i=n.slots=zx();if(n.vnode.shapeFlag&32){const r=t._;r?(Yx(i,t,e),e&&cx(i,"_",r,!0)):Gx(t,i)}else t&&Kx(n,t)},Ak=(n,t,e)=>{const{vnode:i,slots:r}=n;let s=!0,o=Sn;if(i.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:Yx(r,t,e):(s=!t.$stable,Gx(t,r)),o=t}else t&&(Kx(n,t),o={default:1});if(s)for(const a in r)!Ey(a)&&o[a]==null&&delete r[a]},Gr=Mk;function xk(n){return Sk(n)}function Sk(n,t){const e=Ig();e.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:g,setScopeId:p=po,insertStaticContent:y}=n,b=(H,K,G,j=null,Tt=null,At=null,Ct=void 0,yt=null,It=!!K.dynamicChildren)=>{if(H===K)return;H&&!_h(H,K)&&(j=tt(H),V(H,Tt,At,!0),H=null),K.patchFlag===-2&&(It=!1,K.dynamicChildren=null);const{type:_t,ref:zt,shapeFlag:Rt}=K;switch(_t){case Lg:w(H,K,G,j);break;case pl:_(H,K,G,j);break;case lp:H==null&&E(K,G,j,Ct);break;case Ai:C(H,K,G,j,Tt,At,Ct,yt,It);break;default:Rt&1?W(H,K,G,j,Tt,At,Ct,yt,It):Rt&6?N(H,K,G,j,Tt,At,Ct,yt,It):(Rt&64||Rt&128)&&_t.process(H,K,G,j,Tt,At,Ct,yt,It,dt)}zt!=null&&Tt?zh(zt,H&&H.ref,At,K||H,!K):zt==null&&H&&H.ref!=null&&zh(H.ref,null,At,H,!0)},w=(H,K,G,j)=>{if(H==null)i(K.el=a(K.children),G,j);else{const Tt=K.el=H.el;K.children!==H.children&&c(Tt,K.children)}},_=(H,K,G,j)=>{H==null?i(K.el=l(K.children||""),G,j):K.el=H.el},E=(H,K,G,j)=>{[H.el,H.anchor]=y(H.children,K,G,j,H.el,H.anchor)},k=({el:H,anchor:K},G,j)=>{let Tt;for(;H&&H!==K;)Tt=g(H),i(H,G,j),H=Tt;i(K,G,j)},D=({el:H,anchor:K})=>{let G;for(;H&&H!==K;)G=g(H),r(H),H=G;r(K)},W=(H,K,G,j,Tt,At,Ct,yt,It)=>{K.type==="svg"?Ct="svg":K.type==="math"&&(Ct="mathml"),H==null?it(K,G,j,Tt,At,Ct,yt,It):P(H,K,Tt,At,Ct,yt,It)},it=(H,K,G,j,Tt,At,Ct,yt)=>{let It,_t;const{props:zt,shapeFlag:Rt,transition:Yt,dirs:$t}=H;if(It=H.el=o(H.type,At,zt&&zt.is,zt),Rt&8?u(It,H.children):Rt&16&&T(H.children,It,null,j,Tt,$m(H,At),Ct,yt),$t&&Gl(H,null,j,"created"),L(It,H,H.scopeId,Ct,j),zt){for(const ne in zt)ne!=="value"&&!jh(ne)&&s(It,ne,null,zt[ne],At,j);"value"in zt&&s(It,"value",null,zt.value,At),(_t=zt.onVnodeBeforeMount)&&no(_t,j,H)}$t&&Gl(H,null,j,"beforeMount");const Ht=Ek(Tt,Yt);Ht&&Yt.beforeEnter(It),i(It,K,G),((_t=zt&&zt.onVnodeMounted)||Ht||$t)&&Gr(()=>{_t&&no(_t,j,H),Ht&&Yt.enter(It),$t&&Gl(H,null,j,"mounted")},Tt)},L=(H,K,G,j,Tt)=>{if(G&&p(H,G),j)for(let At=0;At<j.length;At++)p(H,j[At]);if(Tt){let At=Tt.subTree;if(K===At||eS(At.type)&&(At.ssContent===K||At.ssFallback===K)){const Ct=Tt.vnode;L(H,Ct,Ct.scopeId,Ct.slotScopeIds,Tt.parent)}}},T=(H,K,G,j,Tt,At,Ct,yt,It=0)=>{for(let _t=It;_t<H.length;_t++){const zt=H[_t]=yt?Wa(H[_t]):ho(H[_t]);b(null,zt,K,G,j,Tt,At,Ct,yt)}},P=(H,K,G,j,Tt,At,Ct)=>{const yt=K.el=H.el;let{patchFlag:It,dynamicChildren:_t,dirs:zt}=K;It|=H.patchFlag&16;const Rt=H.props||Sn,Yt=K.props||Sn;let $t;if(G&&Kl(G,!1),($t=Yt.onVnodeBeforeUpdate)&&no($t,G,K,H),zt&&Gl(K,H,G,"beforeUpdate"),G&&Kl(G,!0),(Rt.innerHTML&&Yt.innerHTML==null||Rt.textContent&&Yt.textContent==null)&&u(yt,""),_t?F(H.dynamicChildren,_t,yt,G,j,$m(K,Tt),At):Ct||at(H,K,yt,null,G,j,$m(K,Tt),At,!1),It>0){if(It&16)S(yt,Rt,Yt,G,Tt);else if(It&2&&Rt.class!==Yt.class&&s(yt,"class",null,Yt.class,Tt),It&4&&s(yt,"style",Rt.style,Yt.style,Tt),It&8){const Ht=K.dynamicProps;for(let ne=0;ne<Ht.length;ne++){const Xt=Ht[ne],ee=Rt[Xt],oe=Yt[Xt];(oe!==ee||Xt==="value")&&s(yt,Xt,ee,oe,Tt,G)}}It&1&&H.children!==K.children&&u(yt,K.children)}else!Ct&&_t==null&&S(yt,Rt,Yt,G,Tt);(($t=Yt.onVnodeUpdated)||zt)&&Gr(()=>{$t&&no($t,G,K,H),zt&&Gl(K,H,G,"updated")},j)},F=(H,K,G,j,Tt,At,Ct)=>{for(let yt=0;yt<K.length;yt++){const It=H[yt],_t=K[yt],zt=It.el&&(It.type===Ai||!_h(It,_t)||It.shapeFlag&198)?h(It.el):G;b(It,_t,zt,null,j,Tt,At,Ct,!0)}},S=(H,K,G,j,Tt)=>{if(K!==G){if(K!==Sn)for(const At in K)!jh(At)&&!(At in G)&&s(H,At,K[At],null,Tt,j);for(const At in G){if(jh(At))continue;const Ct=G[At],yt=K[At];Ct!==yt&&At!=="value"&&s(H,At,yt,Ct,Tt,j)}"value"in G&&s(H,"value",K.value,G.value,Tt)}},C=(H,K,G,j,Tt,At,Ct,yt,It)=>{const _t=K.el=H?H.el:a(""),zt=K.anchor=H?H.anchor:a("");let{patchFlag:Rt,dynamicChildren:Yt,slotScopeIds:$t}=K;$t&&(yt=yt?yt.concat($t):$t),H==null?(i(_t,G,j),i(zt,G,j),T(K.children||[],G,zt,Tt,At,Ct,yt,It)):Rt>0&&Rt&64&&Yt&&H.dynamicChildren?(F(H.dynamicChildren,Yt,G,Tt,At,Ct,yt),(K.key!=null||Tt&&K===Tt.subTree)&&Jx(H,K,!0)):at(H,K,G,zt,Tt,At,Ct,yt,It)},N=(H,K,G,j,Tt,At,Ct,yt,It)=>{K.slotScopeIds=yt,H==null?K.shapeFlag&512?Tt.ctx.activate(K,G,j,Ct,It):nt(K,G,j,Tt,At,Ct,It):ft(H,K,It)},nt=(H,K,G,j,Tt,At,Ct)=>{const yt=H.component=Hk(H,j,Tt);if(Fx(H)&&(yt.ctx.renderer=dt),Wk(yt,!1,Ct),yt.asyncDep){if(Tt&&Tt.registerDep(yt,gt,Ct),!H.el){const It=yt.subTree=Xe(pl);_(null,It,K,G),H.placeholder=It.el}}else gt(yt,H,K,G,Tt,At,Ct)},ft=(H,K,G)=>{const j=K.component=H.component;if(Ok(H,K,G))if(j.asyncDep&&!j.asyncResolved){mt(j,K,G);return}else j.next=K,j.update();else K.el=H.el,j.vnode=K},gt=(H,K,G,j,Tt,At,Ct)=>{const yt=()=>{if(H.isMounted){let{next:Rt,bu:Yt,u:$t,parent:Ht,vnode:ne}=H;{const Ne=Xx(H);if(Ne){Rt&&(Rt.el=ne.el,mt(H,Rt,Ct)),Ne.asyncDep.then(()=>{H.isUnmounted||yt()});return}}let Xt=Rt,ee;Kl(H,!1),Rt?(Rt.el=ne.el,mt(H,Rt,Ct)):Rt=ne,Yt&&op(Yt),(ee=Rt.props&&Rt.props.onVnodeBeforeUpdate)&&no(ee,Ht,Rt,ne),Kl(H,!0);const oe=Wv(H),ie=H.subTree;H.subTree=oe,b(ie,oe,h(ie.el),tt(ie),H,Tt,At),Rt.el=oe.el,Xt===null&&Dk(H,oe.el),$t&&Gr($t,Tt),(ee=Rt.props&&Rt.props.onVnodeUpdated)&&Gr(()=>no(ee,Ht,Rt,ne),Tt)}else{let Rt;const{el:Yt,props:$t}=K,{bm:Ht,m:ne,parent:Xt,root:ee,type:oe}=H,ie=Hh(K);Kl(H,!1),Ht&&op(Ht),!ie&&(Rt=$t&&$t.onVnodeBeforeMount)&&no(Rt,Xt,K),Kl(H,!0);{ee.ce&&ee.ce._def.shadowRoot!==!1&&ee.ce._injectChildStyle(oe);const Ne=H.subTree=Wv(H);b(null,Ne,G,j,H,Tt,At),K.el=Ne.el}if(ne&&Gr(ne,Tt),!ie&&(Rt=$t&&$t.onVnodeMounted)){const Ne=K;Gr(()=>no(Rt,Xt,Ne),Tt)}(K.shapeFlag&256||Xt&&Hh(Xt.vnode)&&Xt.vnode.shapeFlag&256)&&H.a&&Gr(H.a,Tt),H.isMounted=!0,K=G=j=null}};H.scope.on();const It=H.effect=new dx(yt);H.scope.off();const _t=H.update=It.run.bind(It),zt=H.job=It.runIfDirty.bind(It);zt.i=H,zt.id=H.uid,It.scheduler=()=>wy(zt),Kl(H,!0),_t()},mt=(H,K,G)=>{K.component=H;const j=H.vnode.props;H.vnode=K,H.next=null,vk(H,K.props,j,G),Ak(H,K.children,G),oa(),Vv(H),aa()},at=(H,K,G,j,Tt,At,Ct,yt,It=!1)=>{const _t=H&&H.children,zt=H?H.shapeFlag:0,Rt=K.children,{patchFlag:Yt,shapeFlag:$t}=K;if(Yt>0){if(Yt&128){jt(_t,Rt,G,j,Tt,At,Ct,yt,It);return}else if(Yt&256){Et(_t,Rt,G,j,Tt,At,Ct,yt,It);return}}$t&8?(zt&16&&ct(_t,Tt,At),Rt!==_t&&u(G,Rt)):zt&16?$t&16?jt(_t,Rt,G,j,Tt,At,Ct,yt,It):ct(_t,Tt,At,!0):(zt&8&&u(G,""),$t&16&&T(Rt,G,j,Tt,At,Ct,yt,It))},Et=(H,K,G,j,Tt,At,Ct,yt,It)=>{H=H||nu,K=K||nu;const _t=H.length,zt=K.length,Rt=Math.min(_t,zt);let Yt;for(Yt=0;Yt<Rt;Yt++){const $t=K[Yt]=It?Wa(K[Yt]):ho(K[Yt]);b(H[Yt],$t,G,null,Tt,At,Ct,yt,It)}_t>zt?ct(H,Tt,At,!0,!1,Rt):T(K,G,j,Tt,At,Ct,yt,It,Rt)},jt=(H,K,G,j,Tt,At,Ct,yt,It)=>{let _t=0;const zt=K.length;let Rt=H.length-1,Yt=zt-1;for(;_t<=Rt&&_t<=Yt;){const $t=H[_t],Ht=K[_t]=It?Wa(K[_t]):ho(K[_t]);if(_h($t,Ht))b($t,Ht,G,null,Tt,At,Ct,yt,It);else break;_t++}for(;_t<=Rt&&_t<=Yt;){const $t=H[Rt],Ht=K[Yt]=It?Wa(K[Yt]):ho(K[Yt]);if(_h($t,Ht))b($t,Ht,G,null,Tt,At,Ct,yt,It);else break;Rt--,Yt--}if(_t>Rt){if(_t<=Yt){const $t=Yt+1,Ht=$t<zt?K[$t].el:j;for(;_t<=Yt;)b(null,K[_t]=It?Wa(K[_t]):ho(K[_t]),G,Ht,Tt,At,Ct,yt,It),_t++}}else if(_t>Yt)for(;_t<=Rt;)V(H[_t],Tt,At,!0),_t++;else{const $t=_t,Ht=_t,ne=new Map;for(_t=Ht;_t<=Yt;_t++){const he=K[_t]=It?Wa(K[_t]):ho(K[_t]);he.key!=null&&ne.set(he.key,_t)}let Xt,ee=0;const oe=Yt-Ht+1;let ie=!1,Ne=0;const Be=new Array(oe);for(_t=0;_t<oe;_t++)Be[_t]=0;for(_t=$t;_t<=Rt;_t++){const he=H[_t];if(ee>=oe){V(he,Tt,At,!0);continue}let je;if(he.key!=null)je=ne.get(he.key);else for(Xt=Ht;Xt<=Yt;Xt++)if(Be[Xt-Ht]===0&&_h(he,K[Xt])){je=Xt;break}je===void 0?V(he,Tt,At,!0):(Be[je-Ht]=_t+1,je>=Ne?Ne=je:ie=!0,b(he,K[je],G,null,Tt,At,Ct,yt,It),ee++)}const le=ie?Tk(Be):nu;for(Xt=le.length-1,_t=oe-1;_t>=0;_t--){const he=Ht+_t,je=K[he],me=K[he+1],De=he+1<zt?me.el||me.placeholder:j;Be[_t]===0?b(null,je,G,De,Tt,At,Ct,yt,It):ie&&(Xt<0||_t!==le[Xt]?kt(je,G,De,2):Xt--)}}},kt=(H,K,G,j,Tt=null)=>{const{el:At,type:Ct,transition:yt,children:It,shapeFlag:_t}=H;if(_t&6){kt(H.component.subTree,K,G,j);return}if(_t&128){H.suspense.move(K,G,j);return}if(_t&64){Ct.move(H,K,G,dt);return}if(Ct===Ai){i(At,K,G);for(let Rt=0;Rt<It.length;Rt++)kt(It[Rt],K,G,j);i(H.anchor,K,G);return}if(Ct===lp){k(H,K,G);return}if(j!==2&&_t&1&&yt)if(j===0)yt.beforeEnter(At),i(At,K,G),Gr(()=>yt.enter(At),Tt);else{const{leave:Rt,delayLeave:Yt,afterLeave:$t}=yt,Ht=()=>{H.ctx.isUnmounted?r(At):i(At,K,G)},ne=()=>{At._isLeaving&&At[YP](!0),Rt(At,()=>{Ht(),$t&&$t()})};Yt?Yt(At,Ht,ne):ne()}else i(At,K,G)},V=(H,K,G,j=!1,Tt=!1)=>{const{type:At,props:Ct,ref:yt,children:It,dynamicChildren:_t,shapeFlag:zt,patchFlag:Rt,dirs:Yt,cacheIndex:$t}=H;if(Rt===-2&&(Tt=!1),yt!=null&&(oa(),zh(yt,null,G,H,!0),aa()),$t!=null&&(K.renderCache[$t]=void 0),zt&256){K.ctx.deactivate(H);return}const Ht=zt&1&&Yt,ne=!Hh(H);let Xt;if(ne&&(Xt=Ct&&Ct.onVnodeBeforeUnmount)&&no(Xt,K,H),zt&6)st(H.component,G,j);else{if(zt&128){H.suspense.unmount(G,j);return}Ht&&Gl(H,null,K,"beforeUnmount"),zt&64?H.type.remove(H,K,G,dt,j):_t&&!_t.hasOnce&&(At!==Ai||Rt>0&&Rt&64)?ct(_t,K,G,!1,!0):(At===Ai&&Rt&384||!Tt&&zt&16)&&ct(It,K,G),j&&J(H)}(ne&&(Xt=Ct&&Ct.onVnodeUnmounted)||Ht)&&Gr(()=>{Xt&&no(Xt,K,H),Ht&&Gl(H,null,K,"unmounted")},G)},J=H=>{const{type:K,el:G,anchor:j,transition:Tt}=H;if(K===Ai){et(G,j);return}if(K===lp){D(H);return}const At=()=>{r(G),Tt&&!Tt.persisted&&Tt.afterLeave&&Tt.afterLeave()};if(H.shapeFlag&1&&Tt&&!Tt.persisted){const{leave:Ct,delayLeave:yt}=Tt,It=()=>Ct(G,At);yt?yt(H.el,At,It):It()}else At()},et=(H,K)=>{let G;for(;H!==K;)G=g(H),r(H),H=G;r(K)},st=(H,K,G)=>{const{bum:j,scope:Tt,job:At,subTree:Ct,um:yt,m:It,a:_t}=H;$v(It),$v(_t),j&&op(j),Tt.stop(),At&&(At.flags|=8,V(Ct,H,K,G)),yt&&Gr(yt,K),Gr(()=>{H.isUnmounted=!0},K)},ct=(H,K,G,j=!1,Tt=!1,At=0)=>{for(let Ct=At;Ct<H.length;Ct++)V(H[Ct],K,G,j,Tt)},tt=H=>{if(H.shapeFlag&6)return tt(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const K=g(H.anchor||H.el),G=K&&K[GP];return G?g(G):K};let lt=!1;const ot=(H,K,G)=>{H==null?K._vnode&&V(K._vnode,null,null,!0):b(K._vnode||null,H,K,null,null,null,G),K._vnode=H,lt||(lt=!0,Vv(),Lx(),lt=!1)},dt={p:b,um:V,m:kt,r:J,mt:nt,mc:T,pc:at,pbc:F,n:tt,o:n};return{render:ot,hydrate:void 0,createApp:mk(ot)}}function $m({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function Kl({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Ek(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Jx(n,t,e=!1){const i=n.children,r=t.children;if(be(i)&&be(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Wa(r[s]),a.el=o.el),!e&&a.patchFlag!==-2&&Jx(o,a)),a.type===Lg&&a.patchFlag!==-1&&(a.el=o.el),a.type===pl&&!a.el&&(a.el=o.el)}}function Tk(n){const t=n.slice(),e=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=e[e.length-1],n[r]<c){t[i]=r,e.push(i);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,n[e[a]]<c?s=a+1:o=a;c<n[e[s]]&&(s>0&&(t[i]=e[s-1]),e[s]=i)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}function Xx(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xx(t)}function $v(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Ik=Symbol.for("v-scx"),Pk=()=>Rs(Ik);function ds(n,t,e){return Qx(n,t,e)}function Qx(n,t,e=Sn){const{immediate:i,deep:r,flush:s,once:o}=e,a=sr({},e),l=t&&i||!t&&s!=="post";let c;if(df){if(s==="sync"){const p=Pk();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=po,p.resume=po,p.pause=po,p}}const u=er;a.call=(p,y,b)=>So(p,u,y,b);let h=!1;s==="post"?a.scheduler=p=>{Gr(p,u&&u.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,y)=>{y?p():wy(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const g=zP(n,t,a);return df&&(c?c.push(g):l&&g()),g}function kk(n,t,e){const i=this.proxy,r=yi(n)?n.includes(".")?Zx(i,n):()=>i[n]:n.bind(i,i);let s;Oe(t)?s=t:(s=t.handler,e=t);const o=zf(this),a=Qx(r,s.bind(i),e);return o(),a}function Zx(n,t){const e=t.split(".");return()=>{let i=n;for(let r=0;r<e.length&&i;r++)i=i[e[r]];return i}}const Ck=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${gs(t)}Modifiers`]||n[`${Tc(t)}Modifiers`];function Rk(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||Sn;let r=e;const s=t.startsWith("update:"),o=s&&Ck(i,t.slice(7));o&&(o.trim&&(r=e.map(u=>yi(u)?u.trim():u)),o.number&&(r=e.map(Op)));let a,l=i[a=Bm(t)]||i[a=Bm(gs(t))];!l&&s&&(l=i[a=Bm(Tc(t))]),l&&So(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,So(c,n,6,r)}}function tS(n,t,e=!1){const i=t.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!Oe(n)){const l=c=>{const u=tS(c,t,!0);u&&(a=!0,sr(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(Rn(n)&&i.set(n,null),null):(be(s)?s.forEach(l=>o[l]=null):sr(o,s),Rn(n)&&i.set(n,o),o)}function Ng(n,t){return!n||!Sg(t)?!1:(t=t.slice(2).replace(/Once$/,""),hn(n,t[0].toLowerCase()+t.slice(1))||hn(n,Tc(t))||hn(n,t))}function Wv(n){const{type:t,vnode:e,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:g,setupState:p,ctx:y,inheritAttrs:b}=n,w=Vp(n);let _,E;try{if(e.shapeFlag&4){const D=r||i,W=D;_=ho(c.call(W,D,u,h,p,g,y)),E=a}else{const D=t;_=ho(D.length>1?D(h,{attrs:a,slots:o,emit:l}):D(h,null)),E=t.props?a:Nk(a)}}catch(D){Wh.length=0,kg(D,n,1),_=Xe(pl)}let k=_;if(E&&b!==!1){const D=Object.keys(E),{shapeFlag:W}=k;D.length&&W&7&&(s&&D.some(cy)&&(E=Lk(E,s)),k=_u(k,E,!1,!0))}return e.dirs&&(k=_u(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(e.dirs):e.dirs),e.transition&&Ay(k,e.transition),_=k,Vp(w),_}const Nk=n=>{let t;for(const e in n)(e==="class"||e==="style"||Sg(e))&&((t||(t={}))[e]=n[e]);return t},Lk=(n,t)=>{const e={};for(const i in n)(!cy(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function Ok(n,t,e){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return i?Gv(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const g=u[h];if(o[g]!==i[g]&&!Ng(c,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Gv(i,o,c):!0:!!o;return!1}function Gv(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==n[s]&&!Ng(e,s))return!0}return!1}function Dk({vnode:n,parent:t},e){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=t.vnode).el=e,t=t.parent;else break}}const eS=n=>n.__isSuspense;function Mk(n,t){t&&t.pendingBranch?be(n)?t.effects.push(...n):t.effects.push(n):WP(n)}const Ai=Symbol.for("v-fgt"),Lg=Symbol.for("v-txt"),pl=Symbol.for("v-cmt"),lp=Symbol.for("v-stc"),Wh=[];let Jr=null;function Wt(n=!1){Wh.push(Jr=n?null:[])}function Fk(){Wh.pop(),Jr=Wh[Wh.length-1]||null}let ff=1;function Kv(n,t=!1){ff+=n,n<0&&Jr&&t&&(Jr.hasOnce=!0)}function nS(n){return n.dynamicChildren=ff>0?Jr||nu:null,Fk(),ff>0&&Jr&&Jr.push(n),n}function Kt(n,t,e,i,r,s){return nS(Y(n,t,e,i,r,s,!0))}function iS(n,t,e,i,r){return nS(Xe(n,t,e,i,r,!0))}function Up(n){return n?n.__v_isVNode===!0:!1}function _h(n,t){return n.type===t.type&&n.key===t.key}const rS=({key:n})=>n??null,cp=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?yi(n)||ir(n)||Oe(n)?{i:Yr,r:n,k:t,f:!!e}:n:null);function Y(n,t=null,e=null,i=0,r=null,s=n===Ai?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&rS(t),ref:t&&cp(t),scopeId:Dx,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Yr};return a?(Iy(l,e),s&128&&n.normalize(l)):e&&(l.shapeFlag|=yi(e)?8:16),ff>0&&!o&&Jr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Jr.push(l),l}const Xe=Vk;function Vk(n,t=null,e=null,i=0,r=null,s=!1){if((!n||n===ak)&&(n=pl),Up(n)){const a=_u(n,t,!0);return e&&Iy(a,e),ff>0&&!s&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(n)]=a:Jr.push(a)),a.patchFlag=-2,a}if(Xk(n)&&(n=n.__vccOpts),t){t=Bk(t);let{class:a,style:l}=t;a&&!yi(a)&&(t.class=Fu(a)),Rn(l)&&(jf(l)&&!be(l)&&(l=sr({},l)),t.style=fy(l))}const o=yi(n)?1:eS(n)?128:KP(n)?64:Rn(n)?4:Oe(n)?2:0;return Y(n,t,e,i,r,o,s,!0)}function Bk(n){return n?jf(n)||Hx(n)?sr({},n):n:null}function _u(n,t,e=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=n,c=t?Uk(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&rS(c),ref:t&&t.ref?e&&s?be(s)?s.concat(cp(t)):[s,cp(t)]:cp(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Ai?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&_u(n.ssContent),ssFallback:n.ssFallback&&_u(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&Ay(u,l.clone(u)),u}function sn(n=" ",t=0){return Xe(Lg,null,n,t)}function jk(n,t){const e=Xe(lp,null,n);return e.staticCount=t,e}function ke(n="",t=!1){return t?(Wt(),iS(pl,null,n)):Xe(pl,null,n)}function ho(n){return n==null||typeof n=="boolean"?Xe(pl):be(n)?Xe(Ai,null,n.slice()):Up(n)?Wa(n):Xe(Lg,null,String(n))}function Wa(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:_u(n)}function Iy(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(be(t))e=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Iy(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!Hx(t)?t._ctx=Yr:r===3&&Yr&&(Yr.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Oe(t)?(t={default:t,_ctx:Yr},e=32):(t=String(t),i&64?(e=16,t=[sn(t)]):e=8);n.children=t,n.shapeFlag|=e}function Uk(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Fu([t.class,i.class]));else if(r==="style")t.style=fy([t.style,i.style]);else if(Sg(r)){const s=t[r],o=i[r];o&&s!==o&&!(be(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function no(n,t,e,i=null){So(n,t,7,[e,i])}const qk=Ux();let zk=0;function Hk(n,t,e){const i=n.type,r=(t?t.appContext:n.appContext)||qk,s={uid:zk++,vnode:n,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wx(i,r),emitsOptions:tS(i,r),emit:null,emitted:null,propsDefaults:Sn,inheritAttrs:i.inheritAttrs,ctx:Sn,data:Sn,props:Sn,attrs:Sn,slots:Sn,refs:Sn,setupState:Sn,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Rk.bind(null,s),n.ce&&n.ce(s),s}let er=null;const $k=()=>er||Yr;let qp,s0;{const n=Ig(),t=(e,i)=>{let r;return(r=n[e])||(r=n[e]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};qp=t("__VUE_INSTANCE_SETTERS__",e=>er=e),s0=t("__VUE_SSR_SETTERS__",e=>df=e)}const zf=n=>{const t=er;return qp(n),n.scope.on(),()=>{n.scope.off(),qp(t)}},Yv=()=>{er&&er.scope.off(),qp(null)};function sS(n){return n.vnode.shapeFlag&4}let df=!1;function Wk(n,t=!1,e=!1){t&&s0(t);const{props:i,children:r}=n.vnode,s=sS(n);yk(n,i,s,t),wk(n,r,e||t);const o=s?Gk(n,t):void 0;return t&&s0(!1),o}function Gk(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,ck);const{setup:i}=e;if(i){oa();const r=n.setupContext=i.length>1?Yk(n):null,s=zf(n),o=Uf(i,n,0,[n.props,r]),a=ox(o);if(aa(),s(),(a||n.sp)&&!Hh(n)&&Mx(n),a){if(o.then(Yv,Yv),t)return o.then(l=>{Jv(n,l)}).catch(l=>{kg(l,n,0)});n.asyncDep=o}else Jv(n,o)}else oS(n)}function Jv(n,t,e){Oe(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Rn(t)&&(n.setupState=Cx(t)),oS(n)}function oS(n,t,e){const i=n.type;n.render||(n.render=i.render||po);{const r=zf(n);oa();try{uk(n)}finally{aa(),r()}}}const Kk={get(n,t){return Zi(n,"get",""),n[t]}};function Yk(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,Kk),slots:n.slots,emit:n.emit,expose:t}}function Og(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Cx(FP(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in $h)return $h[e](n)},has(t,e){return e in t||e in $h}})):n.proxy}function Jk(n,t=!0){return Oe(n)?n.displayName||n.name:n.name||t&&n.__name}function Xk(n){return Oe(n)&&"__vccOpts"in n}const zn=(n,t)=>UP(n,t,df);function pf(n,t,e){const i=arguments.length;return i===2?Rn(t)&&!be(t)?Up(t)?Xe(n,null,[t]):Xe(n,t):Xe(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Up(e)&&(e=[e]),Xe(n,t,e))}const aS="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let o0;const Xv=typeof window<"u"&&window.trustedTypes;if(Xv)try{o0=Xv.createPolicy("vue",{createHTML:n=>n})}catch{}const lS=o0?n=>o0.createHTML(n):n=>n,Qk="http://www.w3.org/2000/svg",Zk="http://www.w3.org/1998/Math/MathML",Yo=typeof document<"u"?document:null,Qv=Yo&&Yo.createElement("template"),tC={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const r=t==="svg"?Yo.createElementNS(Qk,n):t==="mathml"?Yo.createElementNS(Zk,n):e?Yo.createElement(n,{is:e}):Yo.createElement(n);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Yo.createTextNode(n),createComment:n=>Yo.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Yo.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,r,s){const o=e?e.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{Qv.innerHTML=lS(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=Qv.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},eC=Symbol("_vtc");function nC(n,t,e){const i=n[eC];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const zp=Symbol("_vod"),cS=Symbol("_vsh"),uK={name:"show",beforeMount(n,{value:t},{transition:e}){n[zp]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):bh(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),bh(n,!0),i.enter(n)):i.leave(n,()=>{bh(n,!1)}):bh(n,t))},beforeUnmount(n,{value:t}){bh(n,t)}};function bh(n,t){n.style.display=t?n[zp]:"none",n[cS]=!t}const iC=Symbol(""),rC=/(^|;)\s*display\s*:/;function sC(n,t,e){const i=n.style,r=yi(e);let s=!1;if(e&&!r){if(t)if(yi(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&up(i,a,"")}else for(const o in t)e[o]==null&&up(i,o,"");for(const o in e)o==="display"&&(s=!0),up(i,o,e[o])}else if(r){if(t!==e){const o=i[iC];o&&(e+=";"+o),i.cssText=e,s=rC.test(e)}}else t&&n.removeAttribute("style");zp in n&&(n[zp]=s?i.display:"",n[cS]&&(i.display="none"))}const Zv=/\s*!important$/;function up(n,t,e){if(be(e))e.forEach(i=>up(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=oC(n,t);Zv.test(e)?n.setProperty(Tc(i),e.replace(Zv,""),"important"):n[i]=e}}const t_=["Webkit","Moz","ms"],Wm={};function oC(n,t){const e=Wm[t];if(e)return e;let i=gs(t);if(i!=="filter"&&i in n)return Wm[t]=i;i=Tg(i);for(let r=0;r<t_.length;r++){const s=t_[r]+i;if(s in n)return Wm[t]=s}return t}const e_="http://www.w3.org/1999/xlink";function n_(n,t,e,i,r,s=gP(t)){i&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(e_,t.slice(6,t.length)):n.setAttributeNS(e_,t,e):e==null||s&&!ux(e)?n.removeAttribute(t):n.setAttribute(t,s?"":xo(e)?String(e):e)}function i_(n,t,e,i,r){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?lS(e):e);return}const s=n.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(a!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=ux(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(r||t)}function Ka(n,t,e,i){n.addEventListener(t,e,i)}function aC(n,t,e,i){n.removeEventListener(t,e,i)}const r_=Symbol("_vei");function lC(n,t,e,i,r=null){const s=n[r_]||(n[r_]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=cC(t);if(i){const c=s[t]=fC(i,r);Ka(n,a,c,l)}else o&&(aC(n,a,o,l),s[t]=void 0)}}const s_=/(?:Once|Passive|Capture)$/;function cC(n){let t;if(s_.test(n)){t={};let i;for(;i=n.match(s_);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Tc(n.slice(2)),t]}let Gm=0;const uC=Promise.resolve(),hC=()=>Gm||(uC.then(()=>Gm=0),Gm=Date.now());function fC(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;So(dC(i,e.value),t,5,[i])};return e.value=n,e.attached=hC(),e}function dC(n,t){if(be(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const o_=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,pC=(n,t,e,i,r,s)=>{const o=r==="svg";t==="class"?nC(n,i,o):t==="style"?sC(n,e,i):Sg(t)?cy(t)||lC(n,t,e,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gC(n,t,i,o))?(i_(n,t,i),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&n_(n,t,i,o,s,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!yi(i))?i_(n,gs(t),i,s,t):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),n_(n,t,i,o))};function gC(n,t,e,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in n&&o_(t)&&Oe(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return o_(t)&&yi(e)?!1:t in n}const bu=n=>{const t=n.props["onUpdate:modelValue"]||!1;return be(t)?e=>op(t,e):t};function mC(n){n.target.composing=!0}function a_(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ia=Symbol("_assign"),Cn={created(n,{modifiers:{lazy:t,trim:e,number:i}},r){n[ia]=bu(r);const s=i||r.props&&r.props.type==="number";Ka(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),s&&(a=Op(a)),n[ia](a)}),e&&Ka(n,"change",()=>{n.value=n.value.trim()}),t||(Ka(n,"compositionstart",mC),Ka(n,"compositionend",a_),Ka(n,"change",a_))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:i,trim:r,number:s}},o){if(n[ia]=bu(o),n.composing)return;const a=(s||n.type==="number")&&!/^0\d/.test(n.value)?Op(n.value):n.value,l=t??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(i&&t===e||r&&n.value.trim()===l)||(n.value=l))}},yC={deep:!0,created(n,t,e){n[ia]=bu(e),Ka(n,"change",()=>{const i=n._modelValue,r=gf(n),s=n.checked,o=n[ia];if(be(i)){const a=dy(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Mu(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(uS(n,s))})},mounted:l_,beforeUpdate(n,t,e){n[ia]=bu(e),l_(n,t,e)}};function l_(n,{value:t,oldValue:e},i){n._modelValue=t;let r;if(be(t))r=dy(t,i.props.value)>-1;else if(Mu(t))r=t.has(i.props.value);else{if(t===e)return;r=Bf(t,uS(n,!0))}n.checked!==r&&(n.checked=r)}const wu={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const r=Mu(t);Ka(n,"change",()=>{const s=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>e?Op(gf(o)):gf(o));n[ia](n.multiple?r?new Set(s):s:s[0]),n._assigning=!0,qf(()=>{n._assigning=!1})}),n[ia]=bu(i)},mounted(n,{value:t}){c_(n,t)},beforeUpdate(n,t,e){n[ia]=bu(e)},updated(n,{value:t}){n._assigning||c_(n,t)}};function c_(n,t){const e=n.multiple,i=be(t);if(!(e&&!i&&!Mu(t))){for(let r=0,s=n.options.length;r<s;r++){const o=n.options[r],a=gf(o);if(e)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=dy(t,a)>-1}else o.selected=t.has(a);else if(Bf(gf(o),t)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function gf(n){return"_value"in n?n._value:n.value}function uS(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const vC=["ctrl","shift","alt","meta"],_C={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>vC.some(e=>n[`${e}Key`]&&!t.includes(e))},Vu=(n,t)=>{const e=n._withMods||(n._withMods={}),i=t.join(".");return e[i]||(e[i]=((r,...s)=>{for(let o=0;o<t.length;o++){const a=_C[t[o]];if(a&&a(r,t))return}return n(r,...s)}))},bC=sr({patchProp:pC},tC);let u_;function wC(){return u_||(u_=xk(bC))}const AC=((...n)=>{const t=wC().createApp(...n),{mount:e}=t;return t.mount=i=>{const r=SC(i);if(!r)return;const s=t._component;!Oe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=e(r,!1,xC(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t});function xC(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function SC(n){return yi(n)?document.querySelector(n):n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Gc=typeof document<"u";function hS(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function EC(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&hS(n.default)}const un=Object.assign;function Km(n,t){const e={};for(const i in t){const r=t[i];e[i]=Ns(r)?r.map(n):n(r)}return e}const Gh=()=>{},Ns=Array.isArray,fS=/#/g,TC=/&/g,IC=/\//g,PC=/=/g,kC=/\?/g,dS=/\+/g,CC=/%5B/g,RC=/%5D/g,pS=/%5E/g,NC=/%60/g,gS=/%7B/g,LC=/%7C/g,mS=/%7D/g,OC=/%20/g;function Py(n){return encodeURI(""+n).replace(LC,"|").replace(CC,"[").replace(RC,"]")}function DC(n){return Py(n).replace(gS,"{").replace(mS,"}").replace(pS,"^")}function a0(n){return Py(n).replace(dS,"%2B").replace(OC,"+").replace(fS,"%23").replace(TC,"%26").replace(NC,"`").replace(gS,"{").replace(mS,"}").replace(pS,"^")}function MC(n){return a0(n).replace(PC,"%3D")}function FC(n){return Py(n).replace(fS,"%23").replace(kC,"%3F")}function VC(n){return n==null?"":FC(n).replace(IC,"%2F")}function mf(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const BC=/\/$/,jC=n=>n.replace(BC,"");function Ym(n,t,e="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=n(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=HC(i??t,e),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:mf(o)}}function UC(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function h_(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function qC(n,t,e){const i=t.matched.length-1,r=e.matched.length-1;return i>-1&&i===r&&Au(t.matched[i],e.matched[r])&&yS(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Au(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function yS(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!zC(n[e],t[e]))return!1;return!0}function zC(n,t){return Ns(n)?f_(n,t):Ns(t)?f_(t,n):n===t}function f_(n,t){return Ns(t)?n.length===t.length&&n.every((e,i)=>e===t[i]):n.length===1&&n[0]===t}function HC(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),i=n.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=e.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return e.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const ja={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yf;(function(n){n.pop="pop",n.push="push"})(yf||(yf={}));var Kh;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Kh||(Kh={}));function $C(n){if(!n)if(Gc){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),jC(n)}const WC=/^[^#]+#/;function GC(n,t){return n.replace(WC,"#")+t}function KC(n,t){const e=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:t.behavior,left:i.left-e.left-(t.left||0),top:i.top-e.top-(t.top||0)}}const Dg=()=>({left:window.scrollX,top:window.scrollY});function YC(n){let t;if("el"in n){const e=n.el,i=typeof e=="string"&&e.startsWith("#"),r=typeof e=="string"?i?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!r)return;t=KC(r,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function d_(n,t){return(history.state?history.state.position-t:-1)+n}const l0=new Map;function JC(n,t){l0.set(n,t)}function XC(n){const t=l0.get(n);return l0.delete(n),t}let QC=()=>location.protocol+"//"+location.host;function vS(n,t){const{pathname:e,search:i,hash:r}=t,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),h_(l,"")}return h_(e,n)+i+r}function ZC(n,t,e,i){let r=[],s=[],o=null;const a=({state:g})=>{const p=vS(n,location),y=e.value,b=t.value;let w=0;if(g){if(e.value=p,t.value=g,o&&o===y){o=null;return}w=b?g.position-b.position:0}else i(p);r.forEach(_=>{_(e.value,y,{delta:w,type:yf.pop,direction:w?w>0?Kh.forward:Kh.back:Kh.unknown})})};function l(){o=e.value}function c(g){r.push(g);const p=()=>{const y=r.indexOf(g);y>-1&&r.splice(y,1)};return s.push(p),p}function u(){const{history:g}=window;g.state&&g.replaceState(un({},g.state,{scroll:Dg()}),"")}function h(){for(const g of s)g();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function p_(n,t,e,i=!1,r=!1){return{back:n,current:t,forward:e,replaced:i,position:window.history.length,scroll:r?Dg():null}}function t6(n){const{history:t,location:e}=window,i={value:vS(n,e)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=n.indexOf("#"),g=h>-1?(e.host&&document.querySelector("base")?n:n.slice(h))+l:QC()+n+l;try{t[u?"replaceState":"pushState"](c,"",g),r.value=c}catch(p){console.error(p),e[u?"replace":"assign"](g)}}function o(l,c){const u=un({},t.state,p_(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=un({},r.value,t.state,{forward:l,scroll:Dg()});s(u.current,u,!0);const h=un({},p_(i.value,l,null),{position:u.position+1},c);s(l,h,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function e6(n){n=$C(n);const t=t6(n),e=ZC(n,t.state,t.location,t.replace);function i(s,o=!0){o||e.pauseListeners(),history.go(s)}const r=un({location:"",base:n,go:i,createHref:GC.bind(null,n)},t,e);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function n6(n){return typeof n=="string"||n&&typeof n=="object"}function _S(n){return typeof n=="string"||typeof n=="symbol"}const bS=Symbol("");var g_;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(g_||(g_={}));function xu(n,t){return un(new Error,{type:n,[bS]:!0},t)}function zo(n,t){return n instanceof Error&&bS in n&&(t==null||!!(n.type&t))}const m_="[^/]+?",i6={sensitive:!1,strict:!1,start:!0,end:!0},r6=/[.+*?^${}()[\]/\\]/g;function s6(n,t){const e=un({},i6,t),i=[];let r=e.start?"^":"";const s=[];for(const c of n){const u=c.length?[]:[90];e.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const g=c[h];let p=40+(e.sensitive?.25:0);if(g.type===0)h||(r+="/"),r+=g.value.replace(r6,"\\$&"),p+=40;else if(g.type===1){const{value:y,repeatable:b,optional:w,regexp:_}=g;s.push({name:y,repeatable:b,optional:w});const E=_||m_;if(E!==m_){p+=10;try{new RegExp(`(${E})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${y}" (${E}): `+D.message)}}let k=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;h||(k=w&&c.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),r+=k,p+=20,w&&(p+=-8),b&&(p+=-20),E===".*"&&(p+=-50)}u.push(p)}i.push(u)}if(e.strict&&e.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}e.strict||(r+="/?"),e.end?r+="$":e.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,e.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let g=1;g<u.length;g++){const p=u[g]||"",y=s[g-1];h[y.name]=p&&y.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const g of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of g)if(p.type===0)u+=p.value;else if(p.type===1){const{value:y,repeatable:b,optional:w}=p,_=y in c?c[y]:"";if(Ns(_)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const E=Ns(_)?_.join("/"):_;if(!E)if(w)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=E}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function o6(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=t[e]-n[e];if(i)return i;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function wS(n,t){let e=0;const i=n.score,r=t.score;for(;e<i.length&&e<r.length;){const s=o6(i[e],r[e]);if(s)return s;e++}if(Math.abs(r.length-i.length)===1){if(y_(i))return 1;if(y_(r))return-1}return r.length-i.length}function y_(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const a6={type:0,value:""},l6=/[a-zA-Z0-9_]/;function c6(n){if(!n)return[[]];if(n==="/")return[[a6]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,i=e;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function h(){c&&(e===0?s.push({type:0,value:c}):e===1||e===2||e===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function g(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&e!==2){i=e,e=4;continue}switch(e){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),e=1):g();break;case 4:g(),e=i;break;case 1:l==="("?e=2:l6.test(l)?g():(h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:e=3:u+=l;break;case 3:h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function u6(n,t,e){const i=s6(c6(n.path),e),r=un(i,{record:n,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function h6(n,t){const e=[],i=new Map;t=w_({strict:!1,end:!0,sensitive:!1},t);function r(h){return i.get(h)}function s(h,g,p){const y=!p,b=__(h);b.aliasOf=p&&p.record;const w=w_(t,h),_=[b];if("alias"in h){const D=typeof h.alias=="string"?[h.alias]:h.alias;for(const W of D)_.push(__(un({},b,{components:p?p.record.components:b.components,path:W,aliasOf:p?p.record:b})))}let E,k;for(const D of _){const{path:W}=D;if(g&&W[0]!=="/"){const it=g.record.path,L=it[it.length-1]==="/"?"":"/";D.path=g.record.path+(W&&L+W)}if(E=u6(D,g,w),p?p.alias.push(E):(k=k||E,k!==E&&k.alias.push(E),y&&h.name&&!b_(E)&&o(h.name)),AS(E)&&l(E),b.children){const it=b.children;for(let L=0;L<it.length;L++)s(it[L],E,p&&p.children[L])}p=p||E}return k?()=>{o(k)}:Gh}function o(h){if(_S(h)){const g=i.get(h);g&&(i.delete(h),e.splice(e.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=e.indexOf(h);g>-1&&(e.splice(g,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return e}function l(h){const g=p6(h,e);e.splice(g,0,h),h.record.name&&!b_(h)&&i.set(h.record.name,h)}function c(h,g){let p,y={},b,w;if("name"in h&&h.name){if(p=i.get(h.name),!p)throw xu(1,{location:h});w=p.record.name,y=un(v_(g.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),h.params&&v_(h.params,p.keys.map(k=>k.name))),b=p.stringify(y)}else if(h.path!=null)b=h.path,p=e.find(k=>k.re.test(b)),p&&(y=p.parse(b),w=p.record.name);else{if(p=g.name?i.get(g.name):e.find(k=>k.re.test(g.path)),!p)throw xu(1,{location:h,currentLocation:g});w=p.record.name,y=un({},g.params,h.params),b=p.stringify(y)}const _=[];let E=p;for(;E;)_.unshift(E.record),E=E.parent;return{name:w,path:b,params:y,matched:_,meta:d6(_)}}n.forEach(h=>s(h));function u(){e.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function v_(n,t){const e={};for(const i of t)i in n&&(e[i]=n[i]);return e}function __(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:f6(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function f6(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const i in n.components)t[i]=typeof e=="object"?e[i]:e;return t}function b_(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function d6(n){return n.reduce((t,e)=>un(t,e.meta),{})}function w_(n,t){const e={};for(const i in n)e[i]=i in t?t[i]:n[i];return e}function p6(n,t){let e=0,i=t.length;for(;e!==i;){const s=e+i>>1;wS(n,t[s])<0?i=s:e=s+1}const r=g6(n);return r&&(i=t.lastIndexOf(r,i-1)),i}function g6(n){let t=n;for(;t=t.parent;)if(AS(t)&&wS(n,t)===0)return t}function AS({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function m6(n){const t={};if(n===""||n==="?")return t;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(dS," "),o=s.indexOf("="),a=mf(o<0?s:s.slice(0,o)),l=o<0?null:mf(s.slice(o+1));if(a in t){let c=t[a];Ns(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function A_(n){let t="";for(let e in n){const i=n[e];if(e=MC(e),i==null){i!==void 0&&(t+=(t.length?"&":"")+e);continue}(Ns(i)?i.map(s=>s&&a0(s)):[i&&a0(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+e,s!=null&&(t+="="+s))})}return t}function y6(n){const t={};for(const e in n){const i=n[e];i!==void 0&&(t[e]=Ns(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const v6=Symbol(""),x_=Symbol(""),Mg=Symbol(""),ky=Symbol(""),c0=Symbol("");function wh(){let n=[];function t(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Ga(n,t,e,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=g=>{g===!1?l(xu(4,{from:e,to:t})):g instanceof Error?l(g):n6(g)?l(xu(2,{from:t,to:g})):(o&&i.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),a())},u=s(()=>n.call(i&&i.instances[r],t,e,c));let h=Promise.resolve(u);n.length<3&&(h=h.then(c)),h.catch(g=>l(g))})}function Jm(n,t,e,i,r=s=>s()){const s=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(hS(l)){const u=(l.__vccOpts||l)[t];u&&s.push(Ga(u,e,i,o,a,r))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=EC(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Ga(p,e,i,o,a,r)()}))}}return s}function S_(n){const t=Rs(Mg),e=Rs(ky),i=zn(()=>{const l=Sr(n.to);return t.resolve(l)}),r=zn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=e.matched;if(!u||!h.length)return-1;const g=h.findIndex(Au.bind(null,u));if(g>-1)return g;const p=E_(l[c-2]);return c>1&&E_(u)===p&&h[h.length-1].path!==p?h.findIndex(Au.bind(null,l[c-2])):g}),s=zn(()=>r.value>-1&&x6(e.params,i.value.params)),o=zn(()=>r.value>-1&&r.value===e.matched.length-1&&yS(e.params,i.value.params));function a(l={}){if(A6(l)){const c=t[Sr(n.replace)?"replace":"push"](Sr(n.to)).catch(Gh);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:zn(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function _6(n){return n.length===1?n[0]:n}const b6=Cg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:S_,setup(n,{slots:t}){const e=gc(S_(n)),{options:i}=Rs(Mg),r=zn(()=>({[T_(n.activeClass,i.linkActiveClass,"router-link-active")]:e.isActive,[T_(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const s=t.default&&_6(t.default(e));return n.custom?s:pf("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:r.value},s)}}}),w6=b6;function A6(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function x6(n,t){for(const e in t){const i=t[e],r=n[e];if(typeof i=="string"){if(i!==r)return!1}else if(!Ns(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function E_(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const T_=(n,t,e)=>n??t??e,S6=Cg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const i=Rs(c0),r=zn(()=>n.route||i.value),s=Rs(x_,0),o=zn(()=>{let c=Sr(s);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=zn(()=>r.value.matched[o.value]);ap(x_,zn(()=>o.value+1)),ap(v6,a),ap(c0,r);const l=Zt();return ds(()=>[l.value,a.value,n.name],([c,u,h],[g,p,y])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===g&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Au(u,p)||!g)&&(u.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,h=a.value,g=h&&h.components[u];if(!g)return I_(e.default,{Component:g,route:c});const p=h.props[u],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,w=pf(g,un({},y,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return I_(e.default,{Component:w,route:c})||w}}});function I_(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const E6=S6;function T6(n){const t=h6(n.routes,n),e=n.parseQuery||m6,i=n.stringifyQuery||A_,r=n.history,s=wh(),o=wh(),a=wh(),l=by(ja);let c=ja;Gc&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Km.bind(null,tt=>""+tt),h=Km.bind(null,VC),g=Km.bind(null,mf);function p(tt,lt){let ot,dt;return _S(tt)?(ot=t.getRecordMatcher(tt),dt=lt):dt=tt,t.addRoute(dt,ot)}function y(tt){const lt=t.getRecordMatcher(tt);lt&&t.removeRoute(lt)}function b(){return t.getRoutes().map(tt=>tt.record)}function w(tt){return!!t.getRecordMatcher(tt)}function _(tt,lt){if(lt=un({},lt||l.value),typeof tt=="string"){const G=Ym(e,tt,lt.path),j=t.resolve({path:G.path},lt),Tt=r.createHref(G.fullPath);return un(G,j,{params:g(j.params),hash:mf(G.hash),redirectedFrom:void 0,href:Tt})}let ot;if(tt.path!=null)ot=un({},tt,{path:Ym(e,tt.path,lt.path).path});else{const G=un({},tt.params);for(const j in G)G[j]==null&&delete G[j];ot=un({},tt,{params:h(G)}),lt.params=h(lt.params)}const dt=t.resolve(ot,lt),Nt=tt.hash||"";dt.params=u(g(dt.params));const H=UC(i,un({},tt,{hash:DC(Nt),path:dt.path})),K=r.createHref(H);return un({fullPath:H,hash:Nt,query:i===A_?y6(tt.query):tt.query||{}},dt,{redirectedFrom:void 0,href:K})}function E(tt){return typeof tt=="string"?Ym(e,tt,l.value.path):un({},tt)}function k(tt,lt){if(c!==tt)return xu(8,{from:lt,to:tt})}function D(tt){return L(tt)}function W(tt){return D(un(E(tt),{replace:!0}))}function it(tt){const lt=tt.matched[tt.matched.length-1];if(lt&&lt.redirect){const{redirect:ot}=lt;let dt=typeof ot=="function"?ot(tt):ot;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=E(dt):{path:dt},dt.params={}),un({query:tt.query,hash:tt.hash,params:dt.path!=null?{}:tt.params},dt)}}function L(tt,lt){const ot=c=_(tt),dt=l.value,Nt=tt.state,H=tt.force,K=tt.replace===!0,G=it(ot);if(G)return L(un(E(G),{state:typeof G=="object"?un({},Nt,G.state):Nt,force:H,replace:K}),lt||ot);const j=ot;j.redirectedFrom=lt;let Tt;return!H&&qC(i,dt,ot)&&(Tt=xu(16,{to:j,from:dt}),kt(dt,dt,!0,!1)),(Tt?Promise.resolve(Tt):F(j,dt)).catch(At=>zo(At)?zo(At,2)?At:jt(At):at(At,j,dt)).then(At=>{if(At){if(zo(At,2))return L(un({replace:K},E(At.to),{state:typeof At.to=="object"?un({},Nt,At.to.state):Nt,force:H}),lt||j)}else At=C(j,dt,!0,K,Nt);return S(j,dt,At),At})}function T(tt,lt){const ot=k(tt,lt);return ot?Promise.reject(ot):Promise.resolve()}function P(tt){const lt=et.values().next().value;return lt&&typeof lt.runWithContext=="function"?lt.runWithContext(tt):tt()}function F(tt,lt){let ot;const[dt,Nt,H]=I6(tt,lt);ot=Jm(dt.reverse(),"beforeRouteLeave",tt,lt);for(const G of dt)G.leaveGuards.forEach(j=>{ot.push(Ga(j,tt,lt))});const K=T.bind(null,tt,lt);return ot.push(K),ct(ot).then(()=>{ot=[];for(const G of s.list())ot.push(Ga(G,tt,lt));return ot.push(K),ct(ot)}).then(()=>{ot=Jm(Nt,"beforeRouteUpdate",tt,lt);for(const G of Nt)G.updateGuards.forEach(j=>{ot.push(Ga(j,tt,lt))});return ot.push(K),ct(ot)}).then(()=>{ot=[];for(const G of H)if(G.beforeEnter)if(Ns(G.beforeEnter))for(const j of G.beforeEnter)ot.push(Ga(j,tt,lt));else ot.push(Ga(G.beforeEnter,tt,lt));return ot.push(K),ct(ot)}).then(()=>(tt.matched.forEach(G=>G.enterCallbacks={}),ot=Jm(H,"beforeRouteEnter",tt,lt,P),ot.push(K),ct(ot))).then(()=>{ot=[];for(const G of o.list())ot.push(Ga(G,tt,lt));return ot.push(K),ct(ot)}).catch(G=>zo(G,8)?G:Promise.reject(G))}function S(tt,lt,ot){a.list().forEach(dt=>P(()=>dt(tt,lt,ot)))}function C(tt,lt,ot,dt,Nt){const H=k(tt,lt);if(H)return H;const K=lt===ja,G=Gc?history.state:{};ot&&(dt||K?r.replace(tt.fullPath,un({scroll:K&&G&&G.scroll},Nt)):r.push(tt.fullPath,Nt)),l.value=tt,kt(tt,lt,ot,K),jt()}let N;function nt(){N||(N=r.listen((tt,lt,ot)=>{if(!st.listening)return;const dt=_(tt),Nt=it(dt);if(Nt){L(un(Nt,{replace:!0,force:!0}),dt).catch(Gh);return}c=dt;const H=l.value;Gc&&JC(d_(H.fullPath,ot.delta),Dg()),F(dt,H).catch(K=>zo(K,12)?K:zo(K,2)?(L(un(E(K.to),{force:!0}),dt).then(G=>{zo(G,20)&&!ot.delta&&ot.type===yf.pop&&r.go(-1,!1)}).catch(Gh),Promise.reject()):(ot.delta&&r.go(-ot.delta,!1),at(K,dt,H))).then(K=>{K=K||C(dt,H,!1),K&&(ot.delta&&!zo(K,8)?r.go(-ot.delta,!1):ot.type===yf.pop&&zo(K,20)&&r.go(-1,!1)),S(dt,H,K)}).catch(Gh)}))}let ft=wh(),gt=wh(),mt;function at(tt,lt,ot){jt(tt);const dt=gt.list();return dt.length?dt.forEach(Nt=>Nt(tt,lt,ot)):console.error(tt),Promise.reject(tt)}function Et(){return mt&&l.value!==ja?Promise.resolve():new Promise((tt,lt)=>{ft.add([tt,lt])})}function jt(tt){return mt||(mt=!tt,nt(),ft.list().forEach(([lt,ot])=>tt?ot(tt):lt()),ft.reset()),tt}function kt(tt,lt,ot,dt){const{scrollBehavior:Nt}=n;if(!Gc||!Nt)return Promise.resolve();const H=!ot&&XC(d_(tt.fullPath,0))||(dt||!ot)&&history.state&&history.state.scroll||null;return qf().then(()=>Nt(tt,lt,H)).then(K=>K&&YC(K)).catch(K=>at(K,tt,lt))}const V=tt=>r.go(tt);let J;const et=new Set,st={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:b,resolve:_,options:n,push:D,replace:W,go:V,back:()=>V(-1),forward:()=>V(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:gt.add,isReady:Et,install(tt){const lt=this;tt.component("RouterLink",w6),tt.component("RouterView",E6),tt.config.globalProperties.$router=lt,Object.defineProperty(tt.config.globalProperties,"$route",{enumerable:!0,get:()=>Sr(l)}),Gc&&!J&&l.value===ja&&(J=!0,D(r.location).catch(Nt=>{}));const ot={};for(const Nt in ja)Object.defineProperty(ot,Nt,{get:()=>l.value[Nt],enumerable:!0});tt.provide(Mg,lt),tt.provide(ky,Ix(ot)),tt.provide(c0,l);const dt=tt.unmount;et.add(tt),tt.unmount=function(){et.delete(tt),et.size<1&&(c=ja,N&&N(),N=null,l.value=ja,J=!1,mt=!1),dt()}}};function ct(tt){return tt.reduce((lt,ot)=>lt.then(()=>P(ot)),Promise.resolve())}return st}function I6(n,t){const e=[],i=[],r=[],s=Math.max(t.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(n.matched.find(c=>Au(c,a))?i.push(a):e.push(a));const l=n.matched[o];l&&(t.matched.find(c=>Au(c,l))||r.push(l))}return[e,i,r]}function xS(){return Rs(Mg)}function P6(n){return Rs(ky)}const k6=()=>{};var P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},C6=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},ES={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(g=64)),i.push(e[u],e[h],e[g],e[p])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(SS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):C6(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const h=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new R6;const g=s<<2|a>>4;if(i.push(g),c!==64){const p=a<<4&240|c>>2;if(i.push(p),h!==64){const y=c<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class R6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N6=function(n){const t=SS(n);return ES.encodeByteArray(t,!0)},Hp=function(n){return N6(n).replace(/\./g,"")},TS=function(n){try{return ES.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=()=>L6().__FIREBASE_DEFAULTS__,D6=()=>{if(typeof process>"u"||typeof P_>"u")return;const n=P_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},M6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&TS(n[1]);return t&&JSON.parse(t)},Fg=()=>{try{return k6()||O6()||D6()||M6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IS=n=>Fg()?.emulatorHosts?.[n],F6=n=>{const t=IS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},PS=()=>Fg()?.config,kS=n=>Fg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hp(JSON.stringify(e)),Hp(JSON.stringify(o)),""].join(".")}const Yh={};function j6(){const n={prod:[],emulator:[]};for(const t of Object.keys(Yh))Yh[t]?n.emulator.push(t):n.prod.push(t);return n}function U6(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let k_=!1;function RS(n,t){if(typeof window>"u"||typeof document>"u"||!Bu(window.location.host)||Yh[n]===t||Yh[n]||k_)return;Yh[n]=t;function e(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=j6().prod.length>0;function o(){const g=document.getElementById(i);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,p){g.setAttribute("width","24"),g.setAttribute("id",p),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{k_=!0,o()},g}function u(g,p){g.setAttribute("id",p),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function h(){const g=U6(i),p=e("text"),y=document.getElementById(p)||document.createElement("span"),b=e("learnmore"),w=document.getElementById(b)||document.createElement("a"),_=e("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;a(k),u(w,b);const D=c();l(E,_),k.append(E,y,w,D),document.body.appendChild(k)}s?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function z6(){const n=Fg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function W6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G6(){const n=or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function K6(){return!z6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y6(){try{return typeof indexedDB=="object"}catch{return!1}}function J6(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="FirebaseError";class ma extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=X6,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Q6(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ma(r,a,i)}}function Q6(n,t){return n.replace(Z6,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Z6=/\{\$([^}]+)}/g;function tR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function mc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(C_(s)&&C_(o)){if(!mc(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function C_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Rh(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Nh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function eR(n,t){const e=new nR(n,t);return e.subscribe.bind(e)}class nR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");iR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Xm),r.error===void 0&&(r.error=Xm),r.complete===void 0&&(r.complete=Xm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n){return n&&n._delegate?n._delegate:n}class yc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new V6;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oR(t))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Zl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zl){return this.instances.has(t)}getOptions(t=Zl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Zl){return this.component?this.component.multipleInstances?t:Zl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(n){return n===Zl?void 0:n}function oR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const lR={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},cR=We.INFO,uR={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},hR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=uR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cy{constructor(t){this.name=t,this._logLevel=cR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in We))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...t),this._logHandler(this,We.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...t),this._logHandler(this,We.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,We.INFO,...t),this._logHandler(this,We.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,We.WARN,...t),this._logHandler(this,We.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...t),this._logHandler(this,We.ERROR,...t)}}const fR=(n,t)=>t.some(e=>n instanceof e);let R_,N_;function dR(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NS=new WeakMap,u0=new WeakMap,LS=new WeakMap,Qm=new WeakMap,Ry=new WeakMap;function gR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(al(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&NS.set(e,n)}).catch(()=>{}),Ry.set(t,n),t}function mR(n){if(u0.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});u0.set(n,t)}let h0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return u0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||LS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return al(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function yR(n){h0=n(h0)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Zm(this),t,...e);return LS.set(i,t.sort?t.sort():[t]),al(i)}:pR().includes(n)?function(...t){return n.apply(Zm(this),t),al(NS.get(this))}:function(...t){return al(n.apply(Zm(this),t))}}function _R(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&mR(n),fR(n,dR())?new Proxy(n,h0):n)}function al(n){if(n instanceof IDBRequest)return gR(n);if(Qm.has(n))return Qm.get(n);const t=_R(n);return t!==n&&(Qm.set(n,t),Ry.set(t,n)),t}const Zm=n=>Ry.get(n);function bR(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=al(o);return i&&o.addEventListener("upgradeneeded",l=>{i(al(o.result),l.oldVersion,l.newVersion,al(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],t1=new Map;function L_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(t1.get(t))return t1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=AR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wR.includes(e)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),r&&l.done]))[0]};return t1.set(t,s),s}yR(n=>({...n,get:(t,e,i)=>L_(t,e)||n.get(t,e,i),has:(t,e)=>!!L_(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function SR(n){return n.getComponent()?.type==="VERSION"}const f0="@firebase/app",O_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Cy("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",IR="@firebase/analytics",PR="@firebase/app-check-compat",kR="@firebase/app-check",CR="@firebase/auth",RR="@firebase/auth-compat",NR="@firebase/database",LR="@firebase/data-connect",OR="@firebase/database-compat",DR="@firebase/functions",MR="@firebase/functions-compat",FR="@firebase/installations",VR="@firebase/installations-compat",BR="@firebase/messaging",jR="@firebase/messaging-compat",UR="@firebase/performance",qR="@firebase/performance-compat",zR="@firebase/remote-config",HR="@firebase/remote-config-compat",$R="@firebase/storage",WR="@firebase/storage-compat",GR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",JR="firebase",XR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",QR={[f0]:"fire-core",[ER]:"fire-core-compat",[IR]:"fire-analytics",[TR]:"fire-analytics-compat",[kR]:"fire-app-check",[PR]:"fire-app-check-compat",[CR]:"fire-auth",[RR]:"fire-auth-compat",[NR]:"fire-rtdb",[LR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[DR]:"fire-fn",[MR]:"fire-fn-compat",[FR]:"fire-iid",[VR]:"fire-iid-compat",[BR]:"fire-fcm",[jR]:"fire-fcm-compat",[UR]:"fire-perf",[qR]:"fire-perf-compat",[zR]:"fire-rc",[HR]:"fire-rc-compat",[$R]:"fire-gcs",[WR]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,ZR=new Map,p0=new Map;function D_(n,t){try{n.container.addComponent(t)}catch(e){la.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Su(n){const t=n.name;if(p0.has(t))return la.debug(`There were multiple attempts to register component ${t}.`),!1;p0.set(t,n);for(const e of vf.values())D_(e,n);for(const e of ZR.values())D_(e,n);return!0}function Ny(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function us(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new Hf("app","Firebase",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=XR;function Vg(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:d0,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ll.create("bad-app-name",{appName:String(r)});if(e||(e=PS()),!e)throw ll.create("no-options");const s=vf.get(r);if(s){if(mc(e,s.options)&&mc(i,s.config))return s;throw ll.create("duplicate-app",{appName:r})}const o=new aR(r);for(const l of p0.values())o.addComponent(l);const a=new eN(e,i,o);return vf.set(r,a),a}function Wf(n=d0){const t=vf.get(n);if(!t&&n===d0&&PS())return Vg();if(!t)throw ll.create("no-app",{appName:n});return t}function Ly(){return Array.from(vf.values())}function cl(n,t,e){let i=QR[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${t}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),la.warn(o.join(" "));return}Su(new yc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebase-heartbeat-database",iN=1,_f="firebase-heartbeat-store";let e1=null;function OS(){return e1||(e1=bR(nN,iN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_f)}catch(e){console.warn(e)}}}}).catch(n=>{throw ll.create("idb-open",{originalErrorMessage:n.message})})),e1}async function rN(n){try{const e=(await OS()).transaction(_f),i=await e.objectStore(_f).get(DS(n));return await e.done,i}catch(t){if(t instanceof ma)la.warn(t.message);else{const e=ll.create("idb-get",{originalErrorMessage:t?.message});la.warn(e.message)}}}async function M_(n,t){try{const i=(await OS()).transaction(_f,"readwrite");await i.objectStore(_f).put(t,DS(n)),await i.done}catch(e){if(e instanceof ma)la.warn(e.message);else{const i=ll.create("idb-set",{originalErrorMessage:e?.message});la.warn(i.message)}}}function DS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=1024,oN=30;class aN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>oN){const r=uN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){la.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F_(),{heartbeatsToSend:e,unsentEntries:i}=lN(this._heartbeatsCache.heartbeats),r=Hp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return la.warn(t),""}}}function F_(){return new Date().toISOString().substring(0,10)}function lN(n,t=sN){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),V_(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),V_(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class cN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y6()?J6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await rN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function V_(n){return Hp(JSON.stringify({version:2,heartbeats:n})).length}function uN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){Su(new yc("platform-logger",t=>new xR(t),"PRIVATE")),Su(new yc("heartbeat",t=>new aN(t),"PRIVATE")),cl(f0,O_,n),cl(f0,O_,"esm2020"),cl("fire-js","")}hN("");function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fN=MS,FS=new Hf("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new Cy("@firebase/auth");function dN(n,...t){$p.logLevel<=We.WARN&&$p.warn(`Auth (${ju}): ${n}`,...t)}function hp(n,...t){$p.logLevel<=We.ERROR&&$p.error(`Auth (${ju}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,...t){throw Oy(n,...t)}function go(n,...t){return Oy(n,...t)}function VS(n,t,e){const i={...fN(),[t]:e};return new Hf("auth","Firebase",i).create(t,{appName:n.name})}function ra(n){return VS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return FS.create(n,...t)}function Ae(n,t,...e){if(!n)throw Oy(t,...e)}function ta(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hp(t),new Error(t)}function ca(n,t){n||ta(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof self<"u"&&self.location?.href||""}function pN(){return B_()==="http:"||B_()==="https:"}function B_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pN()||$6()||"connection"in navigator)?navigator.onLine:!0}function mN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e){this.shortDelay=t,this.longDelay=e,ca(e>t,"Short delay should be less than long delay!"),this.isMobile=q6()||W6()}get(){return gN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,t){ca(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_N=new Gf(3e4,6e4);function Sl(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function El(n,t,e,i,r={}){return jS(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=$f({key:n.config.apiKey,...o}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c={method:t,headers:l,...s};return H6()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&Bu(n.emulatorConfig.host)&&(c.credentials="include"),BS.fetch()(await US(n,n.config.apiHost,e,a),c)})}async function jS(n,t,e){n._canInitEmulator=!1;const i={...yN,...t};try{const r=new wN(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cd(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw VS(n,u,c);Ls(n,u)}}catch(r){if(r instanceof ma)throw r;Ls(n,"network-request-failed",{message:String(r)})}}async function Kf(n,t,e,i,r={}){const s=await El(n,t,e,i,r);return"mfaPendingCredential"in s&&Ls(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function US(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?Dy(n.config,r):`${n.config.apiScheme}://${r}`;return vN.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function bN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(go(this.auth,"network-request-failed")),_N.get())})}}function Cd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=go(n,t,i);return r.customData._tokenResponse=e,r}function j_(n){return n!==void 0&&n.enterprise!==void 0}class AN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return bN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xN(n,t){return El(n,"GET","/v2/recaptchaConfig",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,t){return El(n,"POST","/v1/accounts:delete",t)}async function Wp(n,t){return El(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EN(n,t=!1){const e=Si(n),i=await e.getIdToken(t),r=My(i);Ae(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Jh(n1(r.auth_time)),issuedAtTime:Jh(n1(r.iat)),expirationTime:Jh(n1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function n1(n){return Number(n)*1e3}function My(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{const r=TS(e);return r?JSON.parse(r):(hp("Failed to decode base64 JWT payload"),null)}catch(r){return hp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function U_(n){const t=My(n);return Ae(t,"internal-error"),Ae(typeof t.exp<"u","internal-error"),Ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ma&&TN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function TN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(n){const t=n.auth,e=await n.getIdToken(),i=await bf(n,Wp(t,{idToken:e}));Ae(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=r.providerUserInfo?.length?qS(r.providerUserInfo):[],o=kN(n.providerData,s),a=n.isAnonymous,l=!(n.email&&r.passwordHash)&&!o?.length,c=a?l:!1,u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new m0(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(n,u)}async function PN(n){const t=Si(n);await Gp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kN(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function qS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,t){const e=await jS(n,{},async()=>{const i=$f({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await US(n,r,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:i};return n.emulatorConfig&&Bu(n.emulatorConfig.host)&&(l.credentials="include"),BS.fetch()(o,l)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function RN(n,t){return El(n,"POST","/v2/accounts:revokeToken",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ae(t.idToken,"internal-error"),Ae(typeof t.idToken<"u","internal-error"),Ae(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ae(t.length!==0,"internal-error");const e=U_(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await CN(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new au;return i&&(Ae(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Ae(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Ae(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n,t){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ps{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new m0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await bf(this,this.stsTokenManager.getToken(this.auth,t));return Ae(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return EN(this,t)}reload(){return PN(this)}_assign(t){this!==t&&(Ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ps({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Gp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await bf(this,SN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,a=e.tenantId??void 0,l=e._redirectEventId??void 0,c=e.createdAt??void 0,u=e.lastLoginAt??void 0,{uid:h,emailVerified:g,isAnonymous:p,providerData:y,stsTokenManager:b}=e;Ae(h&&b,t,"internal-error");const w=au.fromJSON(this.name,b);Ae(typeof h=="string",t,"internal-error"),Ua(i,t.name),Ua(r,t.name),Ae(typeof g=="boolean",t,"internal-error"),Ae(typeof p=="boolean",t,"internal-error"),Ua(s,t.name),Ua(o,t.name),Ua(a,t.name),Ua(l,t.name),Ua(c,t.name),Ua(u,t.name);const _=new Ps({uid:h,auth:t,email:r,emailVerified:g,displayName:i,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(_.providerData=y.map(E=>({...E}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(t,e,i=!1){const r=new au;r.updateFromServerResponse(e);const s=new Ps({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Gp(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ae(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?qS(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new au;a.updateFromIdToken(i);const l=new Ps({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new m0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function ea(n){ca(n instanceof Function,"Expected a class definition");let t=q_.get(n);return t?(ca(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,q_.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zS.type="NONE";const z_=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n,t,e){return`firebase:${n}:${t}:${e}`}class lu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=fp(this.userKey,r.apiKey,s),this.fullPersistenceKey=fp("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Wp(this.auth,{idToken:t}).catch(()=>{});return e?Ps._fromGetAccountInfoResponse(this.auth,e,t):null}return Ps._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new lu(ea(z_),t,i);const r=(await Promise.all(e.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ea(z_);const o=fp(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const g=await Wp(t,{idToken:u}).catch(()=>{});if(!g)break;h=await Ps._fromGetAccountInfoResponse(t,g,u)}else h=Ps._fromJSON(t,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lu(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(e.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new lu(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YS(t))return"Blackberry";if(JS(t))return"Webos";if($S(t))return"Safari";if((t.includes("chrome/")||WS(t))&&!t.includes("edge/"))return"Chrome";if(KS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function HS(n=or()){return/firefox\//i.test(n)}function $S(n=or()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WS(n=or()){return/crios\//i.test(n)}function GS(n=or()){return/iemobile/i.test(n)}function KS(n=or()){return/android/i.test(n)}function YS(n=or()){return/blackberry/i.test(n)}function JS(n=or()){return/webos/i.test(n)}function Fy(n=or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NN(n=or()){return Fy(n)&&!!window.navigator?.standalone}function LN(){return G6()&&document.documentMode===10}function XS(n=or()){return Fy(n)||KS(n)||JS(n)||YS(n)||/windows phone/i.test(n)||GS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,t=[]){let e;switch(n){case"Browser":e=H_(or());break;case"Worker":e=`${H_(or())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ju}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,t={}){return El(n,"GET","/v2/passwordPolicy",Sl(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=6;class FN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??MN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ea(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Wp(this,{idToken:t}),i=await Ps._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(us(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Gp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(us(this.app))return Promise.reject(ra(this));const e=t?Si(t):null;return e&&Ae(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return us(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DN(this),e=new FN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await RN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ea(t)||this._popupRedirectResolver;Ae(e,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[ea(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(e);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ic(n){return Si(n)}class $_{constructor(t){this.auth=t,this.observer=null,this.addObserver=eR(e=>this.observer=e)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BN(n){Bg=n}function ZS(n){return Bg.loadJS(n)}function jN(){return Bg.recaptchaEnterpriseScript}function UN(){return Bg.gapiScript}function qN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zN{constructor(){this.enterprise=new HN}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class HN{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const $N="recaptcha-enterprise",tE="NO_RECAPTCHA";class WN{constructor(t){this.type=$N,this.auth=Ic(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new AN(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;j_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(tE)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!e&&j_(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jN();l.length!==0&&(l+=a),ZS(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function W_(n,t,e,i=!1,r=!1){const s=new WN(n);let o;if(r)o=tE;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const a={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function y0(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await W_(n,t,e,e==="getOobCode");return i(n,s)}else return i(n,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await W_(n,t,e,e==="getOobCode");return i(n,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n,t){const e=Ny(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(mc(s,t??{}))return r;Ls(r,"already-initialized")}return e.initialize({options:t})}function KN(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ea);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function YN(n,t,e){const i=Ic(n);Ae(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=eE(t),{host:o,port:a}=JN(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(mc(c,i.config.emulator)&&mc(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Bu(o)?(CS(`${s}//${o}${l}`),RS("Auth",!0)):XN()}function eE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function JN(n){const t=eE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:G_(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:G_(o)}}}function G_(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function XN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ta("not implemented")}_getIdTokenResponse(t){return ta("not implemented")}_linkToIdToken(t,e){return ta("not implemented")}_getReauthenticationResolver(t){return ta("not implemented")}}async function QN(n,t){return El(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,t){return Kf(n,"POST","/v1/accounts:signInWithPassword",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,t){return Kf(n,"POST","/v1/accounts:signInWithEmailLink",Sl(n,t))}async function eL(n,t){return Kf(n,"POST","/v1/accounts:signInWithEmailLink",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Vy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new wf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new wf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(t,e,"signInWithPassword",ZN);case"emailLink":return tL(t,{email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(t,i,"signUpPassword",QN);case"emailLink":return eL(t,{idToken:e,email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(n,t){return Kf(n,"POST","/v1/accounts:signInWithIdp",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="http://localhost";class vc extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new vc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ls("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=e;if(!i||!r)return null;const o=new vc(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return cu(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,cu(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,cu(t,e)}buildRequest(){const t={requestUri:nL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$f(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rL(n){const t=Rh(Nh(n)).link,e=t?Rh(Nh(t)).deep_link_id:null,i=Rh(Nh(n)).deep_link_id;return(i?Rh(Nh(i)).link:null)||i||e||t||n}class By{constructor(t){const e=Rh(Nh(t)),i=e.apiKey??null,r=e.oobCode??null,s=iL(e.mode??null);Ae(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=rL(t);try{return new By(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(t,e){return wf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=By.parseLink(e);return Ae(i,"argument-error"),wf._fromEmailAndCode(t,i.code,i.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Yf{constructor(){super("facebook.com")}static credential(t){return vc._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ya.credential(t.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return vc._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ja.credential(e,i)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Yf{constructor(){super("github.com")}static credential(t){return vc._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xa.credentialFromTaggedObject(t)}static credentialFromError(t){return Xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xa.credential(t.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Yf{constructor(){super("twitter.com")}static credential(t,e){return vc._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Qa.credentialFromTaggedObject(t)}static credentialFromError(t){return Qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Qa.credential(e,i)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(n,t){return Kf(n,"POST","/v1/accounts:signUp",Sl(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await Ps._fromIdTokenResponse(t,i,r),o=K_(i);return new _c({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=K_(i);return new _c({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function K_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends ma{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Kp(t,e,i,r)}}function iE(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(n,s,t,i):s})}async function oL(n,t,e=!1){const i=await bf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return _c._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(n,t,e=!1){const{auth:i}=n;if(us(i.app))return Promise.reject(ra(i));const r="reauthenticate";try{const s=await bf(n,iE(i,r,t,n),e);Ae(s.idToken,i,"internal-error");const o=My(s.idToken);Ae(o,i,"internal-error");const{sub:a}=o;return Ae(n.uid===a,i,"user-mismatch"),_c._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ls(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(n,t,e=!1){if(us(n.app))return Promise.reject(ra(n));const i="signIn",r=await iE(n,i,t),s=await _c._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}async function lL(n,t){return rE(Ic(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(n){const t=Ic(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function cL(n,t,e){if(us(n.app))return Promise.reject(ra(n));const i=Ic(n),o=await y0(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sE(n),l}),a=await _c._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function uL(n,t,e){return us(n.app)?Promise.reject(ra(n)):lL(Si(n),Uu.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sE(n),i})}function hL(n,t,e,i){return Si(n).onIdTokenChanged(t,e,i)}function fL(n,t,e){return Si(n).beforeAuthStateChanged(t,e)}function oE(n,t,e,i){return Si(n).onAuthStateChanged(t,e,i)}function dL(n){return Si(n).signOut()}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1e3,gL=10;class lE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);LN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,gL):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}lE.type="LOCAL";const mL=lE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}cE.type="SESSION";const uE=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new jg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!o?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(e.origin,s)),l=await yL(a);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=jy("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const g=h;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function _L(n){mo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function bL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){return navigator?.serviceWorker?.controller||null}function AL(){return hE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firebaseLocalStorageDb",xL=1,Jp="firebaseLocalStorage",dE="fbase_key";class Jf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ug(n,t){return n.transaction([Jp],t?"readwrite":"readonly").objectStore(Jp)}function SL(){const n=indexedDB.deleteDatabase(fE);return new Jf(n).toPromise()}function v0(){const n=indexedDB.open(fE,xL);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jp,{keyPath:dE})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jp)?t(i):(i.close(),await SL(),t(await v0()))})})}async function Y_(n,t,e){const i=Ug(n,!0).put({[dE]:t,value:e});return new Jf(i).toPromise()}async function EL(n,t){const e=Ug(n,!1).get(t),i=await new Jf(e).toPromise();return i===void 0?null:i.value}function J_(n,t){const e=Ug(n,!0).delete(t);return new Jf(e).toPromise()}const TL=800,IL=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>IL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jg._getInstance(AL()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bL(),!this.activeServiceWorker)return;this.sender=new vL(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await v0();return await Y_(t,Yp,"1"),await J_(t,Yp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>EL(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>J_(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Ug(r,!1).getAll();return new Jf(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const PL=pE;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(n,t){return t?ea(t):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends Vy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return cu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return cu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function CL(n){return rE(n.auth,new Uy(n),n.bypassAuthState)}function RL(n){const{auth:t,user:e}=n;return Ae(e,t,"internal-error"),aL(e,new Uy(n),n.bypassAuthState)}async function NL(n){const{auth:t,user:e}=n;return Ae(e,t,"internal-error"),oL(e,new Uy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CL;case"linkViaPopup":case"linkViaRedirect":return NL;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:Ls(this.auth,"internal-error")}}resolve(t){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new Gf(2e3,1e4);class tu extends gE{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,tu.currentPopupAction&&tu.currentPopupAction.cancel(),tu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ae(t,this.auth,"internal-error"),t}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const t=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LL.get())};t()}}tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="pendingRedirect",dp=new Map;class DL extends gE{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=dp.get(this.auth._key());if(!t){try{const i=await ML(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}dp.set(this.auth._key(),t)}return this.bypassAuthState||dp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ML(n,t){const e=BL(t),i=VL(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function FL(n,t){dp.set(n._key(),t)}function VL(n){return ea(n._redirectPersistence)}function BL(n){return fp(OL,n.config.apiKey,n.name)}async function jL(n,t,e=!1){if(us(n.app))return Promise.reject(ra(n));const i=Ic(n),r=kL(i,t),o=await new DL(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=600*1e3;class qL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zL(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!mE(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(go(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UL&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function mE({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function zL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(n,t={}){return El(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WL=/^https?/;async function GL(n){if(n.config.emulator)return;const{authorizedDomains:t}=await HL(n);for(const e of t)try{if(KL(e))return}catch{}Ls(n,"unauthorized-domain")}function KL(n){const t=g0(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!WL.test(e))return!1;if($L.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new Gf(3e4,6e4);function Q_(){const n=mo().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function JL(n){return new Promise((t,e)=>{function i(){Q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q_(),e(go(n,"network-request-failed"))},timeout:YL.get()})}if(mo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(mo().gapi?.load)i();else{const r=qN("iframefcb");return mo()[r]=()=>{gapi.load?i():e(go(n,"network-request-failed"))},ZS(`${UN()}?onload=${r}`).catch(s=>e(s))}}).catch(t=>{throw pp=null,t})}let pp=null;function XL(n){return pp=pp||JL(n),pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Gf(5e3,15e3),ZL="__/auth/iframe",t8="emulator/auth/iframe",e8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i8(n){const t=n.config;Ae(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Dy(t,t8):`https://${n.config.authDomain}/${ZL}`,i={apiKey:t.apiKey,appName:n.name,v:ju},r=n8.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${$f(i).slice(1)}`}async function r8(n){const t=await XL(n),e=mo().gapi;return Ae(e,n,"internal-error"),t.open({where:document.body,url:i8(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e8,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=go(n,"network-request-failed"),a=mo().setTimeout(()=>{s(o)},QL.get());function l(){mo().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o8=500,a8=600,l8="_blank",c8="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u8(n,t,e,i=o8,r=a8){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l={...s8,width:i.toString(),height:r.toString(),top:s,left:o},c=or().toLowerCase();e&&(a=WS(c)?l8:e),HS(c)&&(t=t||c8,l.scrollbars="yes");const u=Object.entries(l).reduce((g,[p,y])=>`${g}${p}=${y},`,"");if(NN(c)&&a!=="_self")return h8(t||"",a),new Z_(null);const h=window.open(t||"",a,u);Ae(h,n,"popup-blocked");try{h.focus()}catch{}return new Z_(h)}function h8(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="__/auth/handler",d8="emulator/auth/handler",p8=encodeURIComponent("fac");async function tb(n,t,e,i,r,s){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ju,eventId:r};if(t instanceof nE){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",tR(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(t instanceof Yf){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${p8}=${encodeURIComponent(l)}`:"";return`${g8(n)}?${$f(a).slice(1)}${c}`}function g8({config:n}){return n.emulator?Dy(n,d8):`https://${n.authDomain}/${f8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="webStorageSupport";class m8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=jL,this._overrideRedirectResult=FL}async _openPopup(t,e,i,r){ca(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await tb(t,e,i,g0(),r);return u8(t,s,jy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await tb(t,e,i,g0(),r);return _L(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(ca(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await r8(t),i=new qL(t);return e.register("authEvent",r=>(Ae(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(i1,{type:i1},r=>{const s=r?.[0]?.[i1];s!==void 0&&e(!!s),Ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=GL(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return XS()||$S()||Fy()}}const y8=m8;var eb="@firebase/auth",nb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b8(n){Su(new yc("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(n)},c=new VN(i,r,s,l);return KN(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Su(new yc("auth-internal",t=>{const e=Ic(t.getProvider("auth").getImmediate());return(i=>new v8(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),cl(eb,nb,_8(n)),cl(eb,nb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=300,A8=kS("authIdTokenMaxAge")||w8;let ib=null;const x8=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>A8)return;const r=e?.token;ib!==r&&(ib=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function yE(n=Wf()){const t=Ny(n,"auth");if(t.isInitialized())return t.getImmediate();const e=GN(n,{popupRedirectResolver:y8,persistence:[PL,mL,uE]}),i=kS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=x8(s.toString());fL(e,o,()=>o(e.currentUser)),hL(e,a=>o(a))}}const r=IS("auth");return r&&YN(e,`http://${r}`),e}function S8(){return document.getElementsByTagName("head")?.[0]??document}BN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=go("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",S8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b8("Browser");var E8="firebase",T8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cl(E8,T8,"app");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,vE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,T){function P(){}P.prototype=T.prototype,L.D=T.prototype,L.prototype=new P,L.prototype.constructor=L,L.C=function(F,S,C){for(var N=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)N[nt-2]=arguments[nt];return T.prototype[S].apply(F,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(L,T,P){P||(P=0);var F=Array(16);if(typeof T=="string")for(var S=0;16>S;++S)F[S]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(S=0;16>S;++S)F[S]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=L.g[0],P=L.g[1],S=L.g[2];var C=L.g[3],N=T+(C^P&(S^C))+F[0]+3614090360&4294967295;T=P+(N<<7&4294967295|N>>>25),N=C+(S^T&(P^S))+F[1]+3905402710&4294967295,C=T+(N<<12&4294967295|N>>>20),N=S+(P^C&(T^P))+F[2]+606105819&4294967295,S=C+(N<<17&4294967295|N>>>15),N=P+(T^S&(C^T))+F[3]+3250441966&4294967295,P=S+(N<<22&4294967295|N>>>10),N=T+(C^P&(S^C))+F[4]+4118548399&4294967295,T=P+(N<<7&4294967295|N>>>25),N=C+(S^T&(P^S))+F[5]+1200080426&4294967295,C=T+(N<<12&4294967295|N>>>20),N=S+(P^C&(T^P))+F[6]+2821735955&4294967295,S=C+(N<<17&4294967295|N>>>15),N=P+(T^S&(C^T))+F[7]+4249261313&4294967295,P=S+(N<<22&4294967295|N>>>10),N=T+(C^P&(S^C))+F[8]+1770035416&4294967295,T=P+(N<<7&4294967295|N>>>25),N=C+(S^T&(P^S))+F[9]+2336552879&4294967295,C=T+(N<<12&4294967295|N>>>20),N=S+(P^C&(T^P))+F[10]+4294925233&4294967295,S=C+(N<<17&4294967295|N>>>15),N=P+(T^S&(C^T))+F[11]+2304563134&4294967295,P=S+(N<<22&4294967295|N>>>10),N=T+(C^P&(S^C))+F[12]+1804603682&4294967295,T=P+(N<<7&4294967295|N>>>25),N=C+(S^T&(P^S))+F[13]+4254626195&4294967295,C=T+(N<<12&4294967295|N>>>20),N=S+(P^C&(T^P))+F[14]+2792965006&4294967295,S=C+(N<<17&4294967295|N>>>15),N=P+(T^S&(C^T))+F[15]+1236535329&4294967295,P=S+(N<<22&4294967295|N>>>10),N=T+(S^C&(P^S))+F[1]+4129170786&4294967295,T=P+(N<<5&4294967295|N>>>27),N=C+(P^S&(T^P))+F[6]+3225465664&4294967295,C=T+(N<<9&4294967295|N>>>23),N=S+(T^P&(C^T))+F[11]+643717713&4294967295,S=C+(N<<14&4294967295|N>>>18),N=P+(C^T&(S^C))+F[0]+3921069994&4294967295,P=S+(N<<20&4294967295|N>>>12),N=T+(S^C&(P^S))+F[5]+3593408605&4294967295,T=P+(N<<5&4294967295|N>>>27),N=C+(P^S&(T^P))+F[10]+38016083&4294967295,C=T+(N<<9&4294967295|N>>>23),N=S+(T^P&(C^T))+F[15]+3634488961&4294967295,S=C+(N<<14&4294967295|N>>>18),N=P+(C^T&(S^C))+F[4]+3889429448&4294967295,P=S+(N<<20&4294967295|N>>>12),N=T+(S^C&(P^S))+F[9]+568446438&4294967295,T=P+(N<<5&4294967295|N>>>27),N=C+(P^S&(T^P))+F[14]+3275163606&4294967295,C=T+(N<<9&4294967295|N>>>23),N=S+(T^P&(C^T))+F[3]+4107603335&4294967295,S=C+(N<<14&4294967295|N>>>18),N=P+(C^T&(S^C))+F[8]+1163531501&4294967295,P=S+(N<<20&4294967295|N>>>12),N=T+(S^C&(P^S))+F[13]+2850285829&4294967295,T=P+(N<<5&4294967295|N>>>27),N=C+(P^S&(T^P))+F[2]+4243563512&4294967295,C=T+(N<<9&4294967295|N>>>23),N=S+(T^P&(C^T))+F[7]+1735328473&4294967295,S=C+(N<<14&4294967295|N>>>18),N=P+(C^T&(S^C))+F[12]+2368359562&4294967295,P=S+(N<<20&4294967295|N>>>12),N=T+(P^S^C)+F[5]+4294588738&4294967295,T=P+(N<<4&4294967295|N>>>28),N=C+(T^P^S)+F[8]+2272392833&4294967295,C=T+(N<<11&4294967295|N>>>21),N=S+(C^T^P)+F[11]+1839030562&4294967295,S=C+(N<<16&4294967295|N>>>16),N=P+(S^C^T)+F[14]+4259657740&4294967295,P=S+(N<<23&4294967295|N>>>9),N=T+(P^S^C)+F[1]+2763975236&4294967295,T=P+(N<<4&4294967295|N>>>28),N=C+(T^P^S)+F[4]+1272893353&4294967295,C=T+(N<<11&4294967295|N>>>21),N=S+(C^T^P)+F[7]+4139469664&4294967295,S=C+(N<<16&4294967295|N>>>16),N=P+(S^C^T)+F[10]+3200236656&4294967295,P=S+(N<<23&4294967295|N>>>9),N=T+(P^S^C)+F[13]+681279174&4294967295,T=P+(N<<4&4294967295|N>>>28),N=C+(T^P^S)+F[0]+3936430074&4294967295,C=T+(N<<11&4294967295|N>>>21),N=S+(C^T^P)+F[3]+3572445317&4294967295,S=C+(N<<16&4294967295|N>>>16),N=P+(S^C^T)+F[6]+76029189&4294967295,P=S+(N<<23&4294967295|N>>>9),N=T+(P^S^C)+F[9]+3654602809&4294967295,T=P+(N<<4&4294967295|N>>>28),N=C+(T^P^S)+F[12]+3873151461&4294967295,C=T+(N<<11&4294967295|N>>>21),N=S+(C^T^P)+F[15]+530742520&4294967295,S=C+(N<<16&4294967295|N>>>16),N=P+(S^C^T)+F[2]+3299628645&4294967295,P=S+(N<<23&4294967295|N>>>9),N=T+(S^(P|~C))+F[0]+4096336452&4294967295,T=P+(N<<6&4294967295|N>>>26),N=C+(P^(T|~S))+F[7]+1126891415&4294967295,C=T+(N<<10&4294967295|N>>>22),N=S+(T^(C|~P))+F[14]+2878612391&4294967295,S=C+(N<<15&4294967295|N>>>17),N=P+(C^(S|~T))+F[5]+4237533241&4294967295,P=S+(N<<21&4294967295|N>>>11),N=T+(S^(P|~C))+F[12]+1700485571&4294967295,T=P+(N<<6&4294967295|N>>>26),N=C+(P^(T|~S))+F[3]+2399980690&4294967295,C=T+(N<<10&4294967295|N>>>22),N=S+(T^(C|~P))+F[10]+4293915773&4294967295,S=C+(N<<15&4294967295|N>>>17),N=P+(C^(S|~T))+F[1]+2240044497&4294967295,P=S+(N<<21&4294967295|N>>>11),N=T+(S^(P|~C))+F[8]+1873313359&4294967295,T=P+(N<<6&4294967295|N>>>26),N=C+(P^(T|~S))+F[15]+4264355552&4294967295,C=T+(N<<10&4294967295|N>>>22),N=S+(T^(C|~P))+F[6]+2734768916&4294967295,S=C+(N<<15&4294967295|N>>>17),N=P+(C^(S|~T))+F[13]+1309151649&4294967295,P=S+(N<<21&4294967295|N>>>11),N=T+(S^(P|~C))+F[4]+4149444226&4294967295,T=P+(N<<6&4294967295|N>>>26),N=C+(P^(T|~S))+F[11]+3174756917&4294967295,C=T+(N<<10&4294967295|N>>>22),N=S+(T^(C|~P))+F[2]+718787259&4294967295,S=C+(N<<15&4294967295|N>>>17),N=P+(C^(S|~T))+F[9]+3951481745&4294967295,L.g[0]=L.g[0]+T&4294967295,L.g[1]=L.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,L.g[2]=L.g[2]+S&4294967295,L.g[3]=L.g[3]+C&4294967295}i.prototype.u=function(L,T){T===void 0&&(T=L.length);for(var P=T-this.blockSize,F=this.B,S=this.h,C=0;C<T;){if(S==0)for(;C<=P;)r(this,L,C),C+=this.blockSize;if(typeof L=="string"){for(;C<T;)if(F[S++]=L.charCodeAt(C++),S==this.blockSize){r(this,F),S=0;break}}else for(;C<T;)if(F[S++]=L[C++],S==this.blockSize){r(this,F),S=0;break}}this.h=S,this.o+=T},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var T=1;T<L.length-8;++T)L[T]=0;var P=8*this.o;for(T=L.length-8;T<L.length;++T)L[T]=P&255,P/=256;for(this.u(L),L=Array(16),T=P=0;4>T;++T)for(var F=0;32>F;F+=8)L[P++]=this.g[T]>>>F&255;return L};function s(L,T){var P=a;return Object.prototype.hasOwnProperty.call(P,L)?P[L]:P[L]=T(L)}function o(L,T){this.h=T;for(var P=[],F=!0,S=L.length-1;0<=S;S--){var C=L[S]|0;F&&C==T||(P[S]=C,F=!1)}this.g=P}var a={};function l(L){return-128<=L&&128>L?s(L,function(T){return new o([T|0],0>T?-1:0)}):new o([L|0],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return w(c(-L));for(var T=[],P=1,F=0;L>=P;F++)T[F]=L/P|0,P*=4294967296;return new o(T,0)}function u(L,T){if(L.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(L.charAt(0)=="-")return w(u(L.substring(1),T));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(T,8)),F=h,S=0;S<L.length;S+=8){var C=Math.min(8,L.length-S),N=parseInt(L.substring(S,S+C),T);8>C?(C=c(Math.pow(T,C)),F=F.j(C).add(c(N))):(F=F.j(P),F=F.add(c(N)))}return F}var h=l(0),g=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(b(this))return-w(this).m();for(var L=0,T=1,P=0;P<this.g.length;P++){var F=this.i(P);L+=(0<=F?F:4294967296+F)*T,T*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(y(this))return"0";if(b(this))return"-"+w(this).toString(L);for(var T=c(Math.pow(L,6)),P=this,F="";;){var S=D(P,T).g;P=_(P,S.j(T));var C=((0<P.g.length?P.g[0]:P.h)>>>0).toString(L);if(P=S,y(P))return C+F;for(;6>C.length;)C="0"+C;F=C+F}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function y(L){if(L.h!=0)return!1;for(var T=0;T<L.g.length;T++)if(L.g[T]!=0)return!1;return!0}function b(L){return L.h==-1}n.l=function(L){return L=_(this,L),b(L)?-1:y(L)?0:1};function w(L){for(var T=L.g.length,P=[],F=0;F<T;F++)P[F]=~L.g[F];return new o(P,~L.h).add(g)}n.abs=function(){return b(this)?w(this):this},n.add=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],F=0,S=0;S<=T;S++){var C=F+(this.i(S)&65535)+(L.i(S)&65535),N=(C>>>16)+(this.i(S)>>>16)+(L.i(S)>>>16);F=N>>>16,C&=65535,N&=65535,P[S]=N<<16|C}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(L,T){return L.add(w(T))}n.j=function(L){if(y(this)||y(L))return h;if(b(this))return b(L)?w(this).j(w(L)):w(w(this).j(L));if(b(L))return w(this.j(w(L)));if(0>this.l(p)&&0>L.l(p))return c(this.m()*L.m());for(var T=this.g.length+L.g.length,P=[],F=0;F<2*T;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(var S=0;S<L.g.length;S++){var C=this.i(F)>>>16,N=this.i(F)&65535,nt=L.i(S)>>>16,ft=L.i(S)&65535;P[2*F+2*S]+=N*ft,E(P,2*F+2*S),P[2*F+2*S+1]+=C*ft,E(P,2*F+2*S+1),P[2*F+2*S+1]+=N*nt,E(P,2*F+2*S+1),P[2*F+2*S+2]+=C*nt,E(P,2*F+2*S+2)}for(F=0;F<T;F++)P[F]=P[2*F+1]<<16|P[2*F];for(F=T;F<2*T;F++)P[F]=0;return new o(P,0)};function E(L,T){for(;(L[T]&65535)!=L[T];)L[T+1]+=L[T]>>>16,L[T]&=65535,T++}function k(L,T){this.g=L,this.h=T}function D(L,T){if(y(T))throw Error("division by zero");if(y(L))return new k(h,h);if(b(L))return T=D(w(L),T),new k(w(T.g),w(T.h));if(b(T))return T=D(L,w(T)),new k(w(T.g),T.h);if(30<L.g.length){if(b(L)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var P=g,F=T;0>=F.l(L);)P=W(P),F=W(F);var S=it(P,1),C=it(F,1);for(F=it(F,2),P=it(P,2);!y(F);){var N=C.add(F);0>=N.l(L)&&(S=S.add(P),C=N),F=it(F,1),P=it(P,1)}return T=_(L,S.j(T)),new k(S,T)}for(S=h;0<=L.l(T);){for(P=Math.max(1,Math.floor(L.m()/T.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),C=c(P),N=C.j(T);b(N)||0<N.l(L);)P-=F,C=c(P),N=C.j(T);y(C)&&(C=g),S=S.add(C),L=_(L,N)}return new k(S,L)}n.A=function(L){return D(this,L).h},n.and=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],F=0;F<T;F++)P[F]=this.i(F)&L.i(F);return new o(P,this.h&L.h)},n.or=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],F=0;F<T;F++)P[F]=this.i(F)|L.i(F);return new o(P,this.h|L.h)},n.xor=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],F=0;F<T;F++)P[F]=this.i(F)^L.i(F);return new o(P,this.h^L.h)};function W(L){for(var T=L.g.length+1,P=[],F=0;F<T;F++)P[F]=L.i(F)<<1|L.i(F-1)>>>31;return new o(P,L.h)}function it(L,T){var P=T>>5;T%=32;for(var F=L.g.length-P,S=[],C=0;C<F;C++)S[C]=0<T?L.i(C+P)>>>T|L.i(C+P+1)<<32-T:L.i(C+P);return new o(S,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vE=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ul=o}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _E,Lh,bE,gp,_0,wE,AE,xE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,R){return d==Array.prototype||d==Object.prototype||(d[x]=R.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var x=0;x<d.length;++x){var R=d[x];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=e(this);function r(d,x){if(x)t:{var R=i;d=d.split(".");for(var z=0;z<d.length-1;z++){var vt=d[z];if(!(vt in R))break t;R=R[vt]}d=d[d.length-1],z=R[d],x=x(z),x!=z&&x!=null&&t(R,d,{configurable:!0,writable:!0,value:x})}}function s(d,x){d instanceof String&&(d+="");var R=0,z=!1,vt={next:function(){if(!z&&R<d.length){var St=R++;return{value:x(St,d[St]),done:!1}}return z=!0,{done:!0,value:void 0}}};return vt[Symbol.iterator]=function(){return vt},vt}r("Array.prototype.values",function(d){return d||function(){return s(this,function(x,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function u(d,x,R){return d.call.apply(d.bind,arguments)}function h(d,x,R){if(!d)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(vt,z),d.apply(x,vt)}}return function(){return d.apply(x,arguments)}}function g(d,x,R){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,g.apply(null,arguments)}function p(d,x){var R=Array.prototype.slice.call(arguments,1);return function(){var z=R.slice();return z.push.apply(z,arguments),d.apply(this,z)}}function y(d,x){function R(){}R.prototype=x.prototype,d.aa=x.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(z,vt,St){for(var Gt=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Gt[Ye-2]=arguments[Ye];return x.prototype[vt].apply(z,Gt)}}function b(d){const x=d.length;if(0<x){const R=Array(x);for(let z=0;z<x;z++)R[z]=d[z];return R}return[]}function w(d,x){for(let R=1;R<arguments.length;R++){const z=arguments[R];if(l(z)){const vt=d.length||0,St=z.length||0;d.length=vt+St;for(let Gt=0;Gt<St;Gt++)d[vt+Gt]=z[Gt]}else d.push(z)}}class _{constructor(x,R){this.i=x,this.j=R,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(d){return/^[\s\xa0]*$/.test(d)}function k(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function D(d){return D[" "](d),d}D[" "]=function(){};var W=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function it(d,x,R){for(const z in d)x.call(R,d[z],z,d)}function L(d,x){for(const R in d)x.call(void 0,d[R],R,d)}function T(d){const x={};for(const R in d)x[R]=d[R];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,x){let R,z;for(let vt=1;vt<arguments.length;vt++){z=arguments[vt];for(R in z)d[R]=z[R];for(let St=0;St<P.length;St++)R=P[St],Object.prototype.hasOwnProperty.call(z,R)&&(d[R]=z[R])}}function S(d){var x=1;d=d.split(":");const R=[];for(;0<x&&d.length;)R.push(d.shift()),x--;return d.length&&R.push(d.join(":")),R}function C(d){a.setTimeout(()=>{throw d},0)}function N(){var d=Et;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class nt{constructor(){this.h=this.g=null}add(x,R){const z=ft.get();z.set(x,R),this.h?this.h.next=z:this.g=z,this.h=z}}var ft=new _(()=>new gt,d=>d.reset());class gt{constructor(){this.next=this.g=this.h=null}set(x,R){this.h=x,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,at=!1,Et=new nt,jt=()=>{const d=a.Promise.resolve(void 0);mt=()=>{d.then(kt)}};var kt=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(R){C(R)}var x=ft;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}at=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var et=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};a.addEventListener("test",R,x),a.removeEventListener("test",R,x)}catch{}return d})();function st(d,x){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(W){t:{try{D(x.nodeName);var vt=!0;break t}catch{}vt=!1}vt||(x=null)}}else R=="mouseover"?x=d.fromElement:R=="mouseout"&&(x=d.toElement);this.relatedTarget=x,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ct[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&st.aa.h.call(this)}}y(st,J);var ct={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ot(d,x,R,z,vt){this.listener=d,this.proxy=null,this.src=x,this.type=R,this.capture=!!z,this.ha=vt,this.key=++lt,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Nt(d){this.src=d,this.g={},this.h=0}Nt.prototype.add=function(d,x,R,z,vt){var St=d.toString();d=this.g[St],d||(d=this.g[St]=[],this.h++);var Gt=K(d,x,z,vt);return-1<Gt?(x=d[Gt],R||(x.fa=!1)):(x=new ot(x,this.src,St,!!z,vt),x.fa=R,d.push(x)),x};function H(d,x){var R=x.type;if(R in d.g){var z=d.g[R],vt=Array.prototype.indexOf.call(z,x,void 0),St;(St=0<=vt)&&Array.prototype.splice.call(z,vt,1),St&&(dt(x),d.g[R].length==0&&(delete d.g[R],d.h--))}}function K(d,x,R,z){for(var vt=0;vt<d.length;++vt){var St=d[vt];if(!St.da&&St.listener==x&&St.capture==!!R&&St.ha==z)return vt}return-1}var G="closure_lm_"+(1e6*Math.random()|0),j={};function Tt(d,x,R,z,vt){if(Array.isArray(x)){for(var St=0;St<x.length;St++)Tt(d,x[St],R,z,vt);return null}return R=$t(R),d&&d[tt]?d.K(x,R,c(z)?!!z.capture:!1,vt):At(d,x,R,!1,z,vt)}function At(d,x,R,z,vt,St){if(!x)throw Error("Invalid event type");var Gt=c(vt)?!!vt.capture:!!vt,Ye=Rt(d);if(Ye||(d[G]=Ye=new Nt(d)),R=Ye.add(x,R,z,Gt,St),R.proxy)return R;if(z=Ct(),R.proxy=z,z.src=d,z.listener=R,d.addEventListener)et||(vt=Gt),vt===void 0&&(vt=!1),d.addEventListener(x.toString(),z,vt);else if(d.attachEvent)d.attachEvent(_t(x.toString()),z);else if(d.addListener&&d.removeListener)d.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ct(){function d(R){return x.call(d.src,d.listener,R)}const x=zt;return d}function yt(d,x,R,z,vt){if(Array.isArray(x))for(var St=0;St<x.length;St++)yt(d,x[St],R,z,vt);else z=c(z)?!!z.capture:!!z,R=$t(R),d&&d[tt]?(d=d.i,x=String(x).toString(),x in d.g&&(St=d.g[x],R=K(St,R,z,vt),-1<R&&(dt(St[R]),Array.prototype.splice.call(St,R,1),St.length==0&&(delete d.g[x],d.h--)))):d&&(d=Rt(d))&&(x=d.g[x.toString()],d=-1,x&&(d=K(x,R,z,vt)),(R=-1<d?x[d]:null)&&It(R))}function It(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[tt])H(x.i,d);else{var R=d.type,z=d.proxy;x.removeEventListener?x.removeEventListener(R,z,d.capture):x.detachEvent?x.detachEvent(_t(R),z):x.addListener&&x.removeListener&&x.removeListener(z),(R=Rt(x))?(H(R,d),R.h==0&&(R.src=null,x[G]=null)):dt(d)}}}function _t(d){return d in j?j[d]:j[d]="on"+d}function zt(d,x){if(d.da)d=!0;else{x=new st(x,this);var R=d.listener,z=d.ha||d.src;d.fa&&It(d),d=R.call(z,x)}return d}function Rt(d){return d=d[G],d instanceof Nt?d:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(d){return typeof d=="function"?d:(d[Yt]||(d[Yt]=function(x){return d.handleEvent(x)}),d[Yt])}function Ht(){V.call(this),this.i=new Nt(this),this.M=this,this.F=null}y(Ht,V),Ht.prototype[tt]=!0,Ht.prototype.removeEventListener=function(d,x,R,z){yt(this,d,x,R,z)};function ne(d,x){var R,z=d.F;if(z)for(R=[];z;z=z.F)R.push(z);if(d=d.M,z=x.type||x,typeof x=="string")x=new J(x,d);else if(x instanceof J)x.target=x.target||d;else{var vt=x;x=new J(z,d),F(x,vt)}if(vt=!0,R)for(var St=R.length-1;0<=St;St--){var Gt=x.g=R[St];vt=Xt(Gt,z,!0,x)&&vt}if(Gt=x.g=d,vt=Xt(Gt,z,!0,x)&&vt,vt=Xt(Gt,z,!1,x)&&vt,R)for(St=0;St<R.length;St++)Gt=x.g=R[St],vt=Xt(Gt,z,!1,x)&&vt}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var R=d.g[x],z=0;z<R.length;z++)dt(R[z]);delete d.g[x],d.h--}}this.F=null},Ht.prototype.K=function(d,x,R,z){return this.i.add(String(d),x,!1,R,z)},Ht.prototype.L=function(d,x,R,z){return this.i.add(String(d),x,!0,R,z)};function Xt(d,x,R,z){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var vt=!0,St=0;St<x.length;++St){var Gt=x[St];if(Gt&&!Gt.da&&Gt.capture==R){var Ye=Gt.listener,Kn=Gt.ha||Gt.src;Gt.fa&&H(d.i,Gt),vt=Ye.call(Kn,z)!==!1&&vt}}return vt&&!z.defaultPrevented}function ee(d,x,R){if(typeof d=="function")R&&(d=g(d,R));else if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function oe(d){d.g=ee(()=>{d.g=null,d.i&&(d.i=!1,oe(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class ie extends V{constructor(x,R){super(),this.m=x,this.l=R,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(d){V.call(this),this.h=d,this.g={}}y(Ne,V);var Be=[];function le(d){it(d.g,function(x,R){this.g.hasOwnProperty(R)&&It(x)},d),d.g={}}Ne.prototype.N=function(){Ne.aa.N.call(this),le(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,je=a.JSON.parse,me=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function De(){}De.prototype.h=null;function Ie(d){return d.h||(d.h=d.i())}function Bn(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function an(){J.call(this,"d")}y(an,J);function we(){J.call(this,"c")}y(we,J);var qe={},js=null;function ni(){return js=js||new Ht}qe.La="serverreachability";function es(d){J.call(this,qe.La,d)}y(es,J);function qi(d){const x=ni();ne(x,new es(x))}qe.STAT_EVENT="statevent";function ve(d,x){J.call(this,qe.STAT_EVENT,d),this.stat=x}y(ve,J);function Ln(d){const x=ni();ne(x,new ve(x,d))}qe.Ma="timingevent";function ns(d,x){J.call(this,qe.Ma,d),this.size=x}y(ns,J);function Ei(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function Ti(){this.g=!0}Ti.prototype.xa=function(){this.g=!1};function jn(d,x,R,z,vt,St){d.info(function(){if(d.g)if(St)for(var Gt="",Ye=St.split("&"),Kn=0;Kn<Ye.length;Kn++){var ze=Ye[Kn].split("=");if(1<ze.length){var Ue=ze[0];ze=ze[1];var Tn=Ue.split("_");Gt=2<=Tn.length&&Tn[1]=="type"?Gt+(Ue+"="+ze+"&"):Gt+(Ue+"=redacted&")}}else Gt=null;else Gt=St;return"XMLHTTP REQ ("+z+") [attempt "+vt+"]: "+x+`
`+R+`
`+Gt})}function di(d,x,R,z,vt,St,Gt){d.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+vt+"]: "+x+`
`+R+`
`+St+" "+Gt})}function Un(d,x,R,z){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Us(d,R)+(z?" "+z:"")})}function Po(d,x){d.info(function(){return"TIMEOUT: "+x})}Ti.prototype.info=function(){};function Us(d,x){if(!d.g)return x;if(!x)return null;try{var R=JSON.parse(x);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var z=R[d];if(!(2>z.length)){var vt=z[1];if(Array.isArray(vt)&&!(1>vt.length)){var St=vt[0];if(St!="noop"&&St!="stop"&&St!="close")for(var Gt=1;Gt<vt.length;Gt++)vt[Gt]=""}}}}return he(R)}catch{return x}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function Hi(){}y(Hi,De),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},ar=new Hi;function ii(d,x,R,z){this.j=d,this.i=x,this.l=R,this.R=z||1,this.U=new Ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qs}function qs(){this.i=null,this.g="",this.h=!1}var Lr={},vs={};function zs(d,x,R){d.L=1,d.v=No(lr(x)),d.m=R,d.P=!0,ko(d,null)}function ko(d,x){d.F=Date.now(),Hs(d),d.A=lr(d.v);var R=d.A,z=d.R;Array.isArray(z)||(z=[String(z)]),Se(R.i,"t",z),d.C=0,R=d.j.J,d.h=new qs,d.g=Jn(d.j,R?x:null,!d.m),0<d.O&&(d.M=new ie(g(d.Y,d,d.g),d.O)),x=d.U,R=d.g,z=d.ca;var vt="readystatechange";Array.isArray(vt)||(vt&&(Be[0]=vt.toString()),vt=Be);for(var St=0;St<vt.length;St++){var Gt=Tt(R,vt[St],z||x.handleEvent,!1,x.h||x);if(!Gt)break;x.g[Gt.key]=Gt}x=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),qi(),jn(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const x=this.M;x&&vr(d)==3?x.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)t:{const Tn=vr(this.g);var x=this.g.Ba();const Fr=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||Tn!=4||x==7||(x==8||0>=Fr?qi(3):qi(2)),va(this);var R=this.g.Z();this.X=R;e:if(Co(this)){var z=Bl(this.g);d="";var vt=z.length,St=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Ii(this);var Gt="";break e}this.h.i=new a.TextDecoder}for(x=0;x<vt;x++)this.h.h=!0,d+=this.h.i.decode(z[x],{stream:!(St&&x==vt-1)});z.length=0,this.h.g+=d,this.C=0,Gt=this.h.g}else Gt=this.g.oa();if(this.o=R==200,di(this.i,this.u,this.A,this.l,this.R,Tn,R),this.o){if(this.T&&!this.K){e:{if(this.g){var Ye,Kn=this.g;if((Ye=Kn.g?Kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ye)){var ze=Ye;break e}}ze=null}if(R=ze)Un(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,R);else{this.o=!1,this.s=3,Ln(12),Or(this),Ii(this);break t}}if(this.P){R=!0;let $i;for(;!this.J&&this.C<Gt.length;)if($i=Xu(this,Gt),$i==vs){Tn==4&&(this.s=4,Ln(14),R=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if($i==Lr){this.s=4,Ln(15),Un(this.i,this.l,Gt,"[Invalid Chunk]"),R=!1;break}else Un(this.i,this.l,$i,null),_a(this,$i);if(Co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||Gt.length!=0||this.h.h||(this.s=1,Ln(16),R=!1),this.o=this.o&&R,!R)Un(this.i,this.l,Gt,"[Invalid Chunked Response]"),Or(this),Ii(this);else if(0<Gt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+Gt.length),se(Ue),Ue.M=!0,Ln(11))}}else Un(this.i,this.l,Gt,null),_a(this,Gt);Tn==4&&Or(this),this.o&&!this.J&&(Tn==4?Ee(this.j,this):(this.o=!1,Hs(this)))}else As(this.g),R==400&&0<Gt.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Or(this),Ii(this)}}}catch{}finally{}};function Co(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Xu(d,x){var R=d.C,z=x.indexOf(`
`,R);return z==-1?vs:(R=Number(x.substring(R,z)),isNaN(R)?Lr:(z+=1,z+R>x.length?vs:(x=x.slice(z,z+R),d.C=z+R,x)))}ii.prototype.cancel=function(){this.J=!0,Or(this)};function Hs(d){d.S=Date.now()+d.I,Pl(d,d.I)}function Pl(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ei(g(d.ba,d),x)}function va(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Po(this.i,this.A),this.L!=2&&(qi(),Ln(17)),Or(this),this.s=2,Ii(this)):Pl(this,this.S-d)};function Ii(d){d.j.G==0||d.J||Ee(d.j,d)}function Or(d){va(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,le(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function _a(d,x){try{var R=d.j;if(R.G!=0&&(R.g==d||$s(R.h,d))){if(!d.K&&$s(R.h,d)&&R.G==3){try{var z=R.Da.g.parse(x)}catch{z=null}if(Array.isArray(z)&&z.length==3){var vt=z;if(vt[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)_e(R),ss(R);else break t;Bt(R),Ln(18)}}else R.za=vt[1],0<R.za-R.T&&37500>vt[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ei(g(R.Za,R),6e3));if(1>=Nl(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ln(R,11)}else if((d.K||R.g==d)&&_e(R),!E(x))for(vt=R.Da.g.parse(x),x=0;x<vt.length;x++){let ze=vt[x];if(R.T=ze[0],ze=ze[1],R.G==2)if(ze[0]=="c"){R.K=ze[1],R.ia=ze[2];const Ue=ze[3];Ue!=null&&(R.la=Ue,R.j.info("VER="+R.la));const Tn=ze[4];Tn!=null&&(R.Aa=Tn,R.j.info("SVER="+R.Aa));const Fr=ze[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(z=1.5*Fr,R.L=z,R.j.info("backChannelRequestTimeoutMs_="+z)),z=R;const $i=d.g;if($i){const Li=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var St=z.h;St.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(St.j=St.l,St.g=new Set,St.h&&(Ll(St,St.h),St.h=null))}if(z.D){const xs=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(z.ya=xs,$e(z.I,z.D,xs))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),z=R;var Gt=d;if(z.qa=gn(z,z.J?z.ia:null,z.W),Gt.K){$n(z.h,Gt);var Ye=Gt,Kn=z.L;Kn&&(Ye.I=Kn),Ye.B&&(va(Ye),Hs(Ye)),z.g=Gt}else Ot(z);0<R.i.length&&v(R)}else ze[0]!="stop"&&ze[0]!="close"||ln(R,7);else R.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ln(R,7):Ta(R):ze[0]!="noop"&&R.l&&R.l.ta(ze),R.v=0)}}qi(4)}catch{}}var kl=class{constructor(d,x){this.g=d,this.map=x}};function Cl(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Nl(d){return d.h?1:d.g?d.g.size:0}function $s(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Ll(d,x){d.g?d.g.add(x):d.h=x}function $n(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Cl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ol(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const R of d.g.values())x=x.concat(R.D);return x}return b(d.i)}function Oc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var x=[],R=d.length,z=0;z<R;z++)x.push(d[z]);return x}x=[],R=0;for(z in d)x[R++]=d[z];return x}function _s(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var x=[];d=d.length;for(var R=0;R<d;R++)x.push(R);return x}x=[],R=0;for(const z in d)x[R++]=z;return x}}}function Ws(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var R=_s(d),z=Oc(d),vt=z.length,St=0;St<vt;St++)x.call(void 0,z[St],R&&R[St],d)}var gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ro(d,x){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var z=d[R].indexOf("="),vt=null;if(0<=z){var St=d[R].substring(0,z);vt=d[R].substring(z+1)}else St=d[R];x(St,vt?decodeURIComponent(vt.replace(/\+/g," ")):"")}}}function pn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pn){this.h=d.h,ba(this,d.j),this.o=d.o,this.g=d.g,wa(this,d.s),this.l=d.l;var x=d.i,R=new yr;R.i=x.i,x.g&&(R.g=new Map(x.g),R.h=x.h),Dc(this,R),this.m=d.m}else d&&(x=String(d).match(gr))?(this.h=!1,ba(this,x[1]||"",!0),this.o=Gs(x[2]||""),this.g=Gs(x[3]||"",!0),wa(this,x[4]),this.l=Gs(x[5]||"",!0),Dc(this,x[6]||"",!0),this.m=Gs(x[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}pn.prototype.toString=function(){var d=[],x=this.j;x&&d.push(mr(x,Mc,!0),":");var R=this.g;return(R||x=="file")&&(d.push("//"),(x=this.o)&&d.push(mr(x,Mc,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(mr(R,R.charAt(0)=="/"?Zu:Qu,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",mr(R,Lo)),d.join("")};function lr(d){return new pn(d)}function ba(d,x,R){d.j=R?Gs(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function wa(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function Dc(d,x,R){x instanceof yr?(d.i=x,th(d.i,d.h)):(R||(x=mr(x,Ml)),d.i=new yr(x,d.h))}function $e(d,x,R){d.i.set(x,R)}function No(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Gs(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function mr(d,x,R){return typeof d=="string"?(d=encodeURI(d).replace(x,Dl),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Dl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Mc=/[#\/\?@]/g,Qu=/[#\?:]/g,Zu=/[#\?]/g,Ml=/[#\?@]/g,Lo=/#/g;function yr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function is(d){d.g||(d.g=new Map,d.h=0,d.i&&Ro(d.i,function(x,R){d.add(decodeURIComponent(x.replace(/\+/g," ")),R)}))}n=yr.prototype,n.add=function(d,x){is(this),this.i=null,d=Ys(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(x),this.h+=1,this};function Ks(d,x){is(d),x=Ys(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Aa(d,x){return is(d),x=Ys(d,x),d.g.has(x)}n.forEach=function(d,x){is(this),this.g.forEach(function(R,z){R.forEach(function(vt){d.call(x,vt,z,this)},this)},this)},n.na=function(){is(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),R=[];for(let z=0;z<x.length;z++){const vt=d[z];for(let St=0;St<vt.length;St++)R.push(x[z])}return R},n.V=function(d){is(this);let x=[];if(typeof d=="string")Aa(this,d)&&(x=x.concat(this.g.get(Ys(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)x=x.concat(d[R])}return x},n.set=function(d,x){return is(this),this.i=null,d=Ys(this,d),Aa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},n.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function Se(d,x,R){Ks(d,x),0<R.length&&(d.i=null,d.g.set(Ys(d,x),b(R)),d.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var R=0;R<x.length;R++){var z=x[R];const St=encodeURIComponent(String(z)),Gt=this.V(z);for(z=0;z<Gt.length;z++){var vt=St;Gt[z]!==""&&(vt+="="+encodeURIComponent(String(Gt[z]))),d.push(vt)}}return this.i=d.join("&")};function Ys(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function th(d,x){x&&!d.j&&(is(d),d.i=null,d.g.forEach(function(R,z){var vt=z.toLowerCase();z!=vt&&(Ks(this,z),Se(this,vt,R))},d)),d.j=x}function eh(d,x){const R=new Ti;if(a.Image){const z=new Image;z.onload=p(Pi,R,"TestLoadImage: loaded",!0,x,z),z.onerror=p(Pi,R,"TestLoadImage: error",!1,x,z),z.onabort=p(Pi,R,"TestLoadImage: abort",!1,x,z),z.ontimeout=p(Pi,R,"TestLoadImage: timeout",!1,x,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=d}else x(!1)}function nh(d,x){const R=new Ti,z=new AbortController,vt=setTimeout(()=>{z.abort(),Pi(R,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:z.signal}).then(St=>{clearTimeout(vt),St.ok?Pi(R,"TestPingServer: ok",!0,x):Pi(R,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(vt),Pi(R,"TestPingServer: error",!1,x)})}function Pi(d,x,R,z,vt){try{vt&&(vt.onload=null,vt.onerror=null,vt.onabort=null,vt.ontimeout=null),z(R)}catch{}}function bs(){this.g=new me}function ih(d,x,R){const z=R||"";try{Ws(d,function(vt,St){let Gt=vt;c(vt)&&(Gt=he(vt)),x.push(z+St+"="+encodeURIComponent(Gt))})}catch(vt){throw x.push(z+"type="+encodeURIComponent("_badmap")),vt}}function xa(d){this.l=d.Ub||null,this.j=d.eb||!1}y(xa,De),xa.prototype.g=function(){return new ws(this.l,this.j)},xa.prototype.i=(function(d){return function(){return d}})({});function ws(d,x){Ht.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ws,Ht),n=ws.prototype,n.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,rs(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sa(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sa(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Dr(this):rs(this),this.readyState==3&&Sa(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Dr(this))},n.Qa=function(d){this.g&&(this.response=d,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,rs(d)}n.setRequestHeader=function(d,x){this.u.append(d,x)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var R=x.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=x.next();return d.join(`\r
`)};function rs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Oo(d){let x="";return it(d,function(R,z){x+=z,x+=":",x+=R,x+=`\r
`}),x}function Fl(d,x,R){t:{for(z in R){var z=!1;break t}z=!0}z||(R=Oo(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):$e(d,x,R))}function bn(d){Ht.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(bn,Ht);var Vl=/^https?$/i,Do=["POST","PUT"];n=bn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,x,R,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Ie(this.o):Ie(ar),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(St){Js(this,St);return}if(d=R||"",R=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var vt in z)R.set(vt,z[vt]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const St of z.keys())R.set(St,z.get(St));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(R.keys()).find(St=>St.toLowerCase()=="content-type"),vt=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Do,x,void 0))||z||vt||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,Gt]of R)this.g.setRequestHeader(St,Gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(d),this.u=!1}catch(St){Js(this,St)}};function Js(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,Ea(d),Xs(d)}function Ea(d){d.A||(d.A=!0,ne(d,"complete"),ne(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ne(this,"complete"),ne(this,"abort"),Xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Mo(this):this.bb())},n.bb=function(){Mo(this)};function Mo(d){if(d.h&&typeof o<"u"&&(!d.v[1]||vr(d)!=4||d.Z()!=2)){if(d.u&&vr(d)==4)ee(d.Ea,0,d);else if(ne(d,"readystatechange"),vr(d)==4){d.h=!1;try{const Gt=d.Z();t:switch(Gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var R;if(!(R=x)){var z;if(z=Gt===0){var vt=String(d.D).match(gr)[1]||null;!vt&&a.self&&a.self.location&&(vt=a.self.location.protocol.slice(0,-1)),z=!Vl.test(vt?vt.toLowerCase():"")}R=z}if(R)ne(d,"complete"),ne(d,"success");else{d.m=6;try{var St=2<vr(d)?d.g.statusText:""}catch{St=""}d.l=St+" ["+d.Z()+"]",Ea(d)}}finally{Xs(d)}}}}function Xs(d,x){if(d.g){Qs(d);const R=d.g,z=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||ne(d,"ready");try{R.onreadystatechange=z}catch{}}}function Qs(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function vr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),je(x)}};function Bl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function As(d){const x={};d=(d.g&&2<=vr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<d.length;z++){if(E(d[z]))continue;var R=S(d[z]);const vt=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const St=x[vt]||[];x[vt]=St,St.push(R)}L(x,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(d,x,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||x}function jl(d){this.Aa=0,this.i=[],this.j=new Ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,d),this.cb=cr("retryDelaySeedMs",1e4,d),this.Wa=cr("forwardChannelMaxRetries",2,d),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Cl(d&&d.concurrentRequestLimit),this.Da=new bs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jl.prototype,n.la=8,n.G=1,n.connect=function(d,x,R,z){Ln(0),this.W=d,this.H=x||{},R&&z!==void 0&&(this.H.OSID=R,this.H.OAID=z),this.F=this.X,this.I=gn(this,null,this.W),v(this)};function Ta(d){if(Ul(d),d.G==3){var x=d.U++,R=lr(d.I);if($e(R,"SID",d.K),$e(R,"RID",x),$e(R,"TYPE","terminate"),rt(d,R),x=new ii(d,d.j,x),x.L=2,x.v=No(lr(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=x.v,R=!0),R||(x.g=Jn(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Hs(x)}Wn(d)}function ss(d){d.g&&(se(d),d.g.cancel(),d.g=null)}function Ul(d){ss(d),d.u&&(a.clearTimeout(d.u),d.u=null),_e(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function v(d){if(!Rl(d.h)&&!d.s){d.s=!0;var x=d.Ga;mt||jt(),at||(mt(),at=!0),Et.add(x,d),d.B=0}}function O(d,x){return Nl(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ei(g(d.Ga,d,x),Qe(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const vt=new ii(this,this.j,d);let St=this.o;if(this.S&&(St?(St=T(St),F(St,this.S)):St=this.S),this.m!==null||this.O||(vt.H=St,St=null),this.P)t:{for(var x=0,R=0;R<this.i.length;R++){e:{var z=this.i[R];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break e}z=void 0}if(z===void 0)break;if(x+=z,4096<x){x=R;break t}if(x===4096||R===this.i.length-1){x=R+1;break t}}x=1e3}else x=1e3;x=pt(this,vt,x),R=lr(this.I),$e(R,"RID",d),$e(R,"CVER",22),this.D&&$e(R,"X-HTTP-Session-Id",this.D),rt(this,R),St&&(this.O?x="headers="+encodeURIComponent(String(Oo(St)))+"&"+x:this.m&&Fl(R,this.m,St)),Ll(this.h,vt),this.Ua&&$e(R,"TYPE","init"),this.P?($e(R,"$req",x),$e(R,"SID","null"),vt.T=!0,zs(vt,R,null)):zs(vt,R,x),this.G=2}}else this.G==3&&(d?X(this,d):this.i.length==0||Rl(this.h)||X(this))};function X(d,x){var R;x?R=x.l:R=d.U++;const z=lr(d.I);$e(z,"SID",d.K),$e(z,"RID",R),$e(z,"AID",d.T),rt(d,z),d.m&&d.o&&Fl(z,d.m,d.o),R=new ii(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),x&&(d.i=x.D.concat(d.i)),x=pt(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ll(d.h,R),zs(R,z,x)}function rt(d,x){d.H&&it(d.H,function(R,z){$e(x,z,R)}),d.l&&Ws({},function(R,z){$e(x,z,R)})}function pt(d,x,R){R=Math.min(d.i.length,R);var z=d.l?g(d.l.Na,d.l,d):null;t:{var vt=d.i;let St=-1;for(;;){const Gt=["count="+R];St==-1?0<R?(St=vt[0].g,Gt.push("ofs="+St)):St=0:Gt.push("ofs="+St);let Ye=!0;for(let Kn=0;Kn<R;Kn++){let ze=vt[Kn].g;const Ue=vt[Kn].map;if(ze-=St,0>ze)St=Math.max(0,vt[Kn].g-100),Ye=!1;else try{ih(Ue,Gt,"req"+ze+"_")}catch{z&&z(Ue)}}if(Ye){z=Gt.join("&");break t}}}return d=d.i.splice(0,R),x.D=d,z}function Ot(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;mt||jt(),at||(mt(),at=!0),Et.add(x,d),d.v=0}}function Bt(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ei(g(d.Fa,d),Qe(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ue(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ei(g(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),ss(this),ue(this))};function se(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ue(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=lr(d.qa);$e(x,"RID","rpc"),$e(x,"SID",d.K),$e(x,"AID",d.T),$e(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(x,"TO",d.ja),$e(x,"TYPE","xmlhttp"),rt(d,x),d.m&&d.o&&Fl(x,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=No(lr(x)),R.m=null,R.P=!0,ko(R,d)}n.Za=function(){this.C!=null&&(this.C=null,ss(this),Bt(this),Ln(19))};function _e(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Ee(d,x){var R=null;if(d.g==x){_e(d),se(d),d.g=null;var z=2}else if($s(d.h,x))R=x.D,$n(d.h,x),z=1;else return;if(d.G!=0){if(x.o)if(z==1){R=x.m?x.m.length:0,x=Date.now()-x.F;var vt=d.B;z=ni(),ne(z,new ns(z,R)),v(d)}else Ot(d);else if(vt=x.s,vt==3||vt==0&&0<x.X||!(z==1&&O(d,x)||z==2&&Bt(d)))switch(R&&0<R.length&&(x=d.h,x.i=x.i.concat(R)),vt){case 1:ln(d,5);break;case 4:ln(d,10);break;case 3:ln(d,6);break;default:ln(d,2)}}}function Qe(d,x){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*x}function ln(d,x){if(d.j.info("Error code "+x),x==2){var R=g(d.fb,d),z=d.Xa;const vt=!z;z=new pn(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ba(z,"https"),No(z),vt?eh(z.toString(),R):nh(z.toString(),R)}else Ln(2);d.G=0,d.l&&d.l.sa(x),Wn(d),Ul(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function Wn(d){if(d.G=0,d.ka=[],d.l){const x=Ol(d.h);(x.length!=0||d.i.length!=0)&&(w(d.ka,x),w(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function gn(d,x,R){var z=R instanceof pn?lr(R):new pn(R);if(z.g!="")x&&(z.g=x+"."+z.g),wa(z,z.s);else{var vt=a.location;z=vt.protocol,x=x?x+"."+vt.hostname:vt.hostname,vt=+vt.port;var St=new pn(null);z&&ba(St,z),x&&(St.g=x),vt&&wa(St,vt),R&&(St.l=R),z=St}return R=d.D,x=d.ya,R&&x&&$e(z,R,x),$e(z,"VER",d.la),rt(d,z),z}function Jn(d,x,R){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new bn(new xa({eb:R})):new bn(d.pa),x.Ha(d.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gn(){}n=Gn.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xn(){}Xn.prototype.g=function(d,x){return new En(d,x)};function En(d,x){Ht.call(this),this.g=new jl(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!E(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!E(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Mr(this)}y(En,Ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Ta(this.g)},En.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=he(d),d=R);x.i.push(new kl(x.Ya++,d)),x.G==3&&v(x)},En.prototype.N=function(){this.g.l=null,delete this.j,Ta(this.g),delete this.g,En.aa.N.call(this)};function Ni(d){an.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){t:{for(const R in x){d=R;break t}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}y(Ni,an);function ql(){we.call(this),this.status=1}y(ql,we);function Mr(d){this.g=d}y(Mr,Gn),Mr.prototype.ua=function(){ne(this.g,"a")},Mr.prototype.ta=function(d){ne(this.g,new Ni(d))},Mr.prototype.sa=function(d){ne(this.g,new ql)},Mr.prototype.ra=function(){ne(this.g,"b")},Xn.prototype.createWebChannel=Xn.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,xE=function(){return new Xn},AE=function(){return ni()},wE=qe,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,gp=zi,Nr.COMPLETE="complete",bE=Nr,Bn.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Lh=Bn,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,_E=bn}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});const sb="@firebase/firestore",ob="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Cy("@firebase/firestore");function Kc(){return bc.logLevel}function re(n,...t){if(bc.logLevel<=We.DEBUG){const e=t.map(qy);bc.debug(`Firestore (${qu}): ${n}`,...e)}}function ua(n,...t){if(bc.logLevel<=We.ERROR){const e=t.map(qy);bc.error(`Firestore (${qu}): ${n}`,...e)}}function Eu(n,...t){if(bc.logLevel<=We.WARN){const e=t.map(qy);bc.warn(`Firestore (${qu}): ${n}`,...e)}}function qy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,SE(n,i,e)}function SE(n,t,e){let i=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ua(i),new Error(i)}function dn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||SE(t,r,i)}function Re(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ma{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class I8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Qi.UNAUTHENTICATED)))}shutdown(){}}class P8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class k8{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){dn(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve();let s=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sa,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const l=s;t.enqueueRetryable((async()=>{await l.promise,await r(this.currentUser)}))},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sa)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string",31837,{l:i}),new EE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dn(t===null||typeof t=="string",2055,{h:t}),new Qi(t)}}class C8{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R8{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new C8(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Qi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ab{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N8{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,us(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){dn(this.o===void 0,3512);const i=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>i(s)))};const r=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ab(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(dn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ab(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=L8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function Ge(n,t){return n<t?-1:n>t?1:0}function b0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),s=t.charAt(i);if(r!==s)return r1(r)===r1(s)?Ge(r,s):r1(r)?1:-1}return Ge(n.length,t.length)}const O8=55296,D8=57343;function r1(n){const t=n.charCodeAt(0);return t>=O8&&t<=D8}function Tu(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__name__";class uo{constructor(t,e,i){e===void 0?e=0:e>t.length&&xe(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xe(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return uo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof uo?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=uo.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return Ge(t.length,e.length)}static compareSegments(t,e){const i=uo.isNumericId(t),r=uo.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?uo.extractNumericId(t).compare(uo.extractNumericId(e)):b0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ul.fromString(t.substring(4,t.length-2))}}class kn extends uo{construct(t,e,i){return new kn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new te(Ft.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new kn(e)}static emptyPath(){return new kn([])}}const M8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends uo{construct(t,e,i){return new ji(t,e,i)}static isValidIdentifier(t){return M8.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new ji([lb])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new te(Ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new te(Ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(Ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new te(Ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ji(e)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.path=t}static fromPath(t){return new ye(kn.fromString(t))}static fromName(t){return new ye(kn.fromString(t).popFirst(5))}static empty(){return new ye(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return kn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ye(new kn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n,t,e){if(!e)throw new te(Ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function F8(n,t,e,i){if(t===!0&&i===!0)throw new te(Ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function cb(n){if(!ye.isDocumentKey(n))throw new te(Ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ub(n){if(ye.isDocumentKey(n))throw new te(Ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function Pr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new te(Ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qg(n);throw new te(Ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function V8(n,t){if(t<=0)throw new te(Ft.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xf(n,t){if(!IE(n))throw new te(Ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const o=n[i];if(r&&typeof o!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${i}' field to equal '${s.value}'`;break}}if(e)throw new te(Ft.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-62135596800,fb=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(t){return Fn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*fb);return new Fn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new te(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new te(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<hb)throw new te(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fb}_compareTo(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xf(t,Fn._jsonSchema))return new Fn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fn._jsonSchemaVersion="firestore/timestamp/1.0",Fn._jsonSchema={type:mi("string",Fn._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(t){return new Pe(t)}static min(){return new Pe(new Fn(0,0))}static max(){return new Pe(new Fn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function B8(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Pe.fromTimestamp(i===1e9?new Fn(e+1,0):new Fn(e,i));return new gl(r,ye.empty(),t)}function j8(n){return new gl(n.readTime,n.key,Af)}class gl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new gl(Pe.min(),ye.empty(),Af)}static max(){return new gl(Pe.max(),ye.empty(),Af)}}function U8(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ye.comparator(n.documentKey,t.documentKey),e!==0?e:Ge(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n){if(n.code!==Ft.FAILED_PRECONDITION||n.message!==q8)throw n;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Vt(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Vt?e:Vt.resolve(e)}catch(e){return Vt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Vt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Vt.reject(e)}static resolve(t){return new Vt(((e,i)=>{e(t)}))}static reject(t){return new Vt(((e,i)=>{i(t)}))}static waitFor(t){return new Vt(((e,i)=>{let r=0,s=0,o=!1;t.forEach((a=>{++r,a.next((()=>{++s,o&&s===r&&e()}),(l=>i(l)))})),o=!0,s===r&&e()}))}static or(t){let e=Vt.resolve(!1);for(const i of t)e=e.next((r=>r?Vt.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,s)=>{i.push(e.call(this,r,s))})),this.waitFor(i)}static mapArray(t,e){return new Vt(((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next((u=>{o[c]=u,++a,a===s&&i(o)}),(u=>r(u)))}}))}static doWhile(t,e){return new Vt(((i,r)=>{const s=()=>{t()===!0?e().next((()=>{s()}),r):i()};s()}))}}function H8(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Hg(n){return n==null}function Xp(n){return n===0&&1/n==-1/0}function $8(n){return typeof n=="number"&&Number.isInteger(n)&&!Xp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function W8(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=db(t)),t=G8(n.get(e),t);return db(t)}function G8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case PE:e+="";break;default:e+=s}}return e}function db(n){return n+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Tl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,e){this.comparator=t,this.root=e||Vi.EMPTY}insert(t,e){return new Yn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(t){return new Yn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nd(this.root,t,this.comparator,!0)}}class Nd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Vi.RED,this.left=r??Vi.EMPTY,this.right=s??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Vi(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Vi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xe(27949);return t+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1;Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new Vi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.comparator=t,this.data=new Yn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(t){return new gb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof xi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new xi(this.comparator);return e.data=t,e}}class gb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.fields=t,t.sort(ji.comparator)}static empty(){return new Xr([])}unionWith(t){let e=new xi(ji.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Xr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Tu(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CE("Invalid base64 string: "+s):s}})(t);return new Ui(e)}static fromUint8Array(t){const e=(function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s})(t);return new Ui(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const K8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(n){if(dn(!!n,39018),typeof n=="string"){let t=0;const e=K8.exec(n);if(dn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:li(n.seconds),nanos:li(n.nanos)}}function li(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yl(n){return typeof n=="string"?Ui.fromBase64String(n):Ui.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",NE="__type__",LE="__previous_value__",OE="__local_write_time__";function $y(n){return(n?.mapValue?.fields||{})[NE]?.stringValue===RE}function $g(n){const t=n.mapValue.fields[LE];return $y(t)?$g(t):t}function xf(n){const t=ml(n.mapValue.fields[OE].timestampValue);return new Fn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t,e,i,r,s,o,a,l,c,u){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Qp="(default)";class Sf{constructor(t,e){this.projectId=t,this.database=e||Qp}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database===Qp}isEqual(t){return t instanceof Sf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__type__",J8="__max__",Ld={mapValue:{}},ME="__vector__",Zp="value";function vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$y(n)?4:Q8(n)?9007199254740991:X8(n)?10:11:xe(28295,{value:n})}function Eo(n,t){if(n===t)return!0;const e=vl(n);if(e!==vl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xf(n).isEqual(xf(t));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ml(r.timestampValue),a=ml(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,s){return yl(r.bytesValue).isEqual(yl(s.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,s){return li(r.geoPointValue.latitude)===li(s.geoPointValue.latitude)&&li(r.geoPointValue.longitude)===li(s.geoPointValue.longitude)})(n,t);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return li(r.integerValue)===li(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=li(r.doubleValue),a=li(s.doubleValue);return o===a?Xp(o)===Xp(a):isNaN(o)&&isNaN(a)}return!1})(n,t);case 9:return Tu(n.arrayValue.values||[],t.arrayValue.values||[],Eo);case 10:case 11:return(function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(pb(o)!==pb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Eo(o[l],a[l])))return!1;return!0})(n,t);default:return xe(52216,{left:n})}}function Ef(n,t){return(n.values||[]).find((e=>Eo(e,t)))!==void 0}function Iu(n,t){if(n===t)return 0;const e=vl(n),i=vl(t);if(e!==i)return Ge(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,t.booleanValue);case 2:return(function(s,o){const a=li(s.integerValue||s.doubleValue),l=li(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,t);case 3:return mb(n.timestampValue,t.timestampValue);case 4:return mb(xf(n),xf(t));case 5:return b0(n.stringValue,t.stringValue);case 6:return(function(s,o){const a=yl(s),l=yl(o);return a.compareTo(l)})(n.bytesValue,t.bytesValue);case 7:return(function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ge(a[c],l[c]);if(u!==0)return u}return Ge(a.length,l.length)})(n.referenceValue,t.referenceValue);case 8:return(function(s,o){const a=Ge(li(s.latitude),li(o.latitude));return a!==0?a:Ge(li(s.longitude),li(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return yb(n.arrayValue,t.arrayValue);case 10:return(function(s,o){const a=s.fields||{},l=o.fields||{},c=a[Zp]?.arrayValue,u=l[Zp]?.arrayValue,h=Ge(c?.values?.length||0,u?.values?.length||0);return h!==0?h:yb(c,u)})(n.mapValue,t.mapValue);case 11:return(function(s,o){if(s===Ld.mapValue&&o===Ld.mapValue)return 0;if(s===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const g=b0(l[h],u[h]);if(g!==0)return g;const p=Iu(a[l[h]],c[u[h]]);if(p!==0)return p}return Ge(l.length,u.length)})(n.mapValue,t.mapValue);default:throw xe(23264,{he:e})}}function mb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ge(n,t);const e=ml(n),i=ml(t),r=Ge(e.seconds,i.seconds);return r!==0?r:Ge(e.nanos,i.nanos)}function yb(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=Iu(e[r],i[r]);if(s)return s}return Ge(e.length,i.length)}function Pu(n){return w0(n)}function w0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=ml(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return yl(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ye.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=w0(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${w0(e.fields[o])}`;return r+"}"})(n.mapValue):xe(61005,{value:n})}function mp(n){switch(vl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$g(n);return t?16+mp(t):16;case 5:return 2*n.stringValue.length;case 6:return yl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+mp(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Tl(i.fields,((s,o)=>{r+=s.length+mp(o)})),r})(n.mapValue);default:throw xe(13486,{value:n})}}function vb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function A0(n){return!!n&&"integerValue"in n}function Wy(n){return!!n&&"arrayValue"in n}function _b(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yp(n){return!!n&&"mapValue"in n}function X8(n){return(n?.mapValue?.fields||{})[DE]?.stringValue===ME}function Xh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Tl(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Xh(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Xh(n.arrayValue.values[e]);return t}return{...n}}function Q8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===J8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.value=t}static empty(){return new Er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xh(e)}setAll(t){let e=ji.emptyPath(),i={},r=[];t.forEach(((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Xh(o):r.push(a.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());yp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Eo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Tl(e,((r,s)=>t[r]=s));for(const r of i)delete t[r]}clone(){return new Er(Xh(this.value))}}function FE(n){const t=[];return Tl(n.fields,((e,i)=>{const r=new ji([e]);if(yp(i)){const s=FE(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)})),new Xr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new tr(t,0,Pe.min(),Pe.min(),Pe.min(),Er.empty(),0)}static newFoundDocument(t,e,i,r){return new tr(t,1,e,Pe.min(),i,r,0)}static newNoDocument(t,e){return new tr(t,2,e,Pe.min(),Pe.min(),Er.empty(),0)}static newUnknownDocument(t,e){return new tr(t,3,e,Pe.min(),Pe.min(),Er.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e){this.position=t,this.inclusive=e}}function wb(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=ye.comparator(ye.fromName(o.referenceValue),e.key):i=Iu(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ab(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Eo(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e="asc"){this.field=t,this.dir=e}}function Z8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class gi extends VE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new eO(t,e,i):e==="array-contains"?new rO(t,i):e==="in"?new sO(t,i):e==="not-in"?new oO(t,i):e==="array-contains-any"?new aO(t,i):new gi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new nO(t,i):new iO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Iu(e,this.value)):e!==null&&vl(this.value)===vl(e)&&this.matchesComparison(Iu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends VE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Os(t,e)}matches(t){return BE(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(n){return n.op==="and"}function jE(n){return tO(n)&&BE(n)}function tO(n){for(const t of n.filters)if(t instanceof Os)return!1;return!0}function x0(n){if(n instanceof gi)return n.field.canonicalString()+n.op.toString()+Pu(n.value);if(jE(n))return n.filters.map((t=>x0(t))).join(",");{const t=n.filters.map((e=>x0(e))).join(",");return`${n.op}(${t})`}}function UE(n,t){return n instanceof gi?(function(i,r){return r instanceof gi&&i.op===r.op&&i.field.isEqual(r.field)&&Eo(i.value,r.value)})(n,t):n instanceof Os?(function(i,r){return r instanceof Os&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,o,a)=>s&&UE(o,r.filters[a])),!0):!1})(n,t):void xe(19439)}function qE(n){return n instanceof gi?(function(e){return`${e.field.canonicalString()} ${e.op} ${Pu(e.value)}`})(n):n instanceof Os?(function(e){return e.op.toString()+" {"+e.getFilters().map(qE).join(" ,")+"}"})(n):"Filter"}class eO extends gi{constructor(t,e,i){super(t,e,i),this.key=ye.fromName(i.referenceValue)}matches(t){const e=ye.comparator(t.key,this.key);return this.matchesComparison(e)}}class nO extends gi{constructor(t,e){super(t,"in",e),this.keys=zE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class iO extends gi{constructor(t,e){super(t,"not-in",e),this.keys=zE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function zE(n,t){return(t.arrayValue?.values||[]).map((e=>ye.fromName(e.referenceValue)))}class rO extends gi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wy(e)&&Ef(e.arrayValue,this.value)}}class sO extends gi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ef(this.value.arrayValue,e)}}class oO extends gi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ef(this.value.arrayValue,e)}}class aO extends gi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Ef(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function xb(n,t=null,e=[],i=[],r=null,s=null,o=null){return new lO(n,t,e,i,r,s,o)}function Gy(n){const t=Re(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>x0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),Hg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Pu(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Pu(i))).join(",")),t.Te=e}return t.Te}function Ky(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Z8(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!UE(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ab(n.startAt,t.startAt)&&Ab(n.endAt,t.endAt)}function S0(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cO(n,t,e,i,r,s,o,a){return new $u(n,t,e,i,r,s,o,a)}function Wg(n){return new $u(n)}function Sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HE(n){return n.collectionGroup!==null}function Qh(n){const t=Re(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xi(ji.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(a=a.add(c.field))}))})),a})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Tf(s,i))})),e.has(ji.keyField().canonicalString())||t.Ie.push(new Tf(ji.keyField(),i))}return t.Ie}function yo(n){const t=Re(n);return t.Ee||(t.Ee=uO(t,Qh(n))),t.Ee}function uO(n,t){if(n.limitType==="F")return xb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new Tf(r.field,s)}));const e=n.endAt?new tg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new tg(n.startAt.position,n.startAt.inclusive):null;return xb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function E0(n,t){const e=n.filters.concat([t]);return new $u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function eg(n,t,e){return new $u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gg(n,t){return Ky(yo(n),yo(t))&&n.limitType===t.limitType}function $E(n){return`${Gy(yo(n))}|lt:${n.limitType}`}function Yc(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>qE(r))).join(", ")}]`),Hg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Pu(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Pu(r))).join(",")),`Target(${i})`})(yo(n))}; limitType=${n.limitType})`}function Kg(n,t){return t.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ye.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,t)&&(function(i,r){for(const s of Qh(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(o,a,l){const c=wb(o,a,l);return o.inclusive?c<=0:c<0})(i.startAt,Qh(i),r)||i.endAt&&!(function(o,a,l){const c=wb(o,a,l);return o.inclusive?c>=0:c>0})(i.endAt,Qh(i),r))})(n,t)}function hO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WE(n){return(t,e)=>{let i=!1;for(const r of Qh(n)){const s=fO(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function fO(n,t,e){const i=n.field.isKeyField()?ye.comparator(t.key,e.key):(function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Iu(l,c):xe(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Tl(this.inner,((e,i)=>{for(const[r,s]of i)t(r,s)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Yn(ye.comparator);function ha(){return dO}const GE=new Yn(ye.comparator);function Oh(...n){let t=GE;for(const e of n)t=t.insert(e.key,e);return t}function KE(n){let t=GE;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function rc(){return Zh()}function YE(){return Zh()}function Zh(){return new Pc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const pO=new Yn(ye.comparator),gO=new xi(ye.comparator);function Ke(...n){let t=gO;for(const e of n)t=t.add(e);return t}const mO=new xi(Ge);function yO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(t)?"-0":t}}function JE(n){return{integerValue:""+n}}function vO(n,t){return $8(t)?JE(t):Yy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function _O(n,t,e){return n instanceof If?(function(r,s){const o={fields:{[NE]:{stringValue:RE},[OE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&$y(s)&&(s=$g(s)),s&&(o.fields[LE]=s),{mapValue:o}})(e,t):n instanceof Pf?QE(n,t):n instanceof kf?ZE(n,t):(function(r,s){const o=XE(r,s),a=Eb(o)+Eb(r.Ae);return A0(o)&&A0(r.Ae)?JE(a):Yy(r.serializer,a)})(n,t)}function bO(n,t,e){return n instanceof Pf?QE(n,t):n instanceof kf?ZE(n,t):e}function XE(n,t){return n instanceof ng?(function(i){return A0(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(t)?t:{integerValue:0}:null}class If extends Yg{}class Pf extends Yg{constructor(t){super(),this.elements=t}}function QE(n,t){const e=t4(t);for(const i of n.elements)e.some((r=>Eo(r,i)))||e.push(i);return{arrayValue:{values:e}}}class kf extends Yg{constructor(t){super(),this.elements=t}}function ZE(n,t){let e=t4(t);for(const i of n.elements)e=e.filter((r=>!Eo(r,i)));return{arrayValue:{values:e}}}class ng extends Yg{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Eb(n){return li(n.integerValue||n.doubleValue)}function t4(n){return Wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,e){this.field=t,this.transform=e}}function AO(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Pf&&r instanceof Pf||i instanceof kf&&r instanceof kf?Tu(i.elements,r.elements,Eo):i instanceof ng&&r instanceof ng?Eo(i.Ae,r.Ae):i instanceof If&&r instanceof If})(n.transform,t.transform)}class xO{constructor(t,e){this.version=t,this.transformResults=e}}class ps{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ps}static exists(t){return new ps(void 0,t)}static updateTime(t){return new ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Jg{}function e4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Jy(n.key,ps.none()):new Qf(n.key,n.data,ps.none());{const e=n.data,i=Er.empty();let r=new xi(ji.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Il(n.key,i,new Xr(r.toArray()),ps.none())}}function SO(n,t,e){n instanceof Qf?(function(r,s,o){const a=r.value.clone(),l=Ib(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,t,e):n instanceof Il?(function(r,s,o){if(!vp(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ib(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(n4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,t,e):(function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function tf(n,t,e,i){return n instanceof Qf?(function(s,o,a,l){if(!vp(s.precondition,o))return a;const c=s.value.clone(),u=Pb(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(n,t,e,i):n instanceof Il?(function(s,o,a,l){if(!vp(s.precondition,o))return a;const c=Pb(s.fieldTransforms,l,o),u=o.data;return u.setAll(n4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((h=>h.field)))})(n,t,e,i):(function(s,o,a){return vp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,t,e)}function EO(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=XE(i.transform,r||null);s!=null&&(e===null&&(e=Er.empty()),e.set(i.field,s))}return e||null}function Tb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Tu(i,r,((s,o)=>AO(s,o)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Qf extends Jg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Il extends Jg{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function n4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Ib(n,t,e){const i=new Map;dn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,bO(o,a,e[r]))}return i}function Pb(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,_O(s,o,t))}return i}class Jy extends Jg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends Jg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&SO(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=tf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=tf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=YE();return this.mutations.forEach((r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=e4(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ke())}isEqual(t){return this.batchId===t.batchId&&Tu(this.mutations,t.mutations,((e,i)=>Tb(e,i)))&&Tu(this.baseMutations,t.baseMutations,((e,i)=>Tb(e,i)))}}class Xy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){dn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return pO})();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Xy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi,tn;function CO(n){switch(n){case Ft.OK:return xe(64938);case Ft.CANCELLED:case Ft.UNKNOWN:case Ft.DEADLINE_EXCEEDED:case Ft.RESOURCE_EXHAUSTED:case Ft.INTERNAL:case Ft.UNAVAILABLE:case Ft.UNAUTHENTICATED:return!1;case Ft.INVALID_ARGUMENT:case Ft.NOT_FOUND:case Ft.ALREADY_EXISTS:case Ft.PERMISSION_DENIED:case Ft.FAILED_PRECONDITION:case Ft.ABORTED:case Ft.OUT_OF_RANGE:case Ft.UNIMPLEMENTED:case Ft.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function i4(n){if(n===void 0)return ua("GRPC error has no .code"),Ft.UNKNOWN;switch(n){case pi.OK:return Ft.OK;case pi.CANCELLED:return Ft.CANCELLED;case pi.UNKNOWN:return Ft.UNKNOWN;case pi.DEADLINE_EXCEEDED:return Ft.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return Ft.RESOURCE_EXHAUSTED;case pi.INTERNAL:return Ft.INTERNAL;case pi.UNAVAILABLE:return Ft.UNAVAILABLE;case pi.UNAUTHENTICATED:return Ft.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return Ft.INVALID_ARGUMENT;case pi.NOT_FOUND:return Ft.NOT_FOUND;case pi.ALREADY_EXISTS:return Ft.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return Ft.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return Ft.FAILED_PRECONDITION;case pi.ABORTED:return Ft.ABORTED;case pi.OUT_OF_RANGE:return Ft.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return Ft.UNIMPLEMENTED;case pi.DATA_LOSS:return Ft.DATA_LOSS;default:return xe(39323,{code:n})}}(tn=pi||(pi={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new ul([4294967295,4294967295],0);function kb(n){const t=RO().encode(n),e=new vE;return e.update(t),new Uint8Array(e.digest())}function Cb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ul([e,i],0),new ul([r,s],0)]}class Qy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Dh(`Invalid padding: ${e}`);if(i<0)throw new Dh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Dh(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Dh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ul.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ul.fromNumber(i)));return r.compare(NO)===1&&(r=new ul([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=kb(t),[i,r]=Cb(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Qy(s,r,e);return i.forEach((a=>o.insert(a))),o}insert(t){if(this.ge===0)return;const e=kb(t),[i,r]=Cb(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Zf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Xg(Pe.min(),r,new Yn(Ge),ha(),Ke())}}class Zf{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Zf(i,e,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class r4{constructor(t,e){this.targetId=t,this.Ce=e}}class s4{constructor(t,e,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Rb{constructor(){this.ve=0,this.Fe=Nb(),this.Me=Ui.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ke(),e=Ke(),i=Ke();return this.Fe.forEach(((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xe(38017,{changeType:s})}})),new Zf(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Nb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ha(),this.Je=Od(),this.He=Od(),this.Ye=new Yn(Ge)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const s=r.target;if(S0(s))if(i===0){const o=new ye(s.path);this.et(e,o,tr.newNoDocument(o,Pe.min()))}else dn(i===1,20013,{expectedCount:i});else{const o=this._t(e);if(o!==i){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(e);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,c)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=yl(i).toUint8Array()}catch(l){if(l instanceof CE)return Eu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qy(o,r,s)}catch(l){return Eu(l instanceof Dh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(e,s,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&S0(a.target)){const l=new ye(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,tr.newNoDocument(l,t))}s.Be&&(e.set(o,s.ke()),s.qe())}}));let i=Ke();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(i=i.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(t)));const r=new Xg(t,e,this.Ye,this.je,i);return this.je=ha(),this.Je=Od(),this.He=Od(),this.Ye=new Yn(Ge),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Rb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new xi(Ge),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new xi(Ge),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||re("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Od(){return new Yn(ye.comparator)}function Nb(){return new Yn(ye.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class FO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function T0(n,t){return n.useProto3Json||Hg(t)?t:{value:t}}function ig(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function VO(n,t){return ig(n,t.toTimestamp())}function vo(n){return dn(!!n,49232),Pe.fromTimestamp((function(e){const i=ml(e);return new Fn(i.seconds,i.nanos)})(n))}function Zy(n,t){return I0(n,t).canonicalString()}function I0(n,t){const e=(function(r){return new kn(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function a4(n){const t=kn.fromString(n);return dn(f4(t),10190,{key:t.toString()}),t}function P0(n,t){return Zy(n.databaseId,t.path)}function s1(n,t){const e=a4(t);if(e.get(1)!==n.databaseId.projectId)throw new te(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new te(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ye(c4(e))}function l4(n,t){return Zy(n.databaseId,t)}function BO(n){const t=a4(n);return t.length===4?kn.emptyPath():c4(t)}function k0(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c4(n){return dn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Lb(n,t,e){return{name:P0(n,t),fields:e.value.mapValue.fields}}function jO(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe(39313,{state:c})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(dn(u===void 0||typeof u=="string",58123),Ui.fromBase64String(u||"")):(dn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ui.fromUint8Array(u||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&(function(c){const u=c.code===void 0?Ft.UNKNOWN:i4(c.code);return new te(u,c.message||"")})(o);e=new s4(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=s1(n,i.document.name),s=vo(i.document.updateTime),o=i.document.createTime?vo(i.document.createTime):Pe.min(),a=new Er({mapValue:{fields:i.document.fields}}),l=tr.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];e=new _p(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=s1(n,i.document),s=i.readTime?vo(i.readTime):Pe.min(),o=tr.newNoDocument(r,s),a=i.removedTargetIds||[];e=new _p([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=s1(n,i.document),s=i.removedTargetIds||[];e=new _p([],s,r,null)}else{if(!("filter"in t))return xe(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new kO(r,s),a=i.targetId;e=new r4(a,o)}}return e}function UO(n,t){let e;if(t instanceof Qf)e={update:Lb(n,t.key,t.value)};else if(t instanceof Jy)e={delete:P0(n,t.key)};else if(t instanceof Il)e={update:Lb(n,t.key,t.data),updateMask:JO(t.fieldMask)};else{if(!(t instanceof TO))return xe(16599,{Vt:t.type});e={verify:P0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(s,o){const a=o.transform;if(a instanceof If)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ng)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw xe(20930,{transform:o.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:VO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe(27497)})(n,t.precondition)),e}function qO(n,t){return n&&n.length>0?(dn(t!==void 0,14353),n.map((e=>(function(r,s){let o=r.updateTime?vo(r.updateTime):vo(s);return o.isEqual(Pe.min())&&(o=vo(s)),new xO(o,r.transformResults||[])})(e,t)))):[]}function zO(n,t){return{documents:[l4(n,t.path)]}}function HO(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=l4(n,r);const s=(function(c){if(c.length!==0)return h4(Os.create(c,"and"))})(t.filters);s&&(e.structuredQuery.where=s);const o=(function(c){if(c.length!==0)return c.map((u=>(function(g){return{field:Jc(g.field),direction:GO(g.dir)}})(u)))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=T0(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(t.endAt)),{ft:e,parent:r}}function $O(n){let t=BO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){dn(i===1,65062);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=(function(h){const g=u4(h);return g instanceof Os&&jE(g)?g.getFilters():[g]})(e.where));let o=[];e.orderBy&&(o=(function(h){return h.map((g=>(function(y){return new Tf(Xc(y.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(g)))})(e.orderBy));let a=null;e.limit&&(a=(function(h){let g;return g=typeof h=="object"?h.value:h,Hg(g)?null:g})(e.limit));let l=null;e.startAt&&(l=(function(h){const g=!!h.before,p=h.values||[];return new tg(p,g)})(e.startAt));let c=null;return e.endAt&&(c=(function(h){const g=!h.before,p=h.values||[];return new tg(p,g)})(e.endAt)),cO(t,r,o,s,a,"F",l,c)}function WO(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function u4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Xc(e.unaryFilter.field);return gi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Xc(e.unaryFilter.field);return gi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xc(e.unaryFilter.field);return gi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xc(e.unaryFilter.field);return gi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return gi.create(Xc(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Os.create(e.compositeFilter.filters.map((i=>u4(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(e.compositeFilter.op))})(n):xe(30097,{filter:n})}function GO(n){return OO[n]}function KO(n){return DO[n]}function YO(n){return MO[n]}function Jc(n){return{fieldPath:n.canonicalString()}}function Xc(n){return ji.fromServerFormat(n.fieldPath)}function h4(n){return n instanceof gi?(function(e){if(e.op==="=="){if(bb(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NAN"}};if(_b(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bb(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NAN"}};if(_b(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(e.field),op:KO(e.op),value:e.value}}})(n):n instanceof Os?(function(e){const i=e.getFilters().map((r=>h4(r)));return i.length===1?i[0]:{compositeFilter:{op:YO(e.op),filters:i}}})(n):xe(54877,{filter:n})}function JO(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function f4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,e,i,r,s=Pe.min(),o=Pe.min(),a=Ui.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.yt=t}}function QO(n){const t=$O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Cn=new tD}addToCollectionParentIndex(t,e){return this.Cn.add(e),Vt.resolve()}getCollectionParents(t,e){return Vt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Vt.resolve()}deleteFieldIndex(t,e){return Vt.resolve()}deleteAllFieldIndexes(t){return Vt.resolve()}createTargetIndexes(t,e){return Vt.resolve()}getDocumentsMatchingTarget(t,e){return Vt.resolve(null)}getIndexType(t,e){return Vt.resolve(0)}getFieldIndexes(t,e){return Vt.resolve([])}getNextCollectionGroupToUpdate(t){return Vt.resolve(null)}getMinOffset(t,e){return Vt.resolve(gl.min())}getMinOffsetFromCollectionGroup(t,e){return Vt.resolve(gl.min())}updateCollectionGroup(t,e,i){return Vt.resolve()}updateIndexEntries(t,e){return Vt.resolve()}}class tD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new xi(kn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new xi(kn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d4=41943040;class xr{static withCacheSize(t){return new xr(t,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(d4,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ku(0)}static cr(){return new ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="LruGarbageCollector",eD=1048576;function Mb([n,t],[e,i]){const r=Ge(n,e);return r===0?Ge(t,i):r}class nD{constructor(t){this.Ir=t,this.buffer=new xi(Mb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Mb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){re(Db,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hu(e)?re(Db,"Ignoring IndexedDB error during garbage collection: ",e):await zu(e)}await this.Vr(3e5)}))}}class rD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Vt.resolve(zg.ce);const i=new nD(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(Ob)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ob):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(t,r)))).next((h=>(i=h,a=Date.now(),this.removeTargets(t,i,e)))).next((h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(t,i)))).next((h=>(c=Date.now(),Kc()<=We.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h}))))}}function sD(n,t){return new rD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.changes=new Pc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Vt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&tf(i.mutation,r,Xr.empty(),Fn.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ke()){const r=rc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((s=>{let o=Oh();return s.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(t,e){const i=rc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ke())))}populateOverlays(t,e,i){const r=[];return i.forEach((s=>{e.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(t,r).next((s=>{s.forEach(((o,a)=>{e.set(o,a)}))}))}computeViews(t,e,i,r){let s=ha();const o=Zh(),a=(function(){return Zh()})();return e.forEach(((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Il)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),tf(u.mutation,c,u.mutation.getFieldMask(),Fn.now())):o.set(c.key,Xr.empty())})),this.recalculateAndSaveOverlays(t,s).next((l=>(l.forEach(((c,u)=>o.set(c,u))),e.forEach(((c,u)=>a.set(c,new aD(u,o.get(c)??null)))),a)))}recalculateAndSaveOverlays(t,e){const i=Zh();let r=new Yn(((o,a)=>o-a)),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((o=>{for(const a of o)a.keys().forEach((l=>{const c=e.get(l);if(c===null)return;let u=i.get(l)||Xr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||Ke()).add(l);r=r.insert(a.batchId,h)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=YE();u.forEach((g=>{if(!s.has(g)){const p=e4(e.get(g),i.get(g));p!==null&&h.set(g,p),s=s.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return Vt.waitFor(o)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):HE(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Vt.resolve(rc());let a=Af,l=s;return o.next((c=>Vt.forEach(c,((u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?Vt.resolve():this.remoteDocumentCache.getEntry(t,u).next((g=>{l=l.insert(u,g)}))))).next((()=>this.populateOverlays(t,c,s))).next((()=>this.computeViews(t,l,c,Ke()))).next((u=>({batchId:a,changes:KE(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ye(e)).next((i=>{let r=Oh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Oh();return this.indexManager.getCollectionParents(t,s).next((a=>Vt.forEach(a,(l=>{const c=(function(h,g){return new $u(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next((u=>{u.forEach(((h,g)=>{o=o.insert(h,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r)))).next((o=>{s.forEach(((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,tr.newInvalidDocument(u)))}));let a=Oh();return o.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&tf(u.mutation,c,Xr.empty(),Fn.now()),Kg(e,c)&&(a=a.insert(l,c))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Vt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:vo(r.createTime)}})(e)),Vt.resolve()}getNamedQuery(t,e){return Vt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:QO(r.bundledQuery),readTime:vo(r.readTime)}})(e)),Vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new Yn(ye.comparator),this.qr=new Map}getOverlay(t,e){return Vt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=rc();return Vt.forEach(e,(r=>this.getOverlay(t,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,s)=>{this.St(t,e,s)})),Vt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(i)),Vt.resolve()}getOverlaysForCollection(t,e,i){const r=rc(),s=e.length+1,o=new ye(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Vt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Yn(((c,u)=>c-u));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=rc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=rc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>a.set(c,u))),!(a.size()>=r)););return Vt.resolve(a)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new PO(e,i));let s=this.qr.get(e);s===void 0&&(s=Ke(),this.qr.set(e,s)),this.qr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(t){return Vt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Qr=new xi(ki.$r),this.Ur=new xi(ki.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new ki(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new ki(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new ye(new kn([])),i=new ki(e,t),r=new ki(e,t+1),s=[];return this.Ur.forEachInRange([i,r],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new ye(new kn([])),i=new ki(e,t),r=new ki(e,t+1);let s=Ke();return this.Ur.forEachInRange([i,r],(o=>{s=s.add(o.key)})),s}containsKey(t){const e=new ki(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class ki{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return ye.comparator(t.key,e.key)||Ge(t.Yr,e.Yr)}static Kr(t,e){return Ge(t.Yr,e.Yr)||ye.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new xi(ki.$r)}checkEmpty(t){return Vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IO(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new ki(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Vt.resolve(o)}lookupMutationBatch(t,e){return Vt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),s=r<0?0:r;return Vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(this.mutationQueue.length===0?Hy:this.tr-1)}getAllMutationBatches(t){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ki(e,0),r=new ki(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],(o=>{const a=this.Xr(o.Yr);s.push(a)})),Vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xi(Ge);return e.forEach((r=>{const s=new ki(r,0),o=new ki(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{i=i.add(a.Yr)}))})),Vt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;ye.isDocumentKey(s)||(s=s.child(""));const o=new ki(new ye(s),0);let a=new xi(Ge);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Yr)),!0)}),o),Vt.resolve(this.ti(a))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){dn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Vt.forEach(e.mutations,(r=>{const s=new ki(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new ki(e,0),r=this.Zr.firstAfterOrEqual(i);return Vt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Vt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.ri=t,this.docs=(function(){return new Yn(ye.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Vt.resolve(i?i.document.mutableCopy():tr.newInvalidDocument(e))}getEntries(t,e){let i=ha();return e.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():tr.newInvalidDocument(r))})),Vt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ha();const o=e.path,a=new ye(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||U8(j8(u),i)<=0||(r.has(u.key)||Kg(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Vt.resolve(s)}getAllFromCollectionGroup(t,e,i,r){xe(9500)}ii(t,e){return Vt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new pD(this)}getSize(t){return Vt.resolve(this.size)}}class pD extends oD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),Vt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.persistence=t,this.si=new Pc((e=>Gy(e)),Ky),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new t2,this.targetCount=0,this.ai=ku.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),Vt.resolve()}getLastRemoteSnapshotVersion(t){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Vt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ku(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Vt.resolve()}updateTargetData(t,e){return this.Pr(e),Vt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),Vt.waitFor(s).next((()=>r))}getTargetCount(t){return Vt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Vt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Vt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach((o=>{s.push(r.markPotentiallyOrphaned(t,o))})),Vt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Vt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Vt.resolve(i)}containsKey(t,e){return Vt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t,e){this.ui={},this.overlays={},this.ci=new zg(0),this.li=!1,this.li=!0,this.hi=new hD,this.referenceDelegate=t(this),this.Pi=new gD(this),this.indexManager=new ZO,this.remoteDocumentCache=(function(r){return new dD(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new XO(e),this.Ii=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new fD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){re("MemoryPersistence","Starting transaction:",t);const r=new mD(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(t,e){return Vt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class mD extends z8{constructor(t){super(),this.currentSequenceNumber=t}}class e2{constructor(t){this.persistence=t,this.Ri=new t2,this.Vi=null}static mi(t){return new e2(t)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Vt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Vt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Vt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.fi,(i=>{const r=ye.fromPath(i);return this.gi(t,r).next((s=>{s||e.removeEntry(r,Pe.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Vt.or([()=>Vt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class rg{constructor(t,e){this.persistence=t,this.pi=new Pc((i=>W8(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=sD(this,e)}static mi(t,e){return new rg(t,e)}Ei(){}di(t){return Vt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return Vt.forEach(this.pi,((i,r)=>this.br(t,i,r).next((s=>s?Vt.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,(o=>this.br(t,o,e).next((a=>{a||(i++,s.removeEntry(o,Pe.min()))})))).next((()=>s.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Vt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Vt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Vt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Vt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mp(t.data.value)),e}br(t,e,i){return Vt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return Vt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ke(),r=Ke();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n2(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return K6()?8:H8(or())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ys(t,e).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(t,e,r,i).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new yD;return this.Ss(t,e,o).next((a=>{if(s.result=a,this.Vs)return this.bs(t,e,o,a.size)}))})).next((()=>s.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Kc()<=We.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Yc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Vt.resolve()):(Kc()<=We.DEBUG&&re("QueryEngine","Query:",Yc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Kc()<=We.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Yc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yo(e))):Vt.resolve())}ys(t,e){if(Sb(e))return Vt.resolve(null);let i=yo(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=eg(e,null,"F"),i=yo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((s=>{const o=Ke(...s);return this.ps.getDocuments(t,o).next((a=>this.indexManager.getMinOffset(t,i).next((l=>{const c=this.Ds(e,a);return this.Cs(e,c,o,l.readTime)?this.ys(t,eg(e,null,"F")):this.vs(t,c,e,l)}))))})))))}ws(t,e,i,r){return Sb(e)||r.isEqual(Pe.min())?Vt.resolve(null):this.ps.getDocuments(t,i).next((s=>{const o=this.Ds(e,s);return this.Cs(e,o,i,r)?Vt.resolve(null):(Kc()<=We.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yc(e)),this.vs(t,o,e,B8(r,Af)).next((a=>a)))}))}Ds(t,e){let i=new xi(WE(t));return e.forEach(((r,s)=>{Kg(t,s)&&(i=i.add(s))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,e,i){return Kc()<=We.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Yc(e)),this.ps.getDocumentsMatchingQuery(t,e,gl.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((s=>(e.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="LocalStore",_D=3e8;class bD{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Yn(Ge),this.xs=new Pc((s=>Gy(s)),Ky),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function wD(n,t,e,i){return new bD(n,t,e,i)}async function g4(n,t){const e=Re(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((s=>{const o=[],a=[];let l=Ke();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:a})))}))}))}function AD(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,c,u){const h=c.batch,g=h.keys();let p=Vt.resolve();return g.forEach((y=>{p=p.next((()=>u.getEntry(l,y))).next((b=>{const w=c.docVersions.get(y);dn(w!==null,48541),b.version.compareTo(w)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))}))})),p.next((()=>a.mutationQueue.removeMutationBatch(l,h)))})(e,i,t,s).next((()=>s.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(a){let l=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function m4(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function xD(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const a=[];t.targetChanges.forEach(((u,h)=>{const g=r.get(h);if(!g)return;a.push(e.Pi.removeMatchingKeys(s,u.removedDocuments,h).next((()=>e.Pi.addMatchingKeys(s,u.addedDocuments,h))));let p=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Ui.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),(function(b,w,_){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=_D?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(g,p,u)&&a.push(e.Pi.updateTargetData(s,p))}));let l=ha(),c=Ke();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))})),a.push(SD(s,o,t.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!i.isEqual(Pe.min())){const u=e.Pi.getLastRemoteSnapshotVersion(s).next((h=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i)));a.push(u)}return Vt.waitFor(a).next((()=>o.apply(s))).next((()=>e.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(e.Ms=r,s)))}function SD(n,t,e){let i=Ke(),r=Ke();return e.forEach((s=>i=i.add(s))),t.getEntries(n,i).next((s=>{let o=ha();return e.forEach(((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):re(i2,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)})),{ks:o,qs:r}}))}function ED(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Hy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function TD(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((s=>s?(r=s,Vt.resolve(r)):e.Pi.allocateTargetId(i).next((o=>(r=new Za(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function C0(n,t,e){const i=Re(n),r=i.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,(o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Hu(o))throw o;re(i2,`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Fb(n,t,e){const i=Re(n);let r=Pe.min(),s=Ke();return i.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,c,u){const h=Re(l),g=h.xs.get(u);return g!==void 0?Vt.resolve(h.Ms.get(g)):h.Pi.getTargetData(c,u)})(i,o,yo(t)).next((a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{s=l}))})).next((()=>i.Fs.getDocumentsMatchingQuery(o,t,e?r:Pe.min(),e?s:Ke()))).next((a=>(ID(i,hO(t),a),{documents:a,Qs:s})))))}function ID(n,t,e){let i=n.Os.get(t)||Pe.min();e.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.Os.set(t,i)}class Vb{constructor(){this.activeTargetIds=yO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PD{constructor(){this.Mo=new Vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Vb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class jb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(Bb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){re(Bb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function R0(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Qp?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,s){const o=R0(),a=this.zo(t,e.toUriEncodedString());re(o1,`Sending RPC '${t}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,s);const{host:c}=new URL(a),u=Bu(c);return this.Jo(t,a,l,i,u).then((h=>(re(o1,`Received RPC '${t}' ${o}: `,h),h)),(h=>{throw Eu(o1,`RPC '${t}' ${o} failed with error: `,h,"url: ",a,"request:",i),h}))}Ho(t,e,i,r,s,o){return this.Go(t,e,i,r,s)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,s)=>t[s]=r)),i&&i.headers.forEach(((r,s)=>t[s]=r))}zo(t,e){const i=CD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class LD extends RD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,s){const o=R0();return new Promise(((a,l)=>{const c=new _E;c.setWithCredentials(!0),c.listenOnce(bE.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case gp.NO_ERROR:const h=c.getResponseJson();re(Gi,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case gp.TIMEOUT:re(Gi,`RPC '${t}' ${o} timed out`),l(new te(Ft.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const g=c.getStatus();if(re(Gi,`RPC '${t}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p?.error;if(y&&y.status&&y.message){const b=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ft).indexOf(E)>=0?E:Ft.UNKNOWN})(y.status);l(new te(b,y.message))}else l(new te(Ft.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(Ft.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{re(Gi,`RPC '${t}' ${o} completed.`)}}));const u=JSON.stringify(r);re(Gi,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",u,i,15)}))}T_(t,e,i){const r=R0(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=xE(),a=AE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");re(Gi,`Creating RPC '${t}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let g=!1,p=!1;const y=new ND({Yo:w=>{p?re(Gi,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(g||(re(Gi,`Opening RPC '${t}' stream ${r} transport.`),h.open(),g=!0),re(Gi,`RPC '${t}' stream ${r} sending:`,w),h.send(w))},Zo:()=>h.close()}),b=(w,_,E)=>{w.listen(_,(k=>{try{E(k)}catch(D){setTimeout((()=>{throw D}),0)}}))};return b(h,Lh.EventType.OPEN,(()=>{p||(re(Gi,`RPC '${t}' stream ${r} transport opened.`),y.o_())})),b(h,Lh.EventType.CLOSE,(()=>{p||(p=!0,re(Gi,`RPC '${t}' stream ${r} transport closed`),y.a_(),this.E_(h))})),b(h,Lh.EventType.ERROR,(w=>{p||(p=!0,Eu(Gi,`RPC '${t}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),y.a_(new te(Ft.UNAVAILABLE,"The operation could not be completed")))})),b(h,Lh.EventType.MESSAGE,(w=>{if(!p){const _=w.data[0];dn(!!_,16349);const E=_,k=E?.error||E[0]?.error;if(k){re(Gi,`RPC '${t}' stream ${r} received error:`,k);const D=k.status;let W=(function(T){const P=pi[T];if(P!==void 0)return i4(P)})(D),it=k.message;W===void 0&&(W=Ft.INTERNAL,it="Unknown error status: "+D+" with message "+k.message),p=!0,y.a_(new te(W,it)),h.close()}else re(Gi,`RPC '${t}' stream ${r} received:`,_),y.u_(_)}})),b(a,wE.STAT_EVENT,(w=>{w.stat===_0.PROXY?re(Gi,`RPC '${t}' stream ${r} detected buffering proxy`):w.stat===_0.NOPROXY&&re(Gi,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function a1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n){return new FO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="PersistentStream";class v4{constructor(t,e,i,r,s,o,a,l){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y4(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Ft.RESOURCE_EXHAUSTED?(ua(e.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new te(Ft.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return re(Ub,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(re(Ub,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OD extends v4{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=jO(this.serializer,t),i=(function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?vo(o.readTime):Pe.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=k0(this.serializer),e.addTarget=(function(s,o){let a;const l=o.target;if(a=S0(l)?{documents:zO(s,l)}:{query:HO(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=o4(s,o.resumeToken);const c=T0(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=ig(s,o.snapshotVersion.toTimestamp());const c=T0(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,t);const i=WO(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=k0(this.serializer),e.removeTarget=t,this.q_(e)}}class DD extends v4{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return dn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=qO(t.writeResults,t.commitTime),i=vo(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=k0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>UO(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{}class FD extends MD{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new te(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(t,I0(e,i),r,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(Ft.UNKNOWN,s.toString())}))}Ho(t,e,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(t,I0(e,i),r,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(Ft.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ua(e),this.aa=!1):re("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="RemoteStore";class BD{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{i.enqueueAndForget((async()=>{kc(this)&&(re(wc,"Restarting streams for network reachability change."),await(async function(l){const c=Re(l);c.Ea.add(4),await td(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Zg(c)})(this))}))})),this.Ra=new VD(i,r)}}async function Zg(n){if(kc(n))for(const t of n.da)await t(!0)}async function td(n){for(const t of n.da)await t(!1)}function _4(n,t){const e=Re(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),a2(e)?o2(e):Wu(e).O_()&&s2(e,t))}function r2(n,t){const e=Re(n),i=Wu(e);e.Ia.delete(t),i.O_()&&b4(e,t),e.Ia.size===0&&(i.O_()?i.L_():kc(e)&&e.Ra.set("Unknown"))}function s2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Wu(n).Y_(t)}function b4(n,t){n.Va.Ue(t),Wu(n).Z_(t)}function o2(n){n.Va=new LO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Wu(n).start(),n.Ra.ua()}function a2(n){return kc(n)&&!Wu(n).x_()&&n.Ia.size>0}function kc(n){return Re(n).Ea.size===0}function w4(n){n.Va=void 0}async function jD(n){n.Ra.set("Online")}async function UD(n){n.Ia.forEach(((t,e)=>{s2(n,t)}))}async function qD(n,t){w4(n),a2(n)?(n.Ra.ha(t),o2(n)):n.Ra.set("Unknown")}async function zD(n,t,e){if(n.Ra.set("Online"),t instanceof s4&&t.state===2&&t.cause)try{await(async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))})(n,t)}catch(i){re(wc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sg(n,i)}else if(t instanceof _p?n.Va.Ze(t):t instanceof r4?n.Va.st(t):n.Va.tt(t),!e.isEqual(Pe.min()))try{const i=await m4(n.localStore);e.compareTo(i)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Ui.EMPTY_BYTE_STRING,u.snapshotVersion)),b4(s,l);const h=new Za(u.target,l,c,u.sequenceNumber);s2(s,h)})),s.remoteSyncer.applyRemoteEvent(a)})(n,e)}catch(i){re(wc,"Failed to raise snapshot:",i),await sg(n,i)}}async function sg(n,t,e){if(!Hu(t))throw t;n.Ea.add(1),await td(n),n.Ra.set("Offline"),e||(e=()=>m4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{re(wc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Zg(n)}))}function A4(n,t){return t().catch((e=>sg(n,e,t)))}async function tm(n){const t=Re(n),e=_l(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hy;for(;HD(t);)try{const r=await ED(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,$D(t,r)}catch(r){await sg(t,r)}x4(t)&&S4(t)}function HD(n){return kc(n)&&n.Ta.length<10}function $D(n,t){n.Ta.push(t);const e=_l(n);e.O_()&&e.X_&&e.ea(t.mutations)}function x4(n){return kc(n)&&!_l(n).x_()&&n.Ta.length>0}function S4(n){_l(n).start()}async function WD(n){_l(n).ra()}async function GD(n){const t=_l(n);for(const e of n.Ta)t.ea(e.mutations)}async function KD(n,t,e){const i=n.Ta.shift(),r=Xy.from(i,t,e);await A4(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await tm(n)}async function YD(n,t){t&&_l(n).X_&&await(async function(i,r){if((function(o){return CO(o)&&o!==Ft.ABORTED})(r.code)){const s=i.Ta.shift();_l(i).B_(),await A4(i,(()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r))),await tm(i)}})(n,t),x4(n)&&S4(n)}async function qb(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),re(wc,"RemoteStore received new credentials");const i=kc(e);e.Ea.add(3),await td(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Zg(e)}async function JD(n,t){const e=Re(n);t?(e.Ea.delete(2),await Zg(e)):t||(e.Ea.add(2),await td(e),e.Ra.set("Unknown"))}function Wu(n){return n.ma||(n.ma=(function(e,i,r){const s=Re(e);return s.sa(),new OD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:jD.bind(null,n),t_:UD.bind(null,n),r_:qD.bind(null,n),H_:zD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),a2(n)?o2(n):n.Ra.set("Unknown")):(await n.ma.stop(),w4(n))}))),n.ma}function _l(n){return n.fa||(n.fa=(function(e,i,r){const s=Re(e);return s.sa(),new DD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WD.bind(null,n),r_:YD.bind(null,n),ta:GD.bind(null,n),na:KD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await tm(n)):(await n.fa.stop(),n.Ta.length>0&&(re(wc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new l2(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(Ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c2(n,t){if(ua("AsyncQueue",`${t}: ${n}`),Hu(n))return new te(Ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{static emptySet(t){return new uu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ye.comparator(e.key,i.key):(e,i)=>ye.comparator(e.key,i.key),this.keyedMap=Oh(),this.sortedSet=new Yn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new uu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.ga=new Yn(ye.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xe(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Cu{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach((a=>{o.push({type:0,doc:a})})),new Cu(t,e,uu.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QD{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Re(e),s=r.queries;r.queries=Hb(),s.forEach(((o,a)=>{for(const l of a.Sa)l.onError(i)}))})(this,new te(Ft.ABORTED,"Firestore shutting down"))}}function Hb(){return new Pc((n=>$E(n)),Gg)}async function u2(n,t){const e=Re(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new XD,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await e.onListen(r,!0);break;case 1:s.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const a=c2(o,`Initialization of query '${Yc(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&f2(e)}async function h2(n,t){const e=Re(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function ZD(n,t){const e=Re(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const a of o.Sa)a.Fa(r)&&(i=!0);o.wa=r}}i&&f2(e)}function tM(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(e);i.queries.delete(t)}function f2(n){n.Ca.forEach((t=>{t.next()}))}var N0,$b;($b=N0||(N0={})).Ma="default",$b.Cache="cache";class d2{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Cu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Cu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==N0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.key=t}}class T4{constructor(t){this.key=t}}class eM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=WE(t),this.tu=new uu(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new zb,r=e?e.tu:this.tu;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((u,h)=>{const g=r.get(u),p=Kg(this.query,h)?h:null,y=!!g&&this.mutatedKeys.has(g.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;g&&p?g.data.isEqual(p.data)?y!==b&&(i.track({type:3,doc:p}),w=!0):this.su(g,p)||(i.track({type:2,doc:p}),w=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!g&&p?(i.track({type:0,doc:p}),w=!0):g&&!p&&(i.track({type:1,doc:g}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{tu:o,iu:i,Cs:a,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((u,h)=>(function(p,y){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:w})}};return b(p)-b(y)})(u.type,h.type)||this.eu(u.doc,h.doc))),this.ou(i),r=r??!1;const a=e&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Cu(this.query,t.tu,s,o,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new T4(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new E4(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ke();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p2="SyncEngine";class nM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class iM{constructor(t){this.key=t,this.hu=!1}}class rM{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pc((a=>$E(a)),Gg),this.Iu=new Map,this.Eu=new Set,this.du=new Yn(ye.comparator),this.Au=new Map,this.Ru=new t2,this.Vu={},this.mu=new Map,this.fu=ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sM(n,t,e=!0){const i=N4(n);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await I4(i,t,e,!0),r}async function oM(n,t){const e=N4(n);await I4(e,t,!0,!1)}async function I4(n,t,e,i){const r=await TD(n.localStore,yo(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let a;return i&&(a=await aM(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&_4(n.remoteStore,r),a}async function aM(n,t,e,i,r){n.pu=(h,g,p)=>(async function(b,w,_,E){let k=w.view.ru(_);k.Cs&&(k=await Fb(b.localStore,w.query,!1).then((({documents:L})=>w.view.ru(L,k))));const D=E&&E.targetChanges.get(w.targetId),W=E&&E.targetMismatches.get(w.targetId)!=null,it=w.view.applyChanges(k,b.isPrimaryClient,D,W);return Gb(b,w.targetId,it.au),it.snapshot})(n,h,g,p);const s=await Fb(n.localStore,t,!0),o=new eM(t,s.Qs),a=o.ru(s.documents),l=Zf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);Gb(n,e,c.au);const u=new nM(t,e,o);return n.Tu.set(t,u),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),c.snapshot}async function lM(n,t,e){const i=Re(n),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter((o=>!Gg(o,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await C0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&r2(i.remoteStore,r.targetId),L0(i,r.targetId)})).catch(zu)):(L0(i,r.targetId),await C0(i.localStore,r.targetId,!0))}async function cM(n,t){const e=Re(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),r2(e.remoteStore,i.targetId))}async function uM(n,t,e){const i=yM(n);try{const r=await(function(o,a){const l=Re(o),c=Fn.now(),u=a.reduce(((p,y)=>p.add(y.key)),Ke());let h,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let y=ha(),b=Ke();return l.Ns.getEntries(p,u).next((w=>{y=w,y.forEach(((_,E)=>{E.isValidDocument()||(b=b.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,y))).next((w=>{h=w;const _=[];for(const E of a){const k=EO(E,h.get(E.key).overlayedDocument);k!=null&&_.push(new Il(E.key,k,FE(k.value.mapValue),ps.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)})).next((w=>{g=w;const _=w.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,w.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:KE(h)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Yn(Ge)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c})(i,r.batchId,e),await ed(i,r.changes),await tm(i.remoteStore)}catch(r){const s=c2(r,"Failed to persist write");e.reject(s)}}async function P4(n,t){const e=Re(n);try{const i=await xD(e.localStore,t);t.targetChanges.forEach(((r,s)=>{const o=e.Au.get(s);o&&(dn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?dn(o.hu,14607):r.removedDocuments.size>0&&(dn(o.hu,42227),o.hu=!1))})),await ed(e,i,t)}catch(i){await zu(i)}}function Wb(n,t,e){const i=Re(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((s,o)=>{const a=o.view.va(t);a.snapshot&&r.push(a.snapshot)})),(function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach(((u,h)=>{for(const g of h.Sa)g.va(a)&&(c=!0)})),c&&f2(l)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function hM(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),s=r&&r.key;if(s){let o=new Yn(ye.comparator);o=o.insert(s,tr.newNoDocument(s,Pe.min()));const a=Ke().add(s),l=new Xg(Pe.min(),new Map,new Yn(Ge),o,a);await P4(i,l),i.du=i.du.remove(s),i.Au.delete(t),g2(i)}else await C0(i.localStore,t,!1).then((()=>L0(i,t,e))).catch(zu)}async function fM(n,t){const e=Re(n),i=t.batch.batchId;try{const r=await AD(e.localStore,t);C4(e,i,null),k4(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ed(e,r)}catch(r){await zu(r)}}async function dM(n,t,e){const i=Re(n);try{const r=await(function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next((h=>(dn(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(i.localStore,t);C4(i,t,e),k4(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ed(i,r)}catch(r){await zu(r)}}function k4(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function C4(n,t,e){const i=Re(n);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function L0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||R4(n,i)}))}function R4(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(r2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),g2(n))}function Gb(n,t,e){for(const i of e)i instanceof E4?(n.Ru.addReference(i.key,t),pM(n,i)):i instanceof T4?(re(p2,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||R4(n,i.key)):xe(19791,{wu:i})}function pM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(re(p2,"New document in limbo: "+e),n.Eu.add(i),g2(n))}function g2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ye(kn.fromString(t)),i=n.fu.next();n.Au.set(i,new iM(e)),n.du=n.du.insert(e,i),_4(n.remoteStore,new Za(yo(Wg(e.path)),i,"TargetPurposeLimboResolution",zg.ce))}}async function ed(n,t,e){const i=Re(n),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach(((a,l)=>{o.push(i.pu(l,t,e).then((c=>{if((c||e)&&i.isPrimaryClient){const u=c?!c.fromCache:e?.targetChanges.get(l.targetId)?.current;i.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){r.push(c);const u=n2.As(l.targetId,c);s.push(u)}})))})),await Promise.all(o),i.Pu.H_(r),await(async function(l,c){const u=Re(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>Vt.forEach(c,(g=>Vt.forEach(g.Es,(p=>u.persistence.referenceDelegate.addReference(h,g.targetId,p))).next((()=>Vt.forEach(g.ds,(p=>u.persistence.referenceDelegate.removeReference(h,g.targetId,p)))))))))}catch(h){if(!Hu(h))throw h;re(i2,"Failed to update sequence numbers: "+h)}for(const h of c){const g=h.targetId;if(!h.fromCache){const p=u.Ms.get(g),y=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(g,b)}}})(i.localStore,s))}async function gM(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){re(p2,"User change. New user:",t.toKey());const i=await g4(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach((a=>{a.forEach((l=>{l.reject(new te(Ft.CANCELLED,o))}))})),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ed(e,i.Ls)}}function mM(n,t){const e=Re(n),i=e.Au.get(t);if(i&&i.hu)return Ke().add(i.key);{let r=Ke();const s=e.Iu.get(t);if(!s)return r;for(const o of s){const a=e.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function N4(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=P4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hM.bind(null,t),t.Pu.H_=ZD.bind(null,t.eventManager),t.Pu.yu=tM.bind(null,t.eventManager),t}function yM(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,t),t}class og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return wD(this.persistence,new vD,t.initialUser,this.serializer)}Cu(t){return new p4(e2.mi,this.serializer)}Du(t){return new PD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}og.provider={build:()=>new og};class vM extends og{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){dn(this.persistence.referenceDelegate instanceof rg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new p4((i=>rg.mi(i,e)),this.serializer)}}class O0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gM.bind(null,this.syncEngine),await JD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QD})()}createDatastore(t){const e=Qg(t.databaseInfo.databaseId),i=(function(s){return new LD(s)})(t.databaseInfo);return(function(s,o,a,l){return new FD(s,o,a,l)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,s,o,a){return new BD(i,r,s,o,a)})(this.localStore,this.datastore,t.asyncQueue,(e=>Wb(this.syncEngine,e,0)),(function(){return jb.v()?new jb:new kD})())}createSyncEngine(t,e){return(function(r,s,o,a,l,c,u){const h=new rM(r,s,o,a,l,c);return u&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Re(e);re(wc,"RemoteStore shutting down."),i.Ea.add(5),await td(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}O0.provider={build:()=>new O0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ua("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="FirestoreClient";class _M{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async o=>{re(bl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,(o=>(re(bl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=c2(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function l1(n,t){n.asyncQueue.verifyOperationInProgress(),re(bl,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await g4(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Kb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await bM(n);re(bl,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>qb(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>qb(t.remoteStore,r))),n._onlineComponents=t}async function bM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re(bl,"Using user provided OfflineComponentProvider");try{await l1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===Ft.FAILED_PRECONDITION||r.code===Ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Eu("Error using user provided cache. Falling back to memory cache: "+e),await l1(n,new og)}}else re(bl,"Using default OfflineComponentProvider"),await l1(n,new vM(void 0));return n._offlineComponents}async function L4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(re(bl,"Using user provided OnlineComponentProvider"),await Kb(n,n._uninitializedComponentsProvider._online)):(re(bl,"Using default OnlineComponentProvider"),await Kb(n,new O0))),n._onlineComponents}function wM(n){return L4(n).then((t=>t.syncEngine))}async function ag(n){const t=await L4(n),e=t.eventManager;return e.onListen=sM.bind(null,t.syncEngine),e.onUnlisten=lM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=cM.bind(null,t.syncEngine),e}function AM(n,t,e={}){const i=new sa;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,c){const u=new m2({next:g=>{u.Nu(),o.enqueueAndForget((()=>h2(s,h)));const p=g.docs.has(a);!p&&g.fromCache?c.reject(new te(Ft.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?c.reject(new te(Ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new d2(Wg(a.path),u,{includeMetadataChanges:!0,qa:!0});return u2(s,h)})(await ag(n),n.asyncQueue,t,e,i))),i.promise}function xM(n,t,e={}){const i=new sa;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,c){const u=new m2({next:g=>{u.Nu(),o.enqueueAndForget((()=>h2(s,h))),g.fromCache&&l.source==="server"?c.reject(new te(Ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new d2(a,u,{includeMetadataChanges:!0,qa:!0});return u2(s,h)})(await ag(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firestore.googleapis.com",Jb=!0;class Xb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new te(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D4,this.ssl=Jb}else this.host=t.host,this.ssl=t.ssl??Jb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=d4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eD)throw new te(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O4(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class em{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new te(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new I8;switch(i.type){case"firstParty":return new R8(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(Ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Yb.get(e);i&&(re("ComponentProvider","Removing Datastore"),Yb.delete(e),i.terminate())})(this),Promise.resolve()}}function SM(n,t,e,i={}){n=Pr(n,em);const r=Bu(t),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},a=`${t}:${e}`;r&&(CS(`https://${a}`),RS("Firestore",!0)),s.host!==D4&&s.host!==a&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:r,emulatorOptions:i};if(!mc(l,o)&&(n._setSettings(l),i.mockUserToken)){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Qi.MOCK_USER;else{c=B6(i.mockUserToken,n._app?.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new te(Ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qi(h)}n._authCredentials=new P8(new EE(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ya(this.firestore,t,this._query)}}class ei{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ei(this.firestore,t,this._key)}toJSON(){return{type:ei._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xf(e,ei._jsonSchema))return new ei(t,i||null,new ye(kn.fromString(e.referencePath)))}}ei._jsonSchemaVersion="firestore/documentReference/1.0",ei._jsonSchema={type:mi("string",ei._jsonSchemaVersion),referencePath:mi("string")};class hl extends ya{constructor(t,e,i){super(t,e,Wg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ei(this.firestore,null,new ye(t))}withConverter(t){return new hl(this.firestore,t,this._path)}}function Ru(n,t,...e){if(n=Si(n),TE("collection","path",t),n instanceof em){const i=kn.fromString(t,...e);return ub(i),new hl(n,null,i)}{if(!(n instanceof ei||n instanceof hl))throw new te(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(t,...e));return ub(i),new hl(n.firestore,null,i)}}function fa(n,t,...e){if(n=Si(n),arguments.length===1&&(t=zy.newId()),TE("doc","path",t),n instanceof em){const i=kn.fromString(t,...e);return cb(i),new ei(n,null,new ye(i))}{if(!(n instanceof ei||n instanceof hl))throw new te(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(t,...e));return cb(i),new ei(n.firestore,n instanceof hl?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="AsyncQueue";class Zb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y4(this,"async_queue_retry"),this._c=()=>{const i=a1();i&&re(Qb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=a1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=a1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Hu(t))throw t;re(Qb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ua("INTERNAL UNHANDLED ERROR: ",t5(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=l2.createAndSchedule(this,t,e,i,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&xe(47125,{Pc:t5(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function t5(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1})(n,["next","error","complete"])}class da extends em{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Zb,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zb(t),this._firestoreClient=void 0,await t}}}function nm(n,t){const e=typeof n=="object"?n:Wf(),i=typeof n=="string"?n:Qp,r=Ny(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=F6("firestore");s&&SM(r,...s)}return r}function im(n){if(n._terminated)throw new te(Ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EM(n),n._firestoreClient}function EM(n){const t=n._freezeSettings(),e=(function(r,s,o,a){return new Y8(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,O4(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new _M(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hs(Ui.fromBase64String(t))}catch(e){throw new te(Ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hs(Ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:hs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xf(t,hs._jsonSchema))return hs.fromBase64String(t.bytes)}}hs._jsonSchemaVersion="firestore/bytes/1.0",hs._jsonSchema={type:mi("string",hs._jsonSchemaVersion),bytes:mi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new te(Ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new te(Ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new te(Ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_o._jsonSchemaVersion}}static fromJSON(t){if(Xf(t,_o._jsonSchema))return new _o(t.latitude,t.longitude)}}_o._jsonSchemaVersion="firestore/geoPoint/1.0",_o._jsonSchema={type:mi("string",_o._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xf(t,bo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new bo(t.vectorValues);throw new te(Ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bo._jsonSchemaVersion="firestore/vectorValue/1.0",bo._jsonSchema={type:mi("string",bo._jsonSchemaVersion),vectorValues:mi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^__.*__$/;class IM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Il(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qf(t,this.data,e,this.fieldTransforms)}}class M4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Il(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function F4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class y2{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new y2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(F4(this.Ac)&&TM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class PM{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Qg(t)}Cc(t,e,i,r=!1){return new y2({Ac:t,methodName:e,Dc:i,path:ji.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(n){const t=n._freezeSettings(),e=Qg(n._databaseId);return new PM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function V4(n,t,e,i,r,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,t,e,r);_2("Data must be an object, but it was:",o,i);const a=B4(i,o);let l,c;if(s.merge)l=new Xr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const g=D0(t,h,e);if(!o.contains(g))throw new te(Ft.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);U4(u,g)||u.push(g)}l=new Xr(u),c=o.fieldTransforms.filter((h=>l.covers(h.field)))}else l=null,c=o.fieldTransforms;return new IM(new Er(a),l,c)}class am extends sm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof am}}class v2 extends sm{_toFieldTransform(t){return new wO(t.path,new If)}isEqual(t){return t instanceof v2}}function kM(n,t,e,i){const r=n.Cc(1,t,e);_2("Data must be an object, but it was:",r,i);const s=[],o=Er.empty();Tl(i,((l,c)=>{const u=b2(t,l,e);c=Si(c);const h=r.yc(u);if(c instanceof am)s.push(u);else{const g=nd(c,h);g!=null&&(s.push(u),o.set(u,g))}}));const a=new Xr(s);return new M4(o,a,r.fieldTransforms)}function CM(n,t,e,i,r,s){const o=n.Cc(1,t,e),a=[D0(t,i,e)],l=[r];if(s.length%2!=0)throw new te(Ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(D0(t,s[g])),l.push(s[g+1]);const c=[],u=Er.empty();for(let g=a.length-1;g>=0;--g)if(!U4(c,a[g])){const p=a[g];let y=l[g];y=Si(y);const b=o.yc(p);if(y instanceof am)c.push(p);else{const w=nd(y,b);w!=null&&(c.push(p),u.set(p,w))}}const h=new Xr(c);return new M4(u,h,o.fieldTransforms)}function RM(n,t,e,i=!1){return nd(e,n.Cc(i?4:3,t))}function nd(n,t){if(j4(n=Si(n)))return _2("Unsupported field value:",t,n),B4(n,t);if(n instanceof sm)return(function(i,r){if(!F4(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const s=[];let o=0;for(const a of i){let l=nd(a,r.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}})(n,t)}return(function(i,r){if((i=Si(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Fn.fromDate(i);return{timestampValue:ig(r.serializer,s)}}if(i instanceof Fn){const s=new Fn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ig(r.serializer,s)}}if(i instanceof _o)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hs)return{bytesValue:o4(r.serializer,i._byteString)};if(i instanceof ei){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Zy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bo)return(function(o,a){return{mapValue:{fields:{[DE]:{stringValue:ME},[Zp]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Yy(a.serializer,c)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${qg(i)}`)})(n,t)}function B4(n,t){const e={};return kE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tl(n,((i,r)=>{const s=nd(r,t.mc(i));s!=null&&(e[i]=s)})),{mapValue:{fields:e}}}function j4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof _o||n instanceof hs||n instanceof ei||n instanceof sm||n instanceof bo)}function _2(n,t,e){if(!j4(e)||!IE(e)){const i=qg(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function D0(n,t,e){if((t=Si(t))instanceof rm)return t._internalPath;if(typeof t=="string")return b2(n,t);throw lg("Field path arguments must be of type string or ",n,!1,void 0,e)}const NM=new RegExp("[~\\*/\\[\\]]");function b2(n,t,e){if(t.search(NM)>=0)throw lg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new rm(...t.split("."))._internalPath}catch{throw lg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function lg(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new te(Ft.INVALID_ARGUMENT,a+n+l)}function U4(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class LM extends q4{data(){return super.data()}}function lm(n,t){return typeof t=="string"?b2(n,t):t instanceof rm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(Ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w2{}class A2 extends w2{}function H4(n,t,...e){let i=[];t instanceof w2&&i.push(t),i=i.concat(e),(function(s){const o=s.filter((l=>l instanceof x2)).length,a=s.filter((l=>l instanceof cm)).length;if(o>1||o>0&&a>0)throw new te(Ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class cm extends A2{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new cm(t,e,i)}_apply(t){const e=this._parse(t);return W4(t._query,e),new ya(t.firestore,t.converter,E0(t._query,e))}_parse(t){const e=om(t.firestore);return(function(s,o,a,l,c,u,h){let g;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(Ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){i5(h,u);const y=[];for(const b of h)y.push(n5(l,s,b));g={arrayValue:{values:y}}}else g=n5(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||i5(h,u),g=RM(a,o,h,u==="in"||u==="not-in");return gi.create(c,u,g)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function $4(n,t,e){const i=t,r=lm("where",n);return cm._create(r,i,e)}class x2 extends w2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new x2(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Os.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)W4(o,l),o=E0(o,l)})(t._query,e),new ya(t.firestore,t.converter,E0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S2 extends A2{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new S2(t,e)}_apply(t){const e=(function(r,s,o){if(r.startAt!==null)throw new te(Ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new te(Ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(s,o)})(t._query,this._field,this._direction);return new ya(t.firestore,t.converter,(function(r,s){const o=r.explicitOrderBy.concat([s]);return new $u(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function OM(n,t="asc"){const e=t,i=lm("orderBy",n);return S2._create(i,e)}class E2 extends A2{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new E2(t,e,i)}_apply(t){return new ya(t.firestore,t.converter,eg(t._query,this._limit,this._limitType))}}function DM(n){return V8("limit",n),E2._create("limit",n,"F")}function n5(n,t,e){if(typeof(e=Si(e))=="string"){if(e==="")throw new te(Ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(t)&&e.indexOf("/")!==-1)throw new te(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(kn.fromString(e));if(!ye.isDocumentKey(i))throw new te(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vb(n,new ye(i))}if(e instanceof ei)return vb(n,e._key);throw new te(Ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(e)}.`)}function i5(n,t){if(!Array.isArray(n)||n.length===0)throw new te(Ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function W4(n,t){const e=(function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new te(Ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new te(Ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class MM{convertValue(t,e="none"){switch(vl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Tl(t,((r,s)=>{i[r]=this.convertValue(s,e)})),i}convertVectorValue(t){const e=t.fields?.[Zp].arrayValue?.values?.map((i=>li(i.doubleValue)));return new bo(e)}convertGeoPoint(t){return new _o(li(t.latitude),li(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=$g(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(xf(t));default:return null}}convertTimestamp(t){const e=ml(t);return new Fn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=kn.fromString(t);dn(f4(i),9688,{name:t});const r=new Sf(i.get(1),i.get(3)),s=new ye(i.popFirst(5));return r.isEqual(e)||ua(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Mh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uc extends q4{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=uc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}uc._jsonSchemaVersion="firestore/documentSnapshot/1.0",uc._jsonSchema={type:mi("string",uc._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};class bp extends uc{data(t={}){return super.data(t)}}class hc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Mh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new bp(this._firestore,this._userDataWriter,i.key,i,new Mh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new te(Ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((a=>{const l=new bp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new bp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:FM(a.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=hc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(e.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){n=Pr(n,ei);const t=Pr(n.firestore,da);return AM(im(t),n._key).then((e=>J4(t,n,e)))}hc._jsonSchemaVersion="firestore/querySnapshot/1.0",hc._jsonSchema={type:mi("string",hc._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class T2 extends MM{constructor(t){super(),this.firestore=t}convertBytes(t){return new hs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ei(this.firestore,null,e)}}function cg(n){n=Pr(n,ya);const t=Pr(n.firestore,da),e=im(t),i=new T2(t);return z4(n._query),xM(e,n._query).then((r=>new hc(t,i,n,r)))}function I2(n,t,e){n=Pr(n,ei);const i=Pr(n.firestore,da),r=G4(n.converter,t,e);return um(i,[V4(om(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,ps.none())])}function VM(n,t,e,...i){n=Pr(n,ei);const r=Pr(n.firestore,da),s=om(r);let o;return o=typeof(t=Si(t))=="string"||t instanceof rm?CM(s,"updateDoc",n._key,t,e,i):kM(s,"updateDoc",n._key,t),um(r,[o.toMutation(n._key,ps.exists(!0))])}function Y4(n){return um(Pr(n.firestore,da),[new Jy(n._key,ps.none())])}function BM(n,t){const e=Pr(n.firestore,da),i=fa(n),r=G4(n.converter,t);return um(e,[V4(om(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ps.exists(!1))]).then((()=>i))}function jM(n,...t){n=Si(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||e5(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(e5(t[i])){const l=t[i];t[i]=l.next?.bind(l),t[i+1]=l.error?.bind(l),t[i+2]=l.complete?.bind(l)}let s,o,a;if(n instanceof ei)o=Pr(n.firestore,da),a=Wg(n._key.path),s={next:l=>{t[i]&&t[i](J4(o,n,l))},error:t[i+1],complete:t[i+2]};else{const l=Pr(n,ya);o=Pr(l.firestore,da),a=l._query;const c=new T2(o);s={next:u=>{t[i]&&t[i](new hc(o,c,l,u))},error:t[i+1],complete:t[i+2]},z4(n._query)}return(function(c,u,h,g){const p=new m2(g),y=new d2(u,p,h);return c.asyncQueue.enqueueAndForget((async()=>u2(await ag(c),y))),()=>{p.Nu(),c.asyncQueue.enqueueAndForget((async()=>h2(await ag(c),y)))}})(im(o),a,r,s)}function um(n,t){return(function(i,r){const s=new sa;return i.asyncQueue.enqueueAndForget((async()=>uM(await wM(i),r,s))),s.promise})(im(n),t)}function J4(n,t,e){const i=e.docs.get(t._key),r=new T2(n);return new uc(n,r,t._key,i,new Mh(e.hasPendingWrites,e.fromCache),t.converter)}function UM(){return new v2("serverTimestamp")}(function(t,e=!0){(function(r){qu=r})(ju),Su(new yc("firestore",((i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new da(new k8(i.getProvider("auth-internal")),new N8(o,i.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(c.options.projectId,u)})(o,r),o);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),cl(sb,ob,t),cl(sb,ob,"esm2020")})();const qM={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.appspot.com",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"},X4=Ly().length?Wf():Vg(qM),tl=yE(X4),hu=nm(X4),Mn=gc({user:null,profile:null,get isAuthed(){return!!this.user},get role(){return this.profile?.role||"user"},get isAdmin(){return this.role==="admin"}}),ts=(n,t)=>{const e=n.__vccOpts||n;for(const[i,r]of t)e[i]=r;return e},zM={class:"navbar navbar-dark bg-dark navbar-expand",role:"navigation","aria-label":"Main navigation"},HM={class:"container"},$M=["aria-expanded"],WM={class:"navbar-nav ms-auto"},GM={class:"nav-item"},KM={class:"nav-item"},YM={class:"nav-item"},JM={class:"nav-item"},XM={class:"nav-item"},QM={class:"nav-item"},ZM={class:"nav-item"},t7={class:"nav-item"},e7={class:"nav-item"},n7={class:"nav-item"},i7={class:"nav-item"},r7={key:0,class:"nav-item"},s7={key:1,class:"nav-item"},o7={key:2,class:"nav-item"},a7={key:3,class:"nav-item d-flex align-items-center"},l7={class:"navbar-text small me-2",role:"status","aria-live":"polite"},c7={__name:"NavBar",setup(n){const t=xS(),e=Zt(!1),i=Zt(null);function r(){e.value=!e.value}function s(){if(!i.value)return;i.value.classList.contains("show")&&(document.querySelector('[data-bs-target="#mainNav"]')?.click(),e.value=!1)}async function o(){try{await dL(tl)}catch(a){console.error("signOut failed:",a)}finally{Mn.user=null,Mn.profile=null,t.push("/firelogin")}}return To(()=>{e.value=!1}),(a,l)=>{const c=Bp("RouterLink"),u=Bp("router-link");return Wt(),Kt(Ai,null,[l[16]||(l[16]=Y("a",{class:"skip-link",href:"#main-content"},"Skip to main content",-1)),Y("nav",zM,[Y("div",HM,[Xe(c,{to:"/",class:"navbar-brand","aria-label":"Go to Home"},{default:Fi(()=>[...l[0]||(l[0]=[sn("My Gym App",-1)])]),_:1}),Y("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#mainNav","aria-expanded":e.value?"true":"false","aria-controls":"mainNav","aria-label":"Toggle navigation menu",onClick:r},[...l[1]||(l[1]=[Y("span",{class:"navbar-toggler-icon","aria-hidden":"true"},null,-1)])],8,$M),Y("div",{id:"mainNav",class:"collapse navbar-collapse",ref_key:"navCollapse",ref:i},[Y("ul",WM,[Y("li",GM,[Xe(c,{to:"/",class:"nav-link",onClick:s},{default:Fi(()=>[...l[2]||(l[2]=[sn("Home",-1)])]),_:1})]),Y("li",KM,[Xe(c,{to:"/members",class:"nav-link",onClick:s},{default:Fi(()=>[...l[3]||(l[3]=[sn("Members",-1)])]),_:1})]),Y("li",YM,[Xe(c,{to:"/classes",class:"nav-link",onClick:s},{default:Fi(()=>[...l[4]||(l[4]=[sn("Classes",-1)])]),_:1})]),Y("li",JM,[Xe(c,{to:"/form",class:"nav-link",onClick:s},{default:Fi(()=>[...l[5]||(l[5]=[sn("Form",-1)])]),_:1})]),Y("li",XM,[Xe(c,{to:"/about",class:"nav-link",onClick:s},{default:Fi(()=>[...l[6]||(l[6]=[sn("About",-1)])]),_:1})]),Y("li",QM,[Xe(c,{to:"/map",class:"nav-link","aria-label":"Open Gym Map showing nearby gyms",onClick:s},{default:Fi(()=>[...l[7]||(l[7]=[sn(" 🗺️ Gym Map ",-1)])]),_:1})]),Y("li",ZM,[Xe(u,{to:"/WeatherCheck",class:"nav-link","active-class":"active"},{default:Fi(()=>[...l[8]||(l[8]=[sn(" Get Weather ",-1)])]),_:1})]),Y("li",t7,[Xe(c,{to:"/book",class:"nav-link",onClick:s},{default:Fi(()=>[...l[9]||(l[9]=[sn("Book",-1)])]),_:1})]),Y("li",e7,[Xe(c,{to:"/analytics",class:"nav-link",onClick:s},{default:Fi(()=>[...l[10]||(l[10]=[sn("Analytics",-1)])]),_:1})]),Y("li",n7,[Xe(c,{to:"/public-classes",class:"nav-link",onClick:s},{default:Fi(()=>[...l[11]||(l[11]=[sn("Public API",-1)])]),_:1})]),Y("li",i7,[Xe(c,{to:{name:"email-test"},class:"nav-link",onClick:s},{default:Fi(()=>[...l[12]||(l[12]=[sn("Email Test",-1)])]),_:1})]),Sr(Mn).isAuthed?ke("",!0):(Wt(),Kt("li",r7,[Xe(c,{to:"/firelogin",class:"nav-link",onClick:s},{default:Fi(()=>[...l[13]||(l[13]=[sn("Login",-1)])]),_:1})])),Sr(Mn).isAuthed?ke("",!0):(Wt(),Kt("li",s7,[Xe(c,{to:"/fireregister",class:"nav-link",onClick:s},{default:Fi(()=>[...l[14]||(l[14]=[sn("Register",-1)])]),_:1})])),Sr(Mn).isAdmin?(Wt(),Kt("li",o7,[Xe(c,{to:"/admin",class:"nav-link",onClick:s},{default:Fi(()=>[...l[15]||(l[15]=[sn("Admin",-1)])]),_:1})])):ke("",!0),Sr(Mn).isAuthed?(Wt(),Kt("li",a7,[Y("span",l7,Qt(Sr(Mn).profile?.email||Sr(Mn).user?.email),1),Y("button",{class:"btn btn-sm btn-outline-light",type:"button",onClick:o}," Logout ")])):ke("",!0)])],512)])])],64)}}},u7=ts(c7,[["__scopeId","data-v-c4aa8698"]]),h7={id:"layout"},f7={class:"container py-4"},d7={__name:"App",setup(n){const t=P6(),e=zn(()=>t.name!=="CountBookAPI");return(i,r)=>{const s=Bp("RouterView");return Wt(),Kt("div",h7,[e.value?(Wt(),iS(u7,{key:0})):ke("",!0),Y("main",f7,[Xe(s)])])}}},p7="modulepreload",g7=function(n,t){return new URL(n,t).href},r5={},wp=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=c(e.map(u=>{if(u=g7(u,i),u in r5)return;r5[u]=!0;const h=u.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(!!i)for(let b=o.length-1;b>=0;b--){const w=o[b];if(w.href===u&&(!h||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":p7,h||(y.as="script"),y.crossOrigin="",y.href=u,l&&y.setAttribute("nonce",l),document.head.appendChild(y),h)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},m7={class:"mb-1"},y7={key:0,class:"d-flex align-items-center gap-2"},v7=["disabled","onClick","aria-pressed","title"],_7=["disabled"],b7={key:1,class:"text-muted"},w7={__name:"Rating",props:{classId:{type:[String,Number],required:!0}},setup(n){const t=n,e=zn(()=>!!Mn.user),i=Zt({}),r=Zt(0),s=Zt(!1);let o=null;To(()=>{const g=Ru(hu,"ratings",String(t.classId),"userRatings");o=jM(g,p=>{const y={};p.forEach(b=>y[b.id]=Number(b.data().score||0)),i.value=y,r.value=Mn.user&&y[Mn.user.uid]||0})}),xy(()=>{o&&o()});const a=zn(()=>Object.keys(i.value).length),l=zn(()=>{const g=Object.values(i.value);return g.length?(g.reduce((y,b)=>y+b,0)/g.length).toFixed(2):"0.00"});async function c(g){if(Mn.user){s.value=!0;try{const p=fa(hu,"ratings",String(t.classId),"userRatings",Mn.user.uid);await I2(p,{uid:Mn.user.uid,score:g},{merge:!0})}finally{s.value=!1}}}async function u(g){Mn.user&&(g===r.value?await h():await c(g))}async function h(){if(Mn.user){s.value=!0;try{const g=fa(hu,"ratings",String(t.classId),"userRatings",Mn.user.uid);await Y4(g)}finally{s.value=!1}}}return(g,p)=>(Wt(),Kt("div",null,[Y("p",m7,"Average: "+Qt(l.value)+" ("+Qt(a.value)+" ratings)",1),e.value?(Wt(),Kt("div",y7,[Y("div",null,[(Wt(),Kt(Ai,null,xl(5,y=>Y("button",{key:y,class:Fu(["btn btn-sm me-1",y<=r.value?"btn-warning":"btn-outline-secondary"]),disabled:s.value,onClick:b=>u(y),"aria-pressed":y===r.value,title:`Rate ${y}`},Qt(y<=r.value?"★":"☆"),11,v7)),64))]),r.value>0?(Wt(),Kt("button",{key:0,class:"btn btn-sm btn-outline-secondary",disabled:s.value,onClick:h,title:"Clear my rating"}," Clear ",8,_7)):ke("",!0)])):(Wt(),Kt("div",b7,"Please login to rate."))]))}},A7={class:"container py-4 text-start"},x7={key:0,class:"text-muted"},S7={key:1,class:"alert alert-danger"},E7={class:"card-body"},T7={class:"d-flex align-items-center justify-content-between"},I7={class:"card-title mb-1"},P7={class:"text-muted"},k7={class:"ms-3"},C7={class:"mt-3"},R7=["onUpdate:modelValue"],N7={class:"text-muted"},L7={key:3,class:"text-muted"},O7={__name:"Home",setup(n){const t=Zt([]),e=Zt({}),i=Zt(!1),r=Zt("");return To(async()=>{try{const o=("./".endsWith("/")?"./":".//")+"classes.json";console.log("[classes.json URL]",o);const a=await fetch(o);if(!a.ok)throw new Error(`HTTP ${a.status}`);const l=await a.json();if(!Array.isArray(l))throw new Error("classes.json must be an array");t.value=l}catch(s){console.error("Failed to load classes.json",s),r.value="Failed to load class list. Please check classes.json path and deployment."}finally{i.value=!0}}),(s,o)=>(Wt(),Kt("div",A7,[o[1]||(o[1]=Y("h1",{class:"mb-3"},"Classes list",-1)),!i.value&&!r.value?(Wt(),Kt("div",x7,"Loading...")):ke("",!0),r.value?(Wt(),Kt("div",S7,Qt(r.value),1)):ke("",!0),t.value.length?(Wt(!0),Kt(Ai,{key:2},xl(t.value,a=>(Wt(),Kt("div",{key:a.id,class:"card mb-3 shadow-sm"},[Y("div",E7,[Y("div",T7,[Y("div",null,[Y("h5",I7,Qt(a.title),1),Y("div",P7,"Level: "+Qt(a.level)+" · "+Qt(a.duration)+" mins",1)]),Y("div",k7,[Xe(w7,{classId:a.id},null,8,["classId"])])]),Y("div",C7,[o[0]||(o[0]=Y("label",{class:"form-label"},"My note (optional)",-1)),rn(Y("input",{"onUpdate:modelValue":l=>e.value[a.id]=l,class:"form-control",maxlength:"120",placeholder:"Write a short note (no HTML)"},null,8,R7),[[Cn,e.value[a.id]]]),Y("small",N7,"Preview: "+Qt(e.value[a.id]),1)])])]))),128)):ke("",!0),i.value&&!r.value&&!t.value.length?(Wt(),Kt("div",L7,"No classes.")):ke("",!0)]))}},D7={id:"main-content",class:"container py-4 text-start",style:{"max-width":"640px"},"aria-labelledby":"form-title"},M7={class:"mb-3"},F7=["aria-invalid"],V7={key:0,id:"name-error",class:"text-danger small mt-1",role:"alert","aria-live":"assertive"},B7={class:"mb-3"},j7=["aria-invalid"],U7={key:0,id:"email-error",class:"text-danger small mt-1",role:"alert","aria-live":"assertive"},q7={class:"mb-3"},z7={id:"message-help",class:"form-text d-flex justify-content-between"},H7={id:"message-count",class:"text-muted"},$7={class:"border rounded p-2 small bg-light mt-1","aria-live":"polite"},W7={key:0,class:"ms-2 text-success",role:"status","aria-live":"polite"},G7={key:1,class:"ms-2 text-danger",role:"alert","aria-live":"assertive"},K7={__name:"Form",setup(n){const t=gc({name:"",email:"",message:""}),e=Zt(!1),i=Zt(""),r=gc({name:"",email:""});function s(){if(e.value=!1,i.value="",r.name="",r.email="",(!t.name||t.name.length<2)&&(r.name="Please enter at least 2 characters for your name."),t.email?/^\S+@\S+\.\S+$/.test(t.email)||(r.email="Please enter a valid email address."):r.email="Email is required.",r.name||r.email){i.value="Please fix the errors above.";return}const o=JSON.parse(localStorage.getItem("feedback_v1")||"[]");o.push({...t,at:new Date().toISOString()}),localStorage.setItem("feedback_v1",JSON.stringify(o)),e.value=!0}return(o,a)=>(Wt(),Kt("main",D7,[a[9]||(a[9]=Y("h1",{id:"form-title",class:"mb-3"},"Feedback Form",-1)),a[10]||(a[10]=Y("p",{id:"form-help",class:"visually-hidden"}," Required fields are marked and errors will be announced. ",-1)),Y("form",{onSubmit:Vu(s,["prevent"]),novalidate:"","aria-describedby":"form-help"},[Y("div",M7,[a[3]||(a[3]=Y("label",{class:"form-label",for:"name"},"Your name",-1)),rn(Y("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=l=>t.name=l),class:"form-control",required:"",minlength:"2",maxlength:"40",autocomplete:"name",placeholder:"e.g., Alex","aria-invalid":!!r.name,"aria-describedby":"name-help name-error"},null,8,F7),[[Cn,t.name,void 0,{trim:!0}]]),a[4]||(a[4]=Y("div",{id:"name-help",class:"form-text"},"2–40 characters.",-1)),r.name?(Wt(),Kt("div",V7,Qt(r.name),1)):ke("",!0)]),Y("div",B7,[a[5]||(a[5]=Y("label",{class:"form-label",for:"email"},"Email",-1)),rn(Y("input",{id:"email","onUpdate:modelValue":a[1]||(a[1]=l=>t.email=l),class:"form-control",type:"email",required:"",autocomplete:"email",placeholder:"name@example.com","aria-invalid":!!r.email,"aria-describedby":"email-error"},null,8,j7),[[Cn,t.email,void 0,{trim:!0}]]),r.email?(Wt(),Kt("div",U7,Qt(r.email),1)):ke("",!0)]),Y("div",q7,[a[7]||(a[7]=Y("label",{class:"form-label",for:"message"},"Message",-1)),rn(Y("textarea",{id:"message","onUpdate:modelValue":a[2]||(a[2]=l=>t.message=l),class:"form-control",rows:"4",maxlength:"300",placeholder:"Write your message (no HTML)","aria-describedby":"message-help message-count"},null,512),[[Cn,t.message]]),Y("div",z7,[a[6]||(a[6]=Y("span",null,"Preview (safe):",-1)),Y("span",H7,Qt(t.message.length)+"/300",1)]),Y("div",$7,Qt(t.message),1)]),a[8]||(a[8]=Y("button",{class:"btn btn-primary",type:"submit"},"Submit",-1)),e.value?(Wt(),Kt("span",W7,"Submitted.")):ke("",!0),i.value?(Wt(),Kt("span",G7,Qt(i.value),1)):ke("",!0)],32)]))}},Y7=ts(K7,[["__scopeId","data-v-4835ab44"]]),J7={class:"container py-4 text-start"},X7={__name:"About",setup(n){return(t,e)=>(Wt(),Kt("div",J7,[...e[0]||(e[0]=[Y("h1",{class:"mb-3"},"About",-1),Y("p",null," This is a basic web application demonstrating: authentication with Firebase, role-based access (user/admin), and a rating feature with aggregated averages per class. ",-1),Y("ul",null,[Y("li",null,"Authentication: Email/password via Firebase Auth."),Y("li",null,"Role-based access: Admin-only route and navigation link."),Y("li",null,"Rating: Per-class ratings stored in Firestore with live average."),Y("li",null,"Security: Client-side validation and no dangerous HTML rendering.")],-1)])]))}},Q7={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.firebasestorage.app",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"},Q4=Ly().length?Wf():Vg(Q7);yE(Q4);const Ap=nm(Q4),Z7={class:"container py-3"},tF={class:"col-auto"},eF={class:"col-auto"},nF={class:"col-auto"},iF={class:"list-group"},rF={class:"text-muted"},sF={class:"d-flex gap-2 align-items-center"},oF=["onUpdate:modelValue","placeholder"],aF=["onClick"],lF=["onClick"],cF={key:0,class:"text-muted mt-3"},uF={__name:"BookList",setup(n){const t=Zt(1e3),e=Zt("asc"),i=Zt(5),r=Zt([]);function s(){const u=[Ru(Ap,"books")];return Number.isFinite(t.value)&&u.push($4("isbn",">",Number(t.value))),u.push(OM("isbn",e.value)),Number.isFinite(i.value)&&i.value>0&&u.push(DM(Number(i.value))),H4(...u)}async function o(){try{const u=s(),h=await cg(u),g=[];h.forEach(p=>{const y=p.data();g.push({id:p.id,name:y.name,isbn:y.isbn,editName:y.name})}),r.value=g}catch(u){console.error("fetchBooks failed:",u),alert("Failed to load books. Check console for details.")}}async function a(u){try{const h=(u.editName||"").trim();if(!h){alert("Name cannot be empty.");return}await VM(fa(Ap,"books",u.id),{name:h}),u.name=h,alert("Updated!")}catch(h){console.error("updateBook failed:",h),alert("Failed to update. Check console for details.")}}async function l(u){try{if(!confirm(`Delete "${u.name}"?`))return;await Y4(fa(Ap,"books",u.id)),r.value=r.value.filter(h=>h.id!==u.id),alert("Deleted!")}catch(h){console.error("deleteBook failed:",h),alert("Failed to delete. Check console for details.")}}function c(){t.value=1e3,e.value="asc",i.value=5,o()}return To(o),(u,h)=>(Wt(),Kt("div",Z7,[h[8]||(h[8]=Y("h2",{class:"mb-3"},"Books (query + update + delete)",-1)),Y("form",{class:"row g-2 align-items-end mb-3",onSubmit:Vu(o,["prevent"])},[Y("div",tF,[h[3]||(h[3]=Y("label",{class:"form-label"},"Min ISBN (where >)",-1)),rn(Y("input",{type:"number",class:"form-control","onUpdate:modelValue":h[0]||(h[0]=g=>t.value=g),placeholder:"1000"},null,512),[[Cn,t.value,void 0,{number:!0}]])]),Y("div",eF,[h[5]||(h[5]=Y("label",{class:"form-label"},"Order by ISBN",-1)),rn(Y("select",{class:"form-select","onUpdate:modelValue":h[1]||(h[1]=g=>e.value=g)},[...h[4]||(h[4]=[Y("option",{value:"asc"},"asc",-1),Y("option",{value:"desc"},"desc",-1)])],512),[[wu,e.value]])]),Y("div",nF,[h[6]||(h[6]=Y("label",{class:"form-label"},"Limit",-1)),rn(Y("input",{type:"number",class:"form-control","onUpdate:modelValue":h[2]||(h[2]=g=>i.value=g),placeholder:"5",min:"1"},null,512),[[Cn,i.value,void 0,{number:!0}]])]),h[7]||(h[7]=Y("div",{class:"col-auto"},[Y("button",{type:"submit",class:"btn btn-primary"},"Run query")],-1)),Y("div",{class:"col-auto"},[Y("button",{type:"button",class:"btn btn-outline-secondary",onClick:c},"Reset")])],32),Y("ul",iF,[(Wt(!0),Kt(Ai,null,xl(r.value,g=>(Wt(),Kt("li",{key:g.id,class:"list-group-item d-flex align-items-center justify-content-between"},[Y("div",null,[Y("strong",null,Qt(g.name),1),Y("span",rF," — ISBN: "+Qt(g.isbn),1)]),Y("div",sF,[rn(Y("input",{class:"form-control form-control-sm",style:{width:"220px"},"onUpdate:modelValue":p=>g.editName=p,placeholder:`Rename '${g.name}'`},null,8,oF),[[Cn,g.editName]]),Y("button",{class:"btn btn-sm btn-success",onClick:p=>a(g)},"Update",8,aF),Y("button",{class:"btn btn-sm btn-danger",onClick:p=>l(g)},"Delete",8,lF)])]))),128))]),r.value.length===0?(Wt(),Kt("p",cF,"No results. Try adjusting the query above.")):ke("",!0)]))}},hF={class:"container py-3"},fF={class:"mb-3"},dF={class:"mb-3"},pF={__name:"AddBookView",setup(n){const t=Zt(""),e=Zt(""),i=async()=>{try{const r=Number(t.value);if(isNaN(r)){alert("ISBN must be a valid number");return}await BM(Ru(Ap,"books"),{isbn:r,name:e.value}),t.value="",e.value="",alert("Book added successfully!")}catch(r){console.error("Error adding book:",r),alert("Failed to add. Check console for details.")}};return(r,s)=>(Wt(),Kt("div",hF,[s[5]||(s[5]=Y("h1",{class:"mb-4"},"Add Book",-1)),Y("form",{onSubmit:Vu(i,["prevent"]),class:"mb-4"},[Y("div",fF,[s[2]||(s[2]=Y("label",{for:"isbn",class:"form-label"},"ISBN (number)",-1)),rn(Y("input",{id:"isbn",type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>t.value=o),required:"",placeholder:"e.g. 9780134685991"},null,512),[[Cn,t.value]])]),Y("div",dF,[s[3]||(s[3]=Y("label",{for:"name",class:"form-label"},"Name",-1)),rn(Y("input",{id:"name",type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>e.value=o),required:"",placeholder:"Clean Code"},null,512),[[Cn,e.value]])]),s[4]||(s[4]=Y("button",{type:"submit",class:"btn btn-primary"},"Add Book",-1))],32),Xe(uF)]))}},gF={class:"container",style:{"max-width":"480px"}},mF=["disabled"],yF={key:0,class:"text-danger mt-2"},vF={__name:"FirebaseSigninView",setup(n){const t=xS(),e=Zt(""),i=Zt(""),r=Zt(!1),s=Zt("");async function o(){r.value=!0,s.value="";try{const a=await uL(tl,e.value,i.value),l=await K4(fa(hu,"users",a.user.uid));Mn.user=a.user,Mn.profile=l.exists()?l.data():{uid:a.user.uid,email:a.user.email,role:"user"},t.push("/")}catch(a){s.value=a.message||String(a)}finally{r.value=!1}}return(a,l)=>(Wt(),Kt("div",gF,[l[4]||(l[4]=Y("h2",null,"Sign in",-1)),Y("form",{onSubmit:Vu(o,["prevent"]),novalidate:""},[l[2]||(l[2]=Y("label",{class:"form-label"},"Email",-1)),rn(Y("input",{class:"form-control","onUpdate:modelValue":l[0]||(l[0]=c=>e.value=c),type:"email",required:""},null,512),[[Cn,e.value,void 0,{trim:!0}]]),l[3]||(l[3]=Y("label",{class:"form-label mt-2"},"Password",-1)),rn(Y("input",{class:"form-control","onUpdate:modelValue":l[1]||(l[1]=c=>i.value=c),type:"password",required:""},null,512),[[Cn,i.value]]),Y("button",{class:"btn btn-primary mt-3",disabled:r.value},"Sign in",8,mF),s.value?(Wt(),Kt("p",yF,Qt(s.value),1)):ke("",!0)],32)]))}},_F={class:"container",style:{"max-width":"480px"}},bF=["disabled"],wF={key:0,class:"text-success mt-2"},AF={key:1,class:"text-danger mt-2"},xF={__name:"FirebaseRegisterView",setup(n){const t=Zt(""),e=Zt(""),i=Zt("user"),r=Zt(!1),s=Zt(!1),o=Zt("");async function a(){r.value=!0,s.value=!1,o.value="";try{const l=await cL(tl,t.value,e.value);await I2(fa(hu,"users",l.user.uid),{uid:l.user.uid,email:l.user.email,role:i.value,createdAt:UM()}),s.value=!0}catch(l){o.value=l.message||String(l)}finally{r.value=!1}}return(l,c)=>(Wt(),Kt("div",_F,[c[7]||(c[7]=Y("h2",null,"Register",-1)),Y("form",{onSubmit:Vu(a,["prevent"]),novalidate:""},[c[4]||(c[4]=Y("label",{class:"form-label"},"Email",-1)),rn(Y("input",{class:"form-control","onUpdate:modelValue":c[0]||(c[0]=u=>t.value=u),type:"email",required:""},null,512),[[Cn,t.value,void 0,{trim:!0}]]),c[5]||(c[5]=Y("label",{class:"form-label mt-2"},"Password",-1)),rn(Y("input",{class:"form-control","onUpdate:modelValue":c[1]||(c[1]=u=>e.value=u),type:"password",required:"",pattern:"(?=.*[A-Z])(?=.*[a-z])(?=.*\\\\d).{6,}",title:"At least 6 chars, must include uppercase, lowercase and number"},null,512),[[Cn,e.value]]),c[6]||(c[6]=Y("label",{class:"form-label mt-2"},"Role",-1)),rn(Y("select",{class:"form-select","onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u)},[...c[3]||(c[3]=[Y("option",{value:"user"},"user",-1),Y("option",{value:"admin"},"admin",-1)])],512),[[wu,i.value]]),Y("button",{class:"btn btn-primary mt-3",disabled:r.value},"Create account",8,bF),s.value?(Wt(),Kt("p",wF,"Registered! You can sign in now.")):ke("",!0),o.value?(Wt(),Kt("p",AF,Qt(o.value),1)):ke("",!0)],32)]))}},SF={class:"container py-4",style:{"max-width":"880px"}},EF={key:0,class:"alert alert-secondary py-2"},TF={key:1,class:"alert alert-danger py-2",role:"alert"},IF={key:3,class:"alert alert-info"},PF={class:"mb-3"},kF=["value"],CF={class:"row g-3"},RF={class:"col-md-8"},NF={class:"col-md-4"},LF={class:"mt-3"},OF={class:"mt-3"},DF={class:"d-flex align-items-center gap-2 mt-3"},MF=["disabled"],FF=["disabled"],VF={key:5,class:"card mt-4"},BF={class:"card-header"},jF={class:"card-body small"},UF={style:{"white-space":"pre-wrap"}},s5="https://australia-southeast2-week7-siyi.cloudfunctions.net/sendClassReminder",qF={__name:"Admin",setup(n){const t=nm(),e=Zt([]),i=Zt(!0),r=Zt(!1),s=Zt(!1),o=Zt(""),a=Zt(""),l=Zt(""),c=Zt([]),u=Zt({classId:"",subject:"",text:"",html:"",max:200});To(h);async function h(){i.value=!0,o.value="";try{const w=await cg(Ru(t,"classes"));e.value=w.docs.map(_=>({id:_.id,..._.data()}))}catch(w){console.error(w),o.value=w.message||"Failed to load classes."}finally{i.value=!1}}function g(w){const _={classId:u.value.classId,dryRun:!!w,max:u.value.max||void 0};return u.value.subject?.trim()&&(_.subject=u.value.subject.trim()),u.value.text?.trim()&&(_.text=u.value.text.trim()),u.value.html?.trim()&&(_.html=u.value.html.trim()),_}function p(){return e.value.find(w=>w.id===u.value.classId)||null}async function y(){if(!u.value.classId){a.value="Please choose a class.",s.value=!1;return}r.value=!0,l.value="preview",a.value="",o.value="",s.value=!1,c.value=[];try{const w=await fetch(s5,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g(!0))}),_=await w.json();if(!w.ok||_.ok===!1)throw new Error(_.error||"Preview failed");c.value=_.recipients||[];const E=p(),k=_.class?.name??E?.name??"(unknown)",D=_.class?.time??E?.time??"(unknown)";s.value=!0,a.value=`Dry run OK for "${k}" at ${D}. ${c.value.length} recipient(s) found.`}catch(w){o.value=w.message||"Preview failed."}finally{r.value=!1}}async function b(){if(!u.value.classId){a.value="Please choose a class.",s.value=!1;return}r.value=!0,l.value="send",a.value="",o.value="",s.value=!1;try{const w=await fetch(s5,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g(!1))}),_=await w.json();if(!w.ok||_.ok===!1)throw new Error(_.error||"Send failed");const E=p(),k=_.class?.name??E?.name??"(unknown)",D=_.class?.time??E?.time??"(unknown)";s.value=!0,(_.sent??0)>0?a.value=`Sent ${_.sent} reminder(s) for class "${k}" at ${D}.`:a.value=`No recipients found for class "${k}" at ${D}.`}catch(w){o.value=w.message||"Send failed."}finally{r.value=!1}}return(w,_)=>{const E=Bp("RouterLink");return Wt(),Kt("div",SF,[_[18]||(_[18]=Y("h1",{class:"mb-3"},"Admin: Class Reminder",-1)),_[19]||(_[19]=Y("p",{class:"text-muted"},"Send reminder emails to all users who booked a selected class.",-1)),i.value?(Wt(),Kt("div",EF,"Loading classes…")):ke("",!0),o.value?(Wt(),Kt("div",TF,Qt(o.value),1)):ke("",!0),a.value?(Wt(),Kt("div",{key:2,class:Fu(["alert",s.value?"alert-success":"alert-warning"]),role:"status"},Qt(a.value),3)):ke("",!0),!i.value&&e.value.length===0?(Wt(),Kt("div",IF,[_[7]||(_[7]=sn(" No classes found. Go to ",-1)),Xe(E,{to:"/book"},{default:Fi(()=>[..._[6]||(_[6]=[sn("Book",-1)])]),_:1}),_[8]||(_[8]=sn(" page to seed demo classes first. ",-1))])):ke("",!0),e.value.length?(Wt(),Kt("form",{key:4,onSubmit:_[5]||(_[5]=Vu(()=>{},["prevent"]))},[Y("div",PF,[_[10]||(_[10]=Y("label",{class:"form-label",for:"cls"},"Class",-1)),rn(Y("select",{id:"cls",class:"form-select","onUpdate:modelValue":_[0]||(_[0]=k=>u.value.classId=k),required:""},[_[9]||(_[9]=Y("option",{disabled:"",value:""},"-- Choose a class --",-1)),(Wt(!0),Kt(Ai,null,xl(e.value,k=>(Wt(),Kt("option",{key:k.id,value:k.id},Qt(k.name)+" — "+Qt(k.time)+" ("+Qt(k.enrolled)+"/"+Qt(k.capacity)+") ",9,kF))),128))],512),[[wu,u.value.classId]]),_[11]||(_[11]=Y("div",{class:"form-text"}," Current enrollments are displayed for reference. ",-1))]),Y("div",CF,[Y("div",RF,[_[12]||(_[12]=Y("label",{class:"form-label",for:"subj"},"Email Subject",-1)),rn(Y("input",{id:"subj",class:"form-control","onUpdate:modelValue":_[1]||(_[1]=k=>u.value.subject=k),placeholder:"(Optional) e.g., Reminder: Yoga Flow tomorrow"},null,512),[[Cn,u.value.subject,void 0,{trim:!0}]])]),Y("div",NF,[_[13]||(_[13]=Y("label",{class:"form-label",for:"max"},"Max recipients",-1)),rn(Y("input",{id:"max",type:"number",min:"1",class:"form-control","onUpdate:modelValue":_[2]||(_[2]=k=>u.value.max=k)},null,512),[[Cn,u.value.max,void 0,{number:!0}]]),_[14]||(_[14]=Y("div",{class:"form-text"},"Safety limit (default 200).",-1))])]),Y("div",LF,[_[15]||(_[15]=Y("label",{class:"form-label",for:"text"},"Plain Text (for clients without HTML)",-1)),rn(Y("textarea",{id:"text",class:"form-control",rows:"3","onUpdate:modelValue":_[3]||(_[3]=k=>u.value.text=k),placeholder:"Optional plain-text body."},null,512),[[Cn,u.value.text]])]),Y("div",OF,[_[16]||(_[16]=Y("label",{class:"form-label",for:"html"},"HTML Body",-1)),rn(Y("textarea",{id:"html",class:"form-control",rows:"4","onUpdate:modelValue":_[4]||(_[4]=k=>u.value.html=k),placeholder:"<p>Optional <b>HTML</b> body.</p>"},null,512),[[Cn,u.value.html]]),_[17]||(_[17]=Y("div",{class:"form-text"}," If subject/text/html are empty, the server will generate a default message based on the class. ",-1))]),Y("div",DF,[Y("button",{type:"button",class:"btn btn-outline-secondary",disabled:r.value,onClick:y},Qt(r.value&&l.value==="preview"?"Previewing…":"Preview recipients"),9,MF),Y("button",{type:"button",class:"btn btn-primary",disabled:r.value,onClick:b},Qt(r.value&&l.value==="send"?"Sending…":"Send reminder"),9,FF)])],32)):ke("",!0),c.value.length?(Wt(),Kt("div",VF,[Y("div",BF,"Preview recipients (dry run) — "+Qt(c.value.length),1),Y("div",jF,[Y("code",UF,Qt(c.value.join(", ")),1)])])):ke("",!0)])}}},zF=ts(qF,[["__scopeId","data-v-15475a7f"]]);function Z4(n,t){return function(){return n.apply(t,arguments)}}const{toString:HF}=Object.prototype,{getPrototypeOf:P2}=Object,{iterator:hm,toStringTag:tT}=Symbol,fm=(n=>t=>{const e=HF.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Fs=n=>(n=n.toLowerCase(),t=>fm(t)===n),dm=n=>t=>typeof t===n,{isArray:Gu}=Array,Nu=dm("undefined");function id(n){return n!==null&&!Nu(n)&&n.constructor!==null&&!Nu(n.constructor)&&kr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const eT=Fs("ArrayBuffer");function $F(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&eT(n.buffer),t}const WF=dm("string"),kr=dm("function"),nT=dm("number"),rd=n=>n!==null&&typeof n=="object",GF=n=>n===!0||n===!1,xp=n=>{if(fm(n)!=="object")return!1;const t=P2(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tT in n)&&!(hm in n)},KF=n=>{if(!rd(n)||id(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},YF=Fs("Date"),JF=Fs("File"),XF=Fs("Blob"),QF=Fs("FileList"),ZF=n=>rd(n)&&kr(n.pipe),t9=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||kr(n.append)&&((t=fm(n))==="formdata"||t==="object"&&kr(n.toString)&&n.toString()==="[object FormData]"))},e9=Fs("URLSearchParams"),[n9,i9,r9,s9]=["ReadableStream","Request","Response","Headers"].map(Fs),o9=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sd(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Gu(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{if(id(n))return;const s=e?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,n[a],a,n)}}function iT(n,t){if(id(n))return null;t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const sc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rT=n=>!Nu(n)&&n!==sc;function M0(){const{caseless:n,skipUndefined:t}=rT(this)&&this||{},e={},i=(r,s)=>{const o=n&&iT(e,s)||s;xp(e[o])&&xp(r)?e[o]=M0(e[o],r):xp(r)?e[o]=M0({},r):Gu(r)?e[o]=r.slice():(!t||!Nu(r))&&(e[o]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&sd(arguments[r],i);return e}const a9=(n,t,e,{allOwnKeys:i}={})=>(sd(t,(r,s)=>{e&&kr(r)?n[s]=Z4(r,e):n[s]=r},{allOwnKeys:i}),n),l9=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),c9=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},u9=(n,t,e,i)=>{let r,s,o;const a={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&P2(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},h9=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},f9=n=>{if(!n)return null;if(Gu(n))return n;let t=n.length;if(!nT(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},d9=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&P2(Uint8Array)),p9=(n,t)=>{const i=(n&&n[hm]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(n,s[0],s[1])}},g9=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},m9=Fs("HTMLFormElement"),y9=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),o5=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),v9=Fs("RegExp"),sT=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};sd(e,(r,s)=>{let o;(o=t(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},_9=n=>{sT(n,(t,e)=>{if(kr(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(kr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},b9=(n,t)=>{const e={},i=r=>{r.forEach(s=>{e[s]=!0})};return Gu(n)?i(n):i(String(n).split(t)),e},w9=()=>{},A9=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function x9(n){return!!(n&&kr(n.append)&&n[tT]==="FormData"&&n[hm])}const S9=n=>{const t=new Array(10),e=(i,r)=>{if(rd(i)){if(t.indexOf(i)>=0)return;if(id(i))return i;if(!("toJSON"in i)){t[r]=i;const s=Gu(i)?[]:{};return sd(i,(o,a)=>{const l=e(o,r+1);!Nu(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return e(n,0)},E9=Fs("AsyncFunction"),T9=n=>n&&(rd(n)||kr(n))&&kr(n.then)&&kr(n.catch),oT=((n,t)=>n?setImmediate:t?((e,i)=>(sc.addEventListener("message",({source:r,data:s})=>{r===sc&&s===e&&i.length&&i.shift()()},!1),r=>{i.push(r),sc.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",kr(sc.postMessage)),I9=typeof queueMicrotask<"u"?queueMicrotask.bind(sc):typeof process<"u"&&process.nextTick||oT,P9=n=>n!=null&&kr(n[hm]),Pt={isArray:Gu,isArrayBuffer:eT,isBuffer:id,isFormData:t9,isArrayBufferView:$F,isString:WF,isNumber:nT,isBoolean:GF,isObject:rd,isPlainObject:xp,isEmptyObject:KF,isReadableStream:n9,isRequest:i9,isResponse:r9,isHeaders:s9,isUndefined:Nu,isDate:YF,isFile:JF,isBlob:XF,isRegExp:v9,isFunction:kr,isStream:ZF,isURLSearchParams:e9,isTypedArray:d9,isFileList:QF,forEach:sd,merge:M0,extend:a9,trim:o9,stripBOM:l9,inherits:c9,toFlatObject:u9,kindOf:fm,kindOfTest:Fs,endsWith:h9,toArray:f9,forEachEntry:p9,matchAll:g9,isHTMLForm:m9,hasOwnProperty:o5,hasOwnProp:o5,reduceDescriptors:sT,freezeMethods:_9,toObjectSet:b9,toCamelCase:y9,noop:w9,toFiniteNumber:A9,findKey:iT,global:sc,isContextDefined:rT,isSpecCompliantForm:x9,toJSONObject:S9,isAsyncFn:E9,isThenable:T9,setImmediate:oT,asap:I9,isIterable:P9};function Me(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Pt.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.status}}});const aT=Me.prototype,lT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{lT[n]={value:n}});Object.defineProperties(Me,lT);Object.defineProperty(aT,"isAxiosError",{value:!0});Me.from=(n,t,e,i,r,s)=>{const o=Object.create(aT);Pt.toFlatObject(n,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=t==null&&n?n.code:t;return Me.call(o,a,l,e,i,r),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",s&&Object.assign(o,s),o};const k9=null;function F0(n){return Pt.isPlainObject(n)||Pt.isArray(n)}function cT(n){return Pt.endsWith(n,"[]")?n.slice(0,-2):n}function a5(n,t,e){return n?n.concat(t).map(function(r,s){return r=cT(r),!e&&s?"["+r+"]":r}).join(e?".":""):t}function C9(n){return Pt.isArray(n)&&!n.some(F0)}const R9=Pt.toFlatObject(Pt,{},null,function(t){return/^is[A-Z]/.test(t)});function pm(n,t,e){if(!Pt.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=Pt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!Pt.isUndefined(w[b])});const i=e.metaTokens,r=e.visitor||u,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(t);if(!Pt.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Pt.isDate(y))return y.toISOString();if(Pt.isBoolean(y))return y.toString();if(!l&&Pt.isBlob(y))throw new Me("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(y)||Pt.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,b,w){let _=y;if(y&&!w&&typeof y=="object"){if(Pt.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(Pt.isArray(y)&&C9(y)||(Pt.isFileList(y)||Pt.endsWith(b,"[]"))&&(_=Pt.toArray(y)))return b=cT(b),_.forEach(function(k,D){!(Pt.isUndefined(k)||k===null)&&t.append(o===!0?a5([b],D,s):o===null?b:b+"[]",c(k))}),!1}return F0(y)?!0:(t.append(a5(w,b,s),c(y)),!1)}const h=[],g=Object.assign(R9,{defaultVisitor:u,convertValue:c,isVisitable:F0});function p(y,b){if(!Pt.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),Pt.forEach(y,function(_,E){(!(Pt.isUndefined(_)||_===null)&&r.call(t,_,Pt.isString(E)?E.trim():E,b,g))===!0&&p(_,b?b.concat(E):[E])}),h.pop()}}if(!Pt.isObject(n))throw new TypeError("data must be an object");return p(n),t}function l5(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function k2(n,t){this._pairs=[],n&&pm(n,this,t)}const uT=k2.prototype;uT.append=function(t,e){this._pairs.push([t,e])};uT.toString=function(t){const e=t?function(i){return t.call(this,i,l5)}:l5;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function N9(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hT(n,t,e){if(!t)return n;const i=e&&e.encode||N9;Pt.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let s;if(r?s=r(t,e):s=Pt.isURLSearchParams(t)?t.toString():new k2(t,e).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class c5{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const fT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L9=typeof URLSearchParams<"u"?URLSearchParams:k2,O9=typeof FormData<"u"?FormData:null,D9=typeof Blob<"u"?Blob:null,M9={isBrowser:!0,classes:{URLSearchParams:L9,FormData:O9,Blob:D9},protocols:["http","https","file","blob","url","data"]},C2=typeof window<"u"&&typeof document<"u",V0=typeof navigator=="object"&&navigator||void 0,F9=C2&&(!V0||["ReactNative","NativeScript","NS"].indexOf(V0.product)<0),V9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B9=C2&&window.location.href||"http://localhost",j9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:C2,hasStandardBrowserEnv:F9,hasStandardBrowserWebWorkerEnv:V9,navigator:V0,origin:B9},Symbol.toStringTag,{value:"Module"})),nr={...j9,...M9};function U9(n,t){return pm(n,new nr.classes.URLSearchParams,{visitor:function(e,i,r,s){return nr.isNode&&Pt.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function q9(n){return Pt.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function z9(n){const t={},e=Object.keys(n);let i;const r=e.length;let s;for(i=0;i<r;i++)s=e[i],t[s]=n[s];return t}function dT(n){function t(e,i,r,s){let o=e[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=e.length;return o=!o&&Pt.isArray(r)?r.length:o,l?(Pt.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Pt.isObject(r[o]))&&(r[o]=[]),t(e,i,r[o],s)&&Pt.isArray(r[o])&&(r[o]=z9(r[o])),!a)}if(Pt.isFormData(n)&&Pt.isFunction(n.entries)){const e={};return Pt.forEachEntry(n,(i,r)=>{t(q9(i),r,e,0)}),e}return null}function H9(n,t,e){if(Pt.isString(n))try{return(t||JSON.parse)(n),Pt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const od={transitional:fT,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=Pt.isObject(t);if(s&&Pt.isHTMLForm(t)&&(t=new FormData(t)),Pt.isFormData(t))return r?JSON.stringify(dT(t)):t;if(Pt.isArrayBuffer(t)||Pt.isBuffer(t)||Pt.isStream(t)||Pt.isFile(t)||Pt.isBlob(t)||Pt.isReadableStream(t))return t;if(Pt.isArrayBufferView(t))return t.buffer;if(Pt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return U9(t,this.formSerializer).toString();if((a=Pt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return pm(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),H9(t)):t}],transformResponse:[function(t){const e=this.transitional||od.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(Pt.isResponse(t)||Pt.isReadableStream(t))return t;if(t&&Pt.isString(t)&&(i&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Me.from(a,Me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],n=>{od.headers[n]={}});const $9=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W9=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||t[e]&&$9[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},u5=Symbol("internals");function Ah(n){return n&&String(n).trim().toLowerCase()}function Sp(n){return n===!1||n==null?n:Pt.isArray(n)?n.map(Sp):String(n)}function G9(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const K9=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function c1(n,t,e,i,r){if(Pt.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!Pt.isString(t)){if(Pt.isString(i))return t.indexOf(i)!==-1;if(Pt.isRegExp(i))return i.test(t)}}function Y9(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function J9(n,t){const e=Pt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}let Cr=class{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function s(a,l,c){const u=Ah(l);if(!u)throw new Error("header name must be a non-empty string");const h=Pt.findKey(r,u);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=Sp(a))}const o=(a,l)=>Pt.forEach(a,(c,u)=>s(c,u,l));if(Pt.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Pt.isString(t)&&(t=t.trim())&&!K9(t))o(W9(t),e);else if(Pt.isObject(t)&&Pt.isIterable(t)){let a={},l,c;for(const u of t){if(!Pt.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Pt.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,e)}else t!=null&&s(e,t,i);return this}get(t,e){if(t=Ah(t),t){const i=Pt.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return G9(r);if(Pt.isFunction(e))return e.call(this,r,i);if(Pt.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ah(t),t){const i=Pt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||c1(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function s(o){if(o=Ah(o),o){const a=Pt.findKey(i,o);a&&(!e||c1(i,i[a],a,e))&&(delete i[a],r=!0)}}return Pt.isArray(t)?t.forEach(s):s(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const s=e[i];(!t||c1(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const e=this,i={};return Pt.forEach(this,(r,s)=>{const o=Pt.findKey(i,s);if(o){e[o]=Sp(r),delete e[s];return}const a=t?Y9(s):String(s).trim();a!==s&&delete e[s],e[a]=Sp(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Pt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&Pt.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[u5]=this[u5]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Ah(o);i[a]||(J9(r,o),i[a]=!0)}return Pt.isArray(t)?t.forEach(s):s(t),this}};Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(Cr.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});Pt.freezeMethods(Cr);function u1(n,t){const e=this||od,i=t||e,r=Cr.from(i.headers);let s=i.data;return Pt.forEach(n,function(a){s=a.call(e,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function pT(n){return!!(n&&n.__CANCEL__)}function Ku(n,t,e){Me.call(this,n??"canceled",Me.ERR_CANCELED,t,e),this.name="CanceledError"}Pt.inherits(Ku,Me,{__CANCEL__:!0});function gT(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new Me("Request failed with status code "+e.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function X9(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Q9(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),e[r]=l,i[r]=c;let h=s,g=0;for(;h!==r;)g+=e[h++],h=h%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<t)return;const p=u&&c-u;return p?Math.round(g*1e3/p):void 0}}function Z9(n,t){let e=0,i=1e3/t,r,s;const o=(c,u=Date.now())=>{e=u,r=null,s&&(clearTimeout(s),s=null),n(...c)};return[(...c)=>{const u=Date.now(),h=u-e;h>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const ug=(n,t,e=3)=>{let i=0;const r=Q9(50,250);return Z9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};n(h)},e)},h5=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},f5=n=>(...t)=>Pt.asap(()=>n(...t)),tV=nr.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,nr.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,eV=nr.hasStandardBrowserEnv?{write(n,t,e,i,r,s){const o=[n+"="+encodeURIComponent(t)];Pt.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),Pt.isString(i)&&o.push("path="+i),Pt.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nV(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function iV(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function mT(n,t,e){let i=!nV(t);return n&&(i||e==!1)?iV(n,t):t}const d5=n=>n instanceof Cr?{...n}:n;function Ac(n,t){t=t||{};const e={};function i(c,u,h,g){return Pt.isPlainObject(c)&&Pt.isPlainObject(u)?Pt.merge.call({caseless:g},c,u):Pt.isPlainObject(u)?Pt.merge({},u):Pt.isArray(u)?u.slice():u}function r(c,u,h,g){if(Pt.isUndefined(u)){if(!Pt.isUndefined(c))return i(void 0,c,h,g)}else return i(c,u,h,g)}function s(c,u){if(!Pt.isUndefined(u))return i(void 0,u)}function o(c,u){if(Pt.isUndefined(u)){if(!Pt.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in t)return i(c,u);if(h in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>r(d5(c),d5(u),h,!0)};return Pt.forEach(Object.keys({...n,...t}),function(u){const h=l[u]||r,g=h(n[u],t[u],u);Pt.isUndefined(g)&&h!==a||(e[u]=g)}),e}const yT=n=>{const t=Ac({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=Cr.from(o),t.url=hT(mT(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Pt.isFormData(e)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Pt.isFunction(e.getHeaders)){const l=e.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&o.set(u,h)})}}if(nr.hasStandardBrowserEnv&&(i&&Pt.isFunction(i)&&(i=i(t)),i||i!==!1&&tV(t.url))){const l=r&&s&&eV.read(s);l&&o.set(r,l)}return t},rV=typeof XMLHttpRequest<"u",sV=rV&&function(n){return new Promise(function(e,i){const r=yT(n);let s=r.data;const o=Cr.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,h,g,p,y;function b(){p&&p(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function _(){if(!w)return;const k=Cr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),W={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:n,request:w};gT(function(L){e(L),b()},function(L){i(L),b()},W),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(i(new Me("Request aborted",Me.ECONNABORTED,n,w)),w=null)},w.onerror=function(D){const W=D&&D.message?D.message:"Network Error",it=new Me(W,Me.ERR_NETWORK,n,w);it.event=D||null,i(it),w=null},w.ontimeout=function(){let D=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const W=r.transitional||fT;r.timeoutErrorMessage&&(D=r.timeoutErrorMessage),i(new Me(D,W.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&Pt.forEach(o.toJSON(),function(D,W){w.setRequestHeader(W,D)}),Pt.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),a&&a!=="json"&&(w.responseType=r.responseType),c&&([g,y]=ug(c,!0),w.addEventListener("progress",g)),l&&w.upload&&([h,p]=ug(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=k=>{w&&(i(!k||k.type?new Ku(null,n,w):k),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const E=X9(r.url);if(E&&nr.protocols.indexOf(E)===-1){i(new Me("Unsupported protocol "+E+":",Me.ERR_BAD_REQUEST,n));return}w.send(s||null)})},oV=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Me?u:new Ku(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new Me(`timeout ${t} of ms exceeded`,Me.ETIMEDOUT))},t);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Pt.asap(a),l}},aV=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},lV=async function*(n,t){for await(const e of cV(n))yield*aV(e,t)},cV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},p5=(n,t,e,i)=>{const r=lV(n,t);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let h=u.byteLength;if(e){let g=s+=h;e(g)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},g5=64*1024,{isFunction:Md}=Pt,uV=(({Request:n,Response:t})=>({Request:n,Response:t}))(Pt.global),{ReadableStream:m5,TextEncoder:y5}=Pt.global,v5=(n,...t)=>{try{return!!n(...t)}catch{return!1}},hV=n=>{n=Pt.merge.call({skipUndefined:!0},uV,n);const{fetch:t,Request:e,Response:i}=n,r=t?Md(t):typeof fetch=="function",s=Md(e),o=Md(i);if(!r)return!1;const a=r&&Md(m5),l=r&&(typeof y5=="function"?(y=>b=>y.encode(b))(new y5):async y=>new Uint8Array(await new e(y).arrayBuffer())),c=s&&a&&v5(()=>{let y=!1;const b=new e(nr.origin,{body:new m5,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),u=o&&a&&v5(()=>Pt.isReadableStream(new i("").body)),h={stream:u&&(y=>y.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(b,w)=>{let _=b&&b[y];if(_)return _.call(b);throw new Me(`Response type '${y}' is not supported`,Me.ERR_NOT_SUPPORT,w)})});const g=async y=>{if(y==null)return 0;if(Pt.isBlob(y))return y.size;if(Pt.isSpecCompliantForm(y))return(await new e(nr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Pt.isArrayBufferView(y)||Pt.isArrayBuffer(y))return y.byteLength;if(Pt.isURLSearchParams(y)&&(y=y+""),Pt.isString(y))return(await l(y)).byteLength},p=async(y,b)=>{const w=Pt.toFiniteNumber(y.getContentLength());return w??g(b)};return async y=>{let{url:b,method:w,data:_,signal:E,cancelToken:k,timeout:D,onDownloadProgress:W,onUploadProgress:it,responseType:L,headers:T,withCredentials:P="same-origin",fetchOptions:F}=yT(y),S=t||fetch;L=L?(L+"").toLowerCase():"text";let C=oV([E,k&&k.toAbortSignal()],D),N=null;const nt=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let ft;try{if(it&&c&&w!=="get"&&w!=="head"&&(ft=await p(T,_))!==0){let kt=new e(b,{method:"POST",body:_,duplex:"half"}),V;if(Pt.isFormData(_)&&(V=kt.headers.get("content-type"))&&T.setContentType(V),kt.body){const[J,et]=h5(ft,ug(f5(it)));_=p5(kt.body,g5,J,et)}}Pt.isString(P)||(P=P?"include":"omit");const gt=s&&"credentials"in e.prototype,mt={...F,signal:C,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:_,duplex:"half",credentials:gt?P:void 0};N=s&&new e(b,mt);let at=await(s?S(N,F):S(b,mt));const Et=u&&(L==="stream"||L==="response");if(u&&(W||Et&&nt)){const kt={};["status","statusText","headers"].forEach(st=>{kt[st]=at[st]});const V=Pt.toFiniteNumber(at.headers.get("content-length")),[J,et]=W&&h5(V,ug(f5(W),!0))||[];at=new i(p5(at.body,g5,J,()=>{et&&et(),nt&&nt()}),kt)}L=L||"text";let jt=await h[Pt.findKey(h,L)||"text"](at,y);return!Et&&nt&&nt(),await new Promise((kt,V)=>{gT(kt,V,{data:jt,headers:Cr.from(at.headers),status:at.status,statusText:at.statusText,config:y,request:N})})}catch(gt){throw nt&&nt(),gt&&gt.name==="TypeError"&&/Load failed|fetch/i.test(gt.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,y,N),{cause:gt.cause||gt}):Me.from(gt,gt&&gt.code,y,N)}}},fV=new Map,vT=n=>{let t=n?n.env:{};const{fetch:e,Request:i,Response:r}=t,s=[i,r,e];let o=s.length,a=o,l,c,u=fV;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:hV(t)),u=c;return c};vT();const B0={http:k9,xhr:sV,fetch:{get:vT}};Pt.forEach(B0,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const _5=n=>`- ${n}`,dV=n=>Pt.isFunction(n)||n===null||n===!1,_T={getAdapter:(n,t)=>{n=Pt.isArray(n)?n:[n];const{length:e}=n;let i,r;const s={};for(let o=0;o<e;o++){i=n[o];let a;if(r=i,!dV(i)&&(r=B0[(a=String(i)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${a}'`);if(r&&(Pt.isFunction(r)||(r=r.get(t))))break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(_5).join(`
`):" "+_5(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:B0};function h1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ku(null,n)}function b5(n){return h1(n),n.headers=Cr.from(n.headers),n.data=u1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),_T.getAdapter(n.adapter||od.adapter,n)(n).then(function(i){return h1(n),i.data=u1.call(n,n.transformResponse,i),i.headers=Cr.from(i.headers),i},function(i){return pT(i)||(h1(n),i&&i.response&&(i.response.data=u1.call(n,n.transformResponse,i.response),i.response.headers=Cr.from(i.response.headers))),Promise.reject(i)})}const bT="1.12.2",gm={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{gm[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const w5={};gm.transitional=function(t,e,i){function r(s,o){return"[Axios v"+bT+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new Me(r(o," has been removed"+(e?" in "+e:"")),Me.ERR_DEPRECATED);return e&&!w5[o]&&(w5[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,a):!0}};gm.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function pV(n,t,e){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Me("option "+s+" must be "+l,Me.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const Ep={assertOptions:pV,validators:gm},io=Ep.validators;let fc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new c5,response:new c5}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Ac(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:s}=e;i!==void 0&&Ep.assertOptions(i,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),r!=null&&(Pt.isFunction(r)?e.paramsSerializer={serialize:r}:Ep.assertOptions(r,{encode:io.function,serialize:io.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ep.assertOptions(e,{baseUrl:io.spelling("baseURL"),withXsrfToken:io.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&Pt.merge(s.common,s[e.method]);s&&Pt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),e.headers=Cr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(e)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,h=0,g;if(!l){const y=[b5.bind(this),void 0];for(y.unshift(...a),y.push(...c),g=y.length,u=Promise.resolve(e);h<g;)u=u.then(y[h++],y[h++]);return u}g=a.length;let p=e;for(;h<g;){const y=a[h++],b=a[h++];try{p=y(p)}catch(w){b.call(this,w);break}}try{u=b5.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,g=c.length;h<g;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Ac(this.defaults,t);const e=mT(t.baseURL,t.url,t.allowAbsoluteUrls);return hT(e,t.params,t.paramsSerializer)}};Pt.forEach(["delete","get","head","options"],function(t){fc.prototype[t]=function(e,i){return this.request(Ac(i||{},{method:t,url:e,data:(i||{}).data}))}});Pt.forEach(["post","put","patch"],function(t){function e(i){return function(s,o,a){return this.request(Ac(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}fc.prototype[t]=e(),fc.prototype[t+"Form"]=e(!0)});let gV=class wT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new Ku(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new wT(function(r){t=r}),cancel:t}}};function mV(n){return function(e){return n.apply(null,e)}}function yV(n){return Pt.isObject(n)&&n.isAxiosError===!0}const j0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(j0).forEach(([n,t])=>{j0[t]=n});function AT(n){const t=new fc(n),e=Z4(fc.prototype.request,t);return Pt.extend(e,fc.prototype,t,{allOwnKeys:!0}),Pt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return AT(Ac(n,r))},e}const Hn=AT(od);Hn.Axios=fc;Hn.CanceledError=Ku;Hn.CancelToken=gV;Hn.isCancel=pT;Hn.VERSION=bT;Hn.toFormData=pm;Hn.AxiosError=Me;Hn.Cancel=Hn.CanceledError;Hn.all=function(t){return Promise.all(t)};Hn.spread=mV;Hn.isAxiosError=yV;Hn.mergeConfig=Ac;Hn.AxiosHeaders=Cr;Hn.formToJSON=n=>dT(Pt.isHTMLForm(n)?new FormData(n):n);Hn.getAdapter=_T.getAdapter;Hn.HttpStatusCode=j0;Hn.default=Hn;const{Axios:pK,AxiosError:gK,CanceledError:mK,isCancel:yK,CancelToken:vK,VERSION:_K,all:bK,Cancel:wK,isAxiosError:AK,spread:xK,toFormData:SK,AxiosHeaders:EK,HttpStatusCode:TK,formToJSON:IK,getAdapter:PK,mergeConfig:kK}=Hn,vV={name:"GetBookCountView",data(){return{count:null,error:null}},methods:{async getBookCount(){this.error=null;try{const n="https://australia-southeast2-week7-siyi.cloudfunctions.net/countBooks",t=await Hn.get(n);this.count=t.data.count}catch(n){console.error("Error fetching book count:",n),this.error="error",this.count=null}}}},_V={id:"app",style:{padding:"24px"}},bV={key:0},wV={key:1};function AV(n,t,e,i,r,s){return Wt(),Kt("section",_V,[t[1]||(t[1]=Y("h1",null,"Book Counter",-1)),Y("button",{onClick:t[0]||(t[0]=(...o)=>s.getBookCount&&s.getBookCount(...o))},"Get Book Count"),r.count!==null?(Wt(),Kt("p",bV,"Total number of books: "+Qt(r.count),1)):r.error?(Wt(),Kt("p",wV,Qt(r.error),1)):ke("",!0)])}const xV=ts(vV,[["render",AV]]),A5="d2e93bdaf9ae5389a0452a683a5c35e5",SV={name:"WeatherView",data(){return{city:"",weatherData:null}},computed:{temperature(){return this.weatherData?Math.round(this.weatherData.main.temp):null},iconUrl(){return this.weatherData?`https://openweathermap.org/img/wn/${this.weatherData.weather[0].icon}@2x.png`:null}},mounted(){this.fetchCurrentLocationWeather()},methods:{async fetchCurrentLocationWeather(){if(!navigator.geolocation){this.searchByCity("Clayton, AU");return}navigator.geolocation.getCurrentPosition(async({coords:{latitude:n,longitude:t}})=>{const e=`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${t}&appid=${A5}&units=metric`;await this.fetchWeatherData(e)},()=>this.searchByCity("Clayton, AU"))},async searchByCity(n){const t=typeof n=="string"?n:this.city;if(!t)return;const e=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(t)}&appid=${A5}&units=metric`;await this.fetchWeatherData(e)},async fetchWeatherData(n){try{const{data:t}=await Hn.get(n);this.weatherData=t}catch(t){console.error("Error fetching weather data:",t),alert("Failed to fetch weather: "+(t?.response?.data?.message||t.message))}}}},EV={class:"container"},TV={class:"header"},IV={class:"search-bar"},PV={key:0},kV={id:"weatherData"},CV=["src"],RV={key:1,class:"hint"};function NV(n,t,e,i,r,s){return Wt(),Kt("div",EV,[Y("div",TV,[t[2]||(t[2]=Y("h1",null,"WEATHER APP",-1)),Y("div",IV,[rn(Y("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>r.city=o),placeholder:"Enter city name (e.g. Clayton, AU)",class:"search-input"},null,512),[[Cn,r.city]]),Y("button",{onClick:t[1]||(t[1]=(...o)=>s.searchByCity&&s.searchByCity(...o)),class:"search-button"},"Search")])]),r.weatherData?(Wt(),Kt("main",PV,[Y("div",kV,[Y("h2",null,Qt(r.weatherData.name)+", "+Qt(r.weatherData.sys.country),1),Y("div",null,[Y("img",{src:s.iconUrl,alt:"Weather Icon"},null,8,CV),Y("p",null,Qt(s.temperature)+" °C",1),Y("span",null,Qt(r.weatherData.weather[0].description),1)])])])):(Wt(),Kt("p",RV,"Tip: allow location access to auto-load current weather, or search for a city."))])}const LV=ts(SV,[["render",NV],["__scopeId","data-v-c5f2ee4d"]]),OV={name:"CountBookAPI",data(){return{jsondata:null,error:null,loading:!1}},computed:{formatted(){return this.jsondata?JSON.stringify(this.jsondata,null,2):""}},mounted(){this.getBookCountAPI()},methods:{async getBookCountAPI(){this.loading=!0,this.error=null,this.jsondata=null;try{const n="https://australia-southeast2-week7-siyi.cloudfunctions.net/countBooks",{data:t}=await Hn.get(n);this.jsondata=t}catch(n){console.error("Error fetching book count:",n),this.error=n?.response?.data?.error||n?.message||"Unknown error from Cloud Function"}finally{this.loading=!1}}}},DV={style:{padding:"16px","max-width":"820px",margin:"0 auto"}},MV={key:0},FV={key:1,style:{color:"#c00"}},VV={key:2};function BV(n,t,e,i,r,s){return Wt(),Kt("section",DV,[t[0]||(t[0]=Y("h2",null,"Count Book API (Cloud Functions)",-1)),r.loading?(Wt(),Kt("p",MV,"Loading...")):ke("",!0),r.error?(Wt(),Kt("p",FV,Qt(r.error),1)):ke("",!0),r.jsondata?(Wt(),Kt("pre",VV,Qt(s.formatted),1)):ke("",!0)])}const jV=ts(OV,[["render",BV]]),UV={name:"GetAllBookAPI",data(){return{jsondata:null,error:null,loading:!1}},computed:{pretty(){return this.jsondata?JSON.stringify(this.jsondata,null,2):""}},mounted(){this.load()},methods:{async load(){this.loading=!0,this.error=null,this.jsondata=null;try{const n="https://australia-southeast2-week7-siyi.cloudfunctions.net/getAllBooks",{data:t}=await Hn.get(n);this.jsondata=t}catch(n){console.error(n),this.error=n?.response?.data?.error||n.message}finally{this.loading=!1}}}},qV={style:{padding:"16px","max-width":"900px",margin:"0 auto"}},zV={key:0},HV={key:1,style:{color:"#c00"}},$V={key:2};function WV(n,t,e,i,r,s){return Wt(),Kt("section",qV,[t[0]||(t[0]=Y("h2",null,"Get All Book API (Cloud Functions)",-1)),r.loading?(Wt(),Kt("p",zV,"Loading...")):ke("",!0),r.error?(Wt(),Kt("p",HV,Qt(r.error),1)):ke("",!0),r.jsondata?(Wt(),Kt("pre",$V,Qt(s.pretty),1)):ke("",!0)])}const GV=ts(UV,[["render",WV]]);function KV(n){if(n==null)return"";const t=String(n);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}function xT(n,t){if(!t||t.length===0){console.warn("No data to export");return}const e=Object.keys(t[0]),i=[e.join(","),...t.map(a=>e.map(l=>KV(a[l])).join(","))],r=new Blob([i.join(`\r
`)],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=n,o.setAttribute("aria-label",`Download ${n}`),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}function _n(n){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(n)}var Ds=Uint8Array,Qr=Uint16Array,R2=Int32Array,N2=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L2=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x5=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ST=function(n,t){for(var e=new Qr(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new R2(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},ET=ST(N2,2),YV=ET.b,U0=ET.r;YV[28]=258,U0[258]=28;var JV=ST(L2,0),S5=JV.r,q0=new Qr(32768);for(var Vn=0;Vn<32768;++Vn){var qa=(Vn&43690)>>1|(Vn&21845)<<1;qa=(qa&52428)>>2|(qa&13107)<<2,qa=(qa&61680)>>4|(qa&3855)<<4,q0[Vn]=((qa&65280)>>8|(qa&255)<<8)>>1}var ef=(function(n,t,e){for(var i=n.length,r=0,s=new Qr(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new Qr(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(e){a=new Qr(1<<t);var l=15-t;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=t-n[r],h=o[n[r]-1]++<<u,g=h|(1<<u)-1;h<=g;++h)a[q0[h]>>l]=c}else for(a=new Qr(i),r=0;r<i;++r)n[r]&&(a[r]=q0[o[n[r]-1]++]>>15-n[r]);return a}),xc=new Ds(288);for(var Vn=0;Vn<144;++Vn)xc[Vn]=8;for(var Vn=144;Vn<256;++Vn)xc[Vn]=9;for(var Vn=256;Vn<280;++Vn)xc[Vn]=7;for(var Vn=280;Vn<288;++Vn)xc[Vn]=8;var hg=new Ds(32);for(var Vn=0;Vn<32;++Vn)hg[Vn]=5;var XV=ef(xc,9,0),QV=ef(hg,5,0),TT=function(n){return(n+7)/8|0},ZV=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Ds(n.subarray(t,e))},Ho=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},xh=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},f1=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:PT,l:0};if(r==1){var o=new Ds(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(W,it){return W.f-it.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,u=1,h=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=e[e[c].f<e[h].f?c++:h++],l=e[c!=u&&e[c].f<e[h].f?c++:h++],e[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,i=1;i<r;++i)s[i].s>g&&(g=s[i].s);var p=new Qr(g+1),y=z0(e[u-1],p,0);if(y>t){var i=0,b=0,w=y-t,_=1<<w;for(s.sort(function(it,L){return p[L.s]-p[it.s]||it.f-L.f});i<r;++i){var E=s[i].s;if(p[E]>t)b+=_-(1<<y-p[E]),p[E]=t;else break}for(b>>=w;b>0;){var k=s[i].s;p[k]<t?b-=1<<t-p[k]++-1:++i}for(;i>=0&&b;--i){var D=s[i].s;p[D]==t&&(--p[D],++b)}y=t}return{t:new Ds(p),l:y}},z0=function(n,t,e){return n.s==-1?Math.max(z0(n.l,t,e+1),z0(n.r,t,e+1)):t[n.s]=e},E5=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Qr(++t),i=0,r=n[0],s=1,o=function(l){e[i++]=l},a=1;a<=t;++a)if(n[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return{c:e.subarray(0,i),n:t}},Sh=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},IT=function(n,t,e){var i=e.length,r=TT(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},T5=function(n,t,e,i,r,s,o,a,l,c,u){Ho(t,u++,e),++r[256];for(var h=f1(r,15),g=h.t,p=h.l,y=f1(s,15),b=y.t,w=y.l,_=E5(g),E=_.c,k=_.n,D=E5(b),W=D.c,it=D.n,L=new Qr(19),T=0;T<E.length;++T)++L[E[T]&31];for(var T=0;T<W.length;++T)++L[W[T]&31];for(var P=f1(L,7),F=P.t,S=P.l,C=19;C>4&&!F[x5[C-1]];--C);var N=c+5<<3,nt=Sh(r,xc)+Sh(s,hg)+o,ft=Sh(r,g)+Sh(s,b)+o+14+3*C+Sh(L,F)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&N<=nt&&N<=ft)return IT(t,u,n.subarray(l,l+c));var gt,mt,at,Et;if(Ho(t,u,1+(ft<nt)),u+=2,ft<nt){gt=ef(g,p,0),mt=g,at=ef(b,w,0),Et=b;var jt=ef(F,S,0);Ho(t,u,k-257),Ho(t,u+5,it-1),Ho(t,u+10,C-4),u+=14;for(var T=0;T<C;++T)Ho(t,u+3*T,F[x5[T]]);u+=3*C;for(var kt=[E,W],V=0;V<2;++V)for(var J=kt[V],T=0;T<J.length;++T){var et=J[T]&31;Ho(t,u,jt[et]),u+=F[et],et>15&&(Ho(t,u,J[T]>>5&127),u+=J[T]>>12)}}else gt=XV,mt=xc,at=QV,Et=hg;for(var T=0;T<a;++T){var st=i[T];if(st>255){var et=st>>18&31;xh(t,u,gt[et+257]),u+=mt[et+257],et>7&&(Ho(t,u,st>>23&31),u+=N2[et]);var ct=st&31;xh(t,u,at[ct]),u+=Et[ct],ct>3&&(xh(t,u,st>>5&8191),u+=L2[ct])}else xh(t,u,gt[st]),u+=mt[st]}return xh(t,u,gt[256]),u+mt[256]},tB=new R2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PT=new Ds(0),eB=function(n,t,e,i,r,s){var o=s.z||n.length,a=new Ds(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var h=tB[t-1],g=h>>13,p=h&8191,y=(1<<e)-1,b=s.p||new Qr(32768),w=s.h||new Qr(y+1),_=Math.ceil(e/3),E=2*_,k=function(G){return(n[G]^n[G+1]<<_^n[G+2]<<E)&y},D=new R2(25e3),W=new Qr(288),it=new Qr(32),L=0,T=0,P=s.i||0,F=0,S=s.w||0,C=0;P+2<o;++P){var N=k(P),nt=P&32767,ft=w[N];if(b[nt]=ft,w[N]=nt,S<=P){var gt=o-P;if((L>7e3||F>24576)&&(gt>423||!c)){u=T5(n,l,0,D,W,it,T,F,C,P-C,u),F=L=T=0,C=P;for(var mt=0;mt<286;++mt)W[mt]=0;for(var mt=0;mt<30;++mt)it[mt]=0}var at=2,Et=0,jt=p,kt=nt-ft&32767;if(gt>2&&N==k(P-kt))for(var V=Math.min(g,gt)-1,J=Math.min(32767,P),et=Math.min(258,gt);kt<=J&&--jt&&nt!=ft;){if(n[P+at]==n[P+at-kt]){for(var st=0;st<et&&n[P+st]==n[P+st-kt];++st);if(st>at){if(at=st,Et=kt,st>V)break;for(var ct=Math.min(kt,st-2),tt=0,mt=0;mt<ct;++mt){var lt=P-kt+mt&32767,ot=b[lt],dt=lt-ot&32767;dt>tt&&(tt=dt,ft=lt)}}}nt=ft,ft=b[nt],kt+=nt-ft&32767}if(Et){D[F++]=268435456|U0[at]<<18|S5[Et];var Nt=U0[at]&31,H=S5[Et]&31;T+=N2[Nt]+L2[H],++W[257+Nt],++it[H],S=P+at,++L}else D[F++]=n[P],++W[n[P]]}}for(P=Math.max(P,S);P<o;++P)D[F++]=n[P],++W[n[P]];u=T5(n,l,c,D,W,it,T,F,C,P-C,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=w,s.p=b,s.i=P,s.w=S)}else{for(var P=s.w||0;P<o+c;P+=65535){var K=P+65535;K>=o&&(l[u/8|0]=c,K=o),u=IT(l,u+1,n.subarray(P,K))}s.i=o}return ZV(a,0,i+TT(u)+r)},kT=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},nB=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ds(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return eB(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},CT=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},iB=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=kT();r.p(t.dictionary),CT(n,2,r.d())}};function H0(n,t){t||(t={});var e=kT();e.p(n);var i=nB(n,t,t.dictionary?6:2,4);return iB(i,t),CT(i,i.length-4,e.d()),i}var rB=typeof TextDecoder<"u"&&new TextDecoder,sB=0;try{rB.decode(PT,{stream:!0}),sB=1}catch{}function oB(n){if(Array.isArray(n))return n}function aB(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(e=e.call(n)).next,t!==0)for(;!(l=(i=s.call(e)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function I5(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function lB(n,t){if(n){if(typeof n=="string")return I5(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I5(n,t):void 0}}function cB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(n,t){return oB(n)||aB(n,t)||lB(n,t)||cB()}function k5(n,t="utf8"){return new TextDecoder(t).decode(n)}const uB=new TextEncoder;function hB(n){return uB.encode(n)}const fB=1024*8,dB=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),d1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class O2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=fB,e={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const r=e.offset?e.offset>>>0:0,s=t.byteLength-r;let o=r;(ArrayBuffer.isView(t)||t instanceof O2)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const i=d1[e].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===dB&&e!=="uint8"&&e!=="int8"){const a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();const l=new d1[e](a.buffer);return this.offset+=i,l.reverse(),l}const o=new d1[e](s);return this.offset+=i,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return k5(this.readBytes(t))}decodeText(t=1,e="utf8"){return k5(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(hB(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yu(n){let t=n.length;for(;--t>=0;)n[t]=0}const pB=3,gB=258,RT=29,mB=256,yB=mB+1+RT,NT=30,vB=512,_B=new Array((yB+2)*2);Yu(_B);const bB=new Array(NT*2);Yu(bB);const wB=new Array(vB);Yu(wB);const AB=new Array(gB-pB+1);Yu(AB);const xB=new Array(RT);Yu(xB);const SB=new Array(NT);Yu(SB);const EB=(n,t,e,i)=>{let r=n&65535|0,s=n>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do r=r+t[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};var $0=EB;const TB=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},IB=new Uint32Array(TB()),PB=(n,t,e,i)=>{const r=IB,s=i+e;n^=-1;for(let o=i;o<s;o++)n=n>>>8^r[(n^t[o])&255];return n^-1};var ro=PB,W0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},LT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const kB=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var CB=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)kB(e,i)&&(n[i]=e[i])}}return n},RB=n=>{let t=0;for(let i=0,r=n.length;i<r;i++)t+=n[i].length;const e=new Uint8Array(t);for(let i=0,r=0,s=n.length;i<s;i++){let o=n[i];e.set(o,r),r+=o.length}return e},OT={assign:CB,flattenChunks:RB};let DT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{DT=!1}const Cf=new Uint8Array(256);for(let n=0;n<256;n++)Cf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Cf[254]=Cf[254]=1;var NB=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,r,s,o=n.length,a=0;for(r=0;r<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const LB=(n,t)=>{if(t<65534&&n.subarray&&DT)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e};var OB=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,r;const s=new Array(e*2);for(r=0,i=0;i<e;){let o=n[i++];if(o<128){s[r++]=o;continue}let a=Cf[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<e;)o=o<<6|n[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return LB(s,r)},DB=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Cf[n[e]]>t?e:t},G0={string2buf:NB,buf2string:OB,utf8border:DB};function MB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FB=MB;const Fd=16209,VB=16191;var BB=function(t,e){let i,r,s,o,a,l,c,u,h,g,p,y,b,w,_,E,k,D,W,it,L,T,P,F;const S=t.state;i=t.next_in,P=t.input,r=i+(t.avail_in-5),s=t.next_out,F=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),l=S.dmax,c=S.wsize,u=S.whave,h=S.wnext,g=S.window,p=S.hold,y=S.bits,b=S.lencode,w=S.distcode,_=(1<<S.lenbits)-1,E=(1<<S.distbits)-1;t:do{y<15&&(p+=P[i++]<<y,y+=8,p+=P[i++]<<y,y+=8),k=b[p&_];e:for(;;){if(D=k>>>24,p>>>=D,y-=D,D=k>>>16&255,D===0)F[s++]=k&65535;else if(D&16){W=k&65535,D&=15,D&&(y<D&&(p+=P[i++]<<y,y+=8),W+=p&(1<<D)-1,p>>>=D,y-=D),y<15&&(p+=P[i++]<<y,y+=8,p+=P[i++]<<y,y+=8),k=w[p&E];n:for(;;){if(D=k>>>24,p>>>=D,y-=D,D=k>>>16&255,D&16){if(it=k&65535,D&=15,y<D&&(p+=P[i++]<<y,y+=8,y<D&&(p+=P[i++]<<y,y+=8)),it+=p&(1<<D)-1,it>l){t.msg="invalid distance too far back",S.mode=Fd;break t}if(p>>>=D,y-=D,D=s-o,it>D){if(D=it-D,D>u&&S.sane){t.msg="invalid distance too far back",S.mode=Fd;break t}if(L=0,T=g,h===0){if(L+=c-D,D<W){W-=D;do F[s++]=g[L++];while(--D);L=s-it,T=F}}else if(h<D){if(L+=c+h-D,D-=h,D<W){W-=D;do F[s++]=g[L++];while(--D);if(L=0,h<W){D=h,W-=D;do F[s++]=g[L++];while(--D);L=s-it,T=F}}}else if(L+=h-D,D<W){W-=D;do F[s++]=g[L++];while(--D);L=s-it,T=F}for(;W>2;)F[s++]=T[L++],F[s++]=T[L++],F[s++]=T[L++],W-=3;W&&(F[s++]=T[L++],W>1&&(F[s++]=T[L++]))}else{L=s-it;do F[s++]=F[L++],F[s++]=F[L++],F[s++]=F[L++],W-=3;while(W>2);W&&(F[s++]=F[L++],W>1&&(F[s++]=F[L++]))}}else if((D&64)===0){k=w[(k&65535)+(p&(1<<D)-1)];continue n}else{t.msg="invalid distance code",S.mode=Fd;break t}break}}else if((D&64)===0){k=b[(k&65535)+(p&(1<<D)-1)];continue e}else if(D&32){S.mode=VB;break t}else{t.msg="invalid literal/length code",S.mode=Fd;break t}break}}while(i<r&&s<a);W=y>>3,i-=W,y-=W<<3,p&=(1<<y)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<a?257+(a-s):257-(s-a),S.hold=p,S.bits=y};const Uc=15,C5=852,R5=592,N5=0,p1=1,L5=2,jB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HB=(n,t,e,i,r,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,g=0,p=0,y=0,b=0,w=0,_=0,E=0,k,D,W,it,L,T=null,P;const F=new Uint16Array(Uc+1),S=new Uint16Array(Uc+1);let C=null,N,nt,ft;for(c=0;c<=Uc;c++)F[c]=0;for(u=0;u<i;u++)F[t[e+u]]++;for(p=l,g=Uc;g>=1&&F[g]===0;g--);if(p>g&&(p=g),g===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<g&&F[h]===0;h++);for(p<h&&(p=h),w=1,c=1;c<=Uc;c++)if(w<<=1,w-=F[c],w<0)return-1;if(w>0&&(n===N5||g!==1))return-1;for(S[1]=0,c=1;c<Uc;c++)S[c+1]=S[c]+F[c];for(u=0;u<i;u++)t[e+u]!==0&&(o[S[t[e+u]]++]=u);if(n===N5?(T=C=o,P=20):n===p1?(T=jB,C=UB,P=257):(T=qB,C=zB,P=0),E=0,u=0,c=h,L=s,y=p,b=0,W=-1,_=1<<p,it=_-1,n===p1&&_>C5||n===L5&&_>R5)return 1;for(;;){N=c-b,o[u]+1<P?(nt=0,ft=o[u]):o[u]>=P?(nt=C[o[u]-P],ft=T[o[u]-P]):(nt=96,ft=0),k=1<<c-b,D=1<<y,h=D;do D-=k,r[L+(E>>b)+D]=N<<24|nt<<16|ft|0;while(D!==0);for(k=1<<c-1;E&k;)k>>=1;if(k!==0?(E&=k-1,E+=k):E=0,u++,--F[c]===0){if(c===g)break;c=t[e+o[u]]}if(c>p&&(E&it)!==W){for(b===0&&(b=p),L+=h,y=c-b,w=1<<y;y+b<g&&(w-=F[y+b],!(w<=0));)y++,w<<=1;if(_+=1<<y,n===p1&&_>C5||n===L5&&_>R5)return 1;W=E&it,r[W]=p<<24|y<<16|L-s|0}}return E!==0&&(r[L+E]=c-b<<24|64<<16|0),a.bits=p,0};var nf=HB;const $B=0,MT=1,FT=2,{Z_FINISH:O5,Z_BLOCK:WB,Z_TREES:Vd,Z_OK:Sc,Z_STREAM_END:GB,Z_NEED_DICT:KB,Z_STREAM_ERROR:ms,Z_DATA_ERROR:VT,Z_MEM_ERROR:BT,Z_BUF_ERROR:YB,Z_DEFLATED:D5}=LT,mm=16180,M5=16181,F5=16182,V5=16183,B5=16184,j5=16185,U5=16186,q5=16187,z5=16188,H5=16189,fg=16190,$o=16191,g1=16192,$5=16193,m1=16194,W5=16195,G5=16196,K5=16197,Y5=16198,Bd=16199,jd=16200,J5=16201,X5=16202,Q5=16203,Z5=16204,tw=16205,y1=16206,ew=16207,nw=16208,qn=16209,jT=16210,UT=16211,JB=852,XB=592,QB=15,ZB=QB,iw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function tj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<mm||t.mode>UT?1:0},qT=n=>{if(Cc(n))return ms;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=mm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(JB),t.distcode=t.distdyn=new Int32Array(XB),t.sane=1,t.back=-1,Sc},zT=n=>{if(Cc(n))return ms;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,qT(n)},HT=(n,t)=>{let e;if(Cc(n))return ms;const i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ms:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,zT(n))},$T=(n,t)=>{if(!n)return ms;const e=new tj;n.state=e,e.strm=n,e.window=null,e.mode=mm;const i=HT(n,t);return i!==Sc&&(n.state=null),i},ej=n=>$T(n,ZB);let rw=!0,v1,_1;const nj=n=>{if(rw){v1=new Int32Array(512),_1=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(nf(MT,n.lens,0,288,v1,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;nf(FT,n.lens,0,32,_1,0,n.work,{bits:5}),rw=!1}n.lencode=v1,n.lenbits=9,n.distcode=_1,n.distbits=5},WT=(n,t,e,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(e-i,e-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(e-i,e),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},ij=(n,t)=>{let e,i,r,s,o,a,l,c,u,h,g,p,y,b,w=0,_,E,k,D,W,it,L,T;const P=new Uint8Array(4);let F,S;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cc(n)||!n.output||!n.input&&n.avail_in!==0)return ms;e=n.state,e.mode===$o&&(e.mode=g1),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,h=a,g=l,T=Sc;t:for(;;)switch(e.mode){case mm:if(e.wrap===0){e.mode=g1;break}for(;u<16;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,P[0]=c&255,P[1]=c>>>8&255,e.check=ro(e.check,P,2,0),c=0,u=0,e.mode=M5;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",e.mode=qn;break}if((c&15)!==D5){n.msg="unknown compression method",e.mode=qn;break}if(c>>>=4,u-=4,L=(c&15)+8,e.wbits===0&&(e.wbits=L),L>15||L>e.wbits){n.msg="invalid window size",e.mode=qn;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=c&512?H5:$o,c=0,u=0;break;case M5:for(;u<16;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==D5){n.msg="unknown compression method",e.mode=qn;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=qn;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,e.check=ro(e.check,P,2,0)),c=0,u=0,e.mode=F5;case F5:for(;u<32;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,e.check=ro(e.check,P,4,0)),c=0,u=0,e.mode=V5;case V5:for(;u<16;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,e.check=ro(e.check,P,2,0)),c=0,u=0,e.mode=B5;case B5:if(e.flags&1024){for(;u<16;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,e.check=ro(e.check,P,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=j5;case j5:if(e.flags&1024&&(p=e.length,p>a&&(p=a),p&&(e.head&&(L=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(s,s+p),L)),e.flags&512&&e.wrap&4&&(e.check=ro(e.check,i,p,s)),a-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=U5;case U5:if(e.flags&2048){if(a===0)break t;p=0;do L=i[s+p++],e.head&&L&&e.length<65536&&(e.head.name+=String.fromCharCode(L));while(L&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ro(e.check,i,p,s)),a-=p,s+=p,L)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=q5;case q5:if(e.flags&4096){if(a===0)break t;p=0;do L=i[s+p++],e.head&&L&&e.length<65536&&(e.head.comment+=String.fromCharCode(L));while(L&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ro(e.check,i,p,s)),a-=p,s+=p,L)break t}else e.head&&(e.head.comment=null);e.mode=z5;case z5:if(e.flags&512){for(;u<16;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.check&65535)){n.msg="header crc mismatch",e.mode=qn;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=$o;break;case H5:for(;u<32;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}n.adler=e.check=iw(c),c=0,u=0,e.mode=fg;case fg:if(e.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,KB;n.adler=e.check=1,e.mode=$o;case $o:if(t===WB||t===Vd)break t;case g1:if(e.last){c>>>=u&7,u-=u&7,e.mode=y1;break}for(;u<3;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=$5;break;case 1:if(nj(e),e.mode=Bd,t===Vd){c>>>=2,u-=2;break t}break;case 2:e.mode=G5;break;case 3:n.msg="invalid block type",e.mode=qn}c>>>=2,u-=2;break;case $5:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",e.mode=qn;break}if(e.length=c&65535,c=0,u=0,e.mode=m1,t===Vd)break t;case m1:e.mode=W5;case W5:if(p=e.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break t;r.set(i.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,e.length-=p;break}e.mode=$o;break;case G5:for(;u<14;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=qn;break}e.have=0,e.mode=K5;case K5:for(;e.have<e.ncode;){for(;u<3;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.lens[C[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[C[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},T=nf($B,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid code lengths set",e.mode=qn;break}e.have=0,e.mode=Y5;case Y5:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[c&(1<<e.lenbits)-1],_=w>>>24,E=w>>>16&255,k=w&65535,!(_<=u);){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(k<16)c>>>=_,u-=_,e.lens[e.have++]=k;else{if(k===16){for(S=_+2;u<S;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(c>>>=_,u-=_,e.have===0){n.msg="invalid bit length repeat",e.mode=qn;break}L=e.lens[e.have-1],p=3+(c&3),c>>>=2,u-=2}else if(k===17){for(S=_+3;u<S;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}c>>>=_,u-=_,L=0,p=3+(c&7),c>>>=3,u-=3}else{for(S=_+7;u<S;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}c>>>=_,u-=_,L=0,p=11+(c&127),c>>>=7,u-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=qn;break}for(;p--;)e.lens[e.have++]=L}}if(e.mode===qn)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=qn;break}if(e.lenbits=9,F={bits:e.lenbits},T=nf(MT,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid literal/lengths set",e.mode=qn;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},T=nf(FT,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,T){n.msg="invalid distances set",e.mode=qn;break}if(e.mode=Bd,t===Vd)break t;case Bd:e.mode=jd;case jd:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,BB(n,g),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,e.mode===$o&&(e.back=-1);break}for(e.back=0;w=e.lencode[c&(1<<e.lenbits)-1],_=w>>>24,E=w>>>16&255,k=w&65535,!(_<=u);){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(E&&(E&240)===0){for(D=_,W=E,it=k;w=e.lencode[it+((c&(1<<D+W)-1)>>D)],_=w>>>24,E=w>>>16&255,k=w&65535,!(D+_<=u);){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}c>>>=D,u-=D,e.back+=D}if(c>>>=_,u-=_,e.back+=_,e.length=k,E===0){e.mode=tw;break}if(E&32){e.back=-1,e.mode=$o;break}if(E&64){n.msg="invalid literal/length code",e.mode=qn;break}e.extra=E&15,e.mode=J5;case J5:if(e.extra){for(S=e.extra;u<S;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=X5;case X5:for(;w=e.distcode[c&(1<<e.distbits)-1],_=w>>>24,E=w>>>16&255,k=w&65535,!(_<=u);){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if((E&240)===0){for(D=_,W=E,it=k;w=e.distcode[it+((c&(1<<D+W)-1)>>D)],_=w>>>24,E=w>>>16&255,k=w&65535,!(D+_<=u);){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}c>>>=D,u-=D,e.back+=D}if(c>>>=_,u-=_,e.back+=_,E&64){n.msg="invalid distance code",e.mode=qn;break}e.offset=k,e.extra=E&15,e.mode=Q5;case Q5:if(e.extra){for(S=e.extra;u<S;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=qn;break}e.mode=Z5;case Z5:if(l===0)break t;if(p=g-l,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=qn;break}p>e.wnext?(p-=e.wnext,y=e.wsize-p):y=e.wnext-p,p>e.length&&(p=e.length),b=e.window}else b=r,y=o-e.offset,p=e.length;p>l&&(p=l),l-=p,e.length-=p;do r[o++]=b[y++];while(--p);e.length===0&&(e.mode=jd);break;case tw:if(l===0)break t;r[o++]=e.length,l--,e.mode=jd;break;case y1:if(e.wrap){for(;u<32;){if(a===0)break t;a--,c|=i[s++]<<u,u+=8}if(g-=l,n.total_out+=g,e.total+=g,e.wrap&4&&g&&(n.adler=e.check=e.flags?ro(e.check,r,g,o-g):$0(e.check,r,g,o-g)),g=l,e.wrap&4&&(e.flags?c:iw(c))!==e.check){n.msg="incorrect data check",e.mode=qn;break}c=0,u=0}e.mode=ew;case ew:if(e.wrap&&e.flags){for(;u<32;){if(a===0)break t;a--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=qn;break}c=0,u=0}e.mode=nw;case nw:T=GB;break t;case qn:T=VT;break t;case jT:return BT;case UT:default:return ms}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,(e.wsize||g!==n.avail_out&&e.mode<qn&&(e.mode<y1||t!==O5))&&WT(n,n.output,n.next_out,g-n.avail_out),h-=n.avail_in,g-=n.avail_out,n.total_in+=h,n.total_out+=g,e.total+=g,e.wrap&4&&g&&(n.adler=e.check=e.flags?ro(e.check,r,g,n.next_out-g):$0(e.check,r,g,n.next_out-g)),n.data_type=e.bits+(e.last?64:0)+(e.mode===$o?128:0)+(e.mode===Bd||e.mode===m1?256:0),(h===0&&g===0||t===O5)&&T===Sc&&(T=YB),T},rj=n=>{if(Cc(n))return ms;let t=n.state;return t.window&&(t.window=null),n.state=null,Sc},sj=(n,t)=>{if(Cc(n))return ms;const e=n.state;return(e.wrap&2)===0?ms:(e.head=t,t.done=!1,Sc)},oj=(n,t)=>{const e=t.length;let i,r,s;return Cc(n)||(i=n.state,i.wrap!==0&&i.mode!==fg)?ms:i.mode===fg&&(r=1,r=$0(r,t,e,0),r!==i.check)?VT:(s=WT(n,t,e,e),s?(i.mode=jT,BT):(i.havedict=1,Sc))};var aj=zT,lj=HT,cj=qT,uj=ej,hj=$T,fj=ij,dj=rj,pj=sj,gj=oj,mj="pako inflate (from Nodeca project)",Jo={inflateReset:aj,inflateReset2:lj,inflateResetKeep:cj,inflateInit:uj,inflateInit2:hj,inflate:fj,inflateEnd:dj,inflateGetHeader:pj,inflateSetDictionary:gj,inflateInfo:mj};function yj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vj=yj;const GT=Object.prototype.toString,{Z_NO_FLUSH:_j,Z_FINISH:bj,Z_OK:Rf,Z_STREAM_END:b1,Z_NEED_DICT:w1,Z_STREAM_ERROR:wj,Z_DATA_ERROR:sw,Z_MEM_ERROR:Aj}=LT;function ad(n){this.options=OT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FB,this.strm.avail_out=0;let e=Jo.inflateInit2(this.strm,t.windowBits);if(e!==Rf)throw new Error(W0[e]);if(this.header=new vj,Jo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=G0.string2buf(t.dictionary):GT.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Jo.inflateSetDictionary(this.strm,t.dictionary),e!==Rf)))throw new Error(W0[e])}ad.prototype.push=function(n,t){const e=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?bj:_j,GT.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),s=Jo.inflate(e,o),s===w1&&r&&(s=Jo.inflateSetDictionary(e,r),s===Rf?s=Jo.inflate(e,o):s===sw&&(s=w1));e.avail_in>0&&s===b1&&e.state.wrap>0&&n[e.next_in]!==0;)Jo.inflateReset(e),s=Jo.inflate(e,o);switch(s){case wj:case sw:case w1:case Aj:return this.onEnd(s),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||s===b1))if(this.options.to==="string"){let l=G0.utf8border(e.output,e.next_out),c=e.next_out-l,u=G0.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===Rf&&a===0)){if(s===b1)return s=Jo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};ad.prototype.onData=function(n){this.chunks.push(n)};ad.prototype.onEnd=function(n){n===Rf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function xj(n,t){const e=new ad(t);if(e.push(n),e.err)throw e.msg||W0[e.err];return e.result}var Sj=ad,Ej=xj,Tj={Inflate:Sj,inflate:Ej};const{Inflate:Ij,inflate:Pj}=Tj;var ow=Ij,kj=Pj;const KT=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;KT[n]=t}const aw=4294967295;function Cj(n,t,e){let i=n;for(let r=0;r<e;r++)i=KT[(i^t[r])&255]^i>>>8;return i}function Rj(n,t){return(Cj(aw,n,t)^aw)>>>0}function lw(n,t,e){const i=n.readUint32(),r=Rj(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${r}`)}function YT(n,t,e){for(let i=0;i<e;i++)t[i]=n[i]}function JT(n,t,e,i){let r=0;for(;r<i;r++)t[r]=n[r];for(;r<e;r++)t[r]=n[r]+t[r-i]&255}function XT(n,t,e,i){let r=0;if(e.length===0)for(;r<i;r++)t[r]=n[r];else for(;r<i;r++)t[r]=n[r]+e[r]&255}function QT(n,t,e,i,r){let s=0;if(e.length===0){for(;s<r;s++)t[s]=n[s];for(;s<i;s++)t[s]=n[s]+(t[s-r]>>1)&255}else{for(;s<r;s++)t[s]=n[s]+(e[s]>>1)&255;for(;s<i;s++)t[s]=n[s]+(t[s-r]+e[s]>>1)&255}}function ZT(n,t,e,i,r){let s=0;if(e.length===0){for(;s<r;s++)t[s]=n[s];for(;s<i;s++)t[s]=n[s]+t[s-r]&255}else{for(;s<r;s++)t[s]=n[s]+e[s]&255;for(;s<i;s++)t[s]=n[s]+Nj(t[s-r],e[s],e[s-r])&255}}function Nj(n,t,e){const i=n+t-e,r=Math.abs(i-n),s=Math.abs(i-t),o=Math.abs(i-e);return r<=s&&r<=o?n:s<=o?t:e}function Lj(n,t,e,i,r,s){switch(n){case 0:YT(t,e,r);break;case 1:JT(t,e,r,s);break;case 2:XT(t,e,i,r);break;case 3:QT(t,e,i,r,s);break;case 4:ZT(t,e,i,r,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Oj=new Uint16Array([255]),Dj=new Uint8Array(Oj.buffer),Mj=Dj[0]===255;function Fj(n){const{data:t,width:e,height:i,channels:r,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*r,l=new Uint8Array(i*e*a);let c=0;for(let u=0;u<7;u++){const h=o[u],g=Math.ceil((e-h.x)/h.xStep),p=Math.ceil((i-h.y)/h.yStep);if(g<=0||p<=0)continue;const y=g*a,b=new Uint8Array(y);for(let w=0;w<p;w++){const _=t[c++],E=t.subarray(c,c+y);c+=y;const k=new Uint8Array(y);Lj(_,E,k,b,y,a),b.set(k);for(let D=0;D<g;D++){const W=h.x+D*h.xStep,it=h.y+w*h.yStep;if(!(W>=e||it>=i))for(let L=0;L<a;L++)l[(it*e+W)*a+L]=k[D*a+L]}}}if(s===16){const u=new Uint16Array(l.buffer);if(Mj)for(let h=0;h<u.length;h++)u[h]=Vj(u[h]);return u}else return l}function Vj(n){return(n&255)<<8|n>>8&255}const Bj=new Uint16Array([255]),jj=new Uint8Array(Bj.buffer),Uj=jj[0]===255,qj=new Uint8Array(0);function cw(n){const{data:t,width:e,height:i,channels:r,depth:s}=n,o=Math.ceil(s/8)*r,a=Math.ceil(s/8*r*e),l=new Uint8Array(i*a);let c=qj,u=0,h,g;for(let p=0;p<i;p++){switch(h=t.subarray(u+1,u+1+a),g=l.subarray(p*a,(p+1)*a),t[u]){case 0:YT(h,g,a);break;case 1:JT(h,g,a,o);break;case 2:XT(h,g,c,a);break;case 3:QT(h,g,c,a,o);break;case 4:ZT(h,g,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=g,u+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(Uj)for(let y=0;y<p.length;y++)p[y]=zj(p[y]);return p}else return l}function zj(n){return(n&255)<<8|n>>8&255}const Tp=Uint8Array.of(137,80,78,71,13,10,26,10);function uw(n){if(!Hj(n.readBytes(Tp.length)))throw new Error("wrong PNG signature")}function Hj(n){if(n.length<Tp.length)return!1;for(let t=0;t<Tp.length;t++)if(n[t]!==Tp[t])return!1;return!0}const $j="tEXt",Wj=0,tI=new TextDecoder("latin1");function Gj(n){if(Yj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Kj=/^[\u0000-\u00FF]*$/;function Yj(n){if(!Kj.test(n))throw new Error("invalid latin1 text")}function Jj(n,t,e){const i=eI(t);n[i]=Xj(t,e-i.length-1)}function eI(n){for(n.mark();n.readByte()!==Wj;);const t=n.offset;n.reset();const e=tI.decode(n.readBytes(t-n.offset-1));return n.skip(1),Gj(e),e}function Xj(n,t){return tI.decode(n.readBytes(t))}const Wr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},A1={UNKNOWN:-1,DEFLATE:0},hw={UNKNOWN:-1,ADAPTIVE:0},x1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ud={NONE:0,BACKGROUND:1,PREVIOUS:2},S1={SOURCE:0,OVER:1};class Qj extends O2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new ow,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=A1.UNKNOWN,this._filterMethod=hw.UNKNOWN,this._interlaceMethod=x1.UNKNOWN,this._colorType=Wr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uw(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(uw(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case $j:Jj(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?lw(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?lw(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Zj(this.readUint8());const e=this.readUint8();this._colorType=e;let i;switch(e){case Wr.GREYSCALE:i=1;break;case Wr.TRUECOLOUR:i=3;break;case Wr.INDEXED_COLOUR:i=1;break;case Wr.GREYSCALE_ALPHA:i=2;break;case Wr.TRUECOLOUR_ALPHA:i=4;break;case Wr.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==A1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<e;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Wr.GREYSCALE:case Wr.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case Wr.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case Wr.UNKNOWN:case Wr.GREYSCALE_ALPHA:case Wr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=eI(this),i=this.readUint8();if(i!==A1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:kj(r)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=cw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{const r=this._apng.frames.at(t-1);this.disposeFrame(i,r,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,i){switch(t.disposeOp){case Ud.NONE:break;case Ud.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let s=0;s<this._png.width;s++){const o=(r*t.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[o+a]=0}break;case Ud.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const i=1<<this._png.depth,r=(s,o)=>{const a=((s+e.yOffset)*this._png.width+e.xOffset+o)*this._png.channels,l=(s*e.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(e.blendOp){case S1.SOURCE:for(let s=0;s<e.height;s++)for(let o=0;o<e.width;o++){const{index:a,frameIndex:l}=r(s,o);for(let c=0;c<this._png.channels;c++)t.data[a+c]=e.data[l+c]}break;case S1.OVER:for(let s=0;s<e.height;s++)for(let o=0;o<e.width;o++){const{index:a,frameIndex:l}=r(s,o);for(let c=0;c<this._png.channels;c++){const u=e.data[l+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:e.data[l+c],g=Math.floor(u*h+(1-u)*t.data[a+c]);t.data[a+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==hw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===x1.NO_INTERLACE)this._png.data=cw({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===x1.ADAM7)this._png.data=Fj({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ud.NONE,blendOp:S1.SOURCE,data:t}),this._inflator=new ow,this._writingDataChunks=!1}}function Zj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var fw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(fw||(fw={}));function tU(n,t){return new Qj(n,t).decode()}var Te=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function E1(){Te.console&&typeof Te.console.log=="function"&&Te.console.log.apply(Te.console,arguments)}var xn={log:E1,warn:function(n){Te.console&&(typeof Te.console.warn=="function"?Te.console.warn.apply(Te.console,arguments):E1.call(null,arguments))},error:function(n){Te.console&&(typeof Te.console.error=="function"?Te.console.error.apply(Te.console,arguments):E1(n))}};function T1(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){tc(i.response,t,e)},i.onerror=function(){xn.error("could not download file")},i.send()}function dw(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var tc=Te.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Te?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Te.URL||Te.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?dw(r.href)?T1(n,t,e):qd(r,r.target="_blank"):qd(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){qd(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(dw(n))T1(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){qd(i)})}else navigator.msSaveOrOpenBlob((function(r,s){return s===void 0?s={autoBom:!1}:_n(s)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return T1(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(Te.HTMLElement)||Te.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(n)}else{var l=Te.URL||Te.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nI(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Ip=Te.atob.bind(Te),pw=Te.btoa.bind(Te);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I1(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=Ki(e,i,r,s,t[0],7,-680876936),s=Ki(s,e,i,r,t[1],12,-389564586),r=Ki(r,s,e,i,t[2],17,606105819),i=Ki(i,r,s,e,t[3],22,-1044525330),e=Ki(e,i,r,s,t[4],7,-176418897),s=Ki(s,e,i,r,t[5],12,1200080426),r=Ki(r,s,e,i,t[6],17,-1473231341),i=Ki(i,r,s,e,t[7],22,-45705983),e=Ki(e,i,r,s,t[8],7,1770035416),s=Ki(s,e,i,r,t[9],12,-1958414417),r=Ki(r,s,e,i,t[10],17,-42063),i=Ki(i,r,s,e,t[11],22,-1990404162),e=Ki(e,i,r,s,t[12],7,1804603682),s=Ki(s,e,i,r,t[13],12,-40341101),r=Ki(r,s,e,i,t[14],17,-1502002290),e=Yi(e,i=Ki(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Yi(s,e,i,r,t[6],9,-1069501632),r=Yi(r,s,e,i,t[11],14,643717713),i=Yi(i,r,s,e,t[0],20,-373897302),e=Yi(e,i,r,s,t[5],5,-701558691),s=Yi(s,e,i,r,t[10],9,38016083),r=Yi(r,s,e,i,t[15],14,-660478335),i=Yi(i,r,s,e,t[4],20,-405537848),e=Yi(e,i,r,s,t[9],5,568446438),s=Yi(s,e,i,r,t[14],9,-1019803690),r=Yi(r,s,e,i,t[3],14,-187363961),i=Yi(i,r,s,e,t[8],20,1163531501),e=Yi(e,i,r,s,t[13],5,-1444681467),s=Yi(s,e,i,r,t[2],9,-51403784),r=Yi(r,s,e,i,t[7],14,1735328473),e=Ji(e,i=Yi(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Ji(s,e,i,r,t[8],11,-2022574463),r=Ji(r,s,e,i,t[11],16,1839030562),i=Ji(i,r,s,e,t[14],23,-35309556),e=Ji(e,i,r,s,t[1],4,-1530992060),s=Ji(s,e,i,r,t[4],11,1272893353),r=Ji(r,s,e,i,t[7],16,-155497632),i=Ji(i,r,s,e,t[10],23,-1094730640),e=Ji(e,i,r,s,t[13],4,681279174),s=Ji(s,e,i,r,t[0],11,-358537222),r=Ji(r,s,e,i,t[3],16,-722521979),i=Ji(i,r,s,e,t[6],23,76029189),e=Ji(e,i,r,s,t[9],4,-640364487),s=Ji(s,e,i,r,t[12],11,-421815835),r=Ji(r,s,e,i,t[15],16,530742520),e=Xi(e,i=Ji(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Xi(s,e,i,r,t[7],10,1126891415),r=Xi(r,s,e,i,t[14],15,-1416354905),i=Xi(i,r,s,e,t[5],21,-57434055),e=Xi(e,i,r,s,t[12],6,1700485571),s=Xi(s,e,i,r,t[3],10,-1894986606),r=Xi(r,s,e,i,t[10],15,-1051523),i=Xi(i,r,s,e,t[1],21,-2054922799),e=Xi(e,i,r,s,t[8],6,1873313359),s=Xi(s,e,i,r,t[15],10,-30611744),r=Xi(r,s,e,i,t[6],15,-1560198380),i=Xi(i,r,s,e,t[13],21,1309151649),e=Xi(e,i,r,s,t[4],6,-145523070),s=Xi(s,e,i,r,t[11],10,-1120210379),r=Xi(r,s,e,i,t[2],15,718787259),i=Xi(i,r,s,e,t[9],21,-343485551),n[0]=el(e,n[0]),n[1]=el(i,n[1]),n[2]=el(r,n[2]),n[3]=el(s,n[3])}function ym(n,t,e,i,r,s){return t=el(el(t,n),el(i,s)),el(t<<r|t>>>32-r,e)}function Ki(n,t,e,i,r,s,o){return ym(t&e|~t&i,n,t,r,s,o)}function Yi(n,t,e,i,r,s,o){return ym(t&i|e&~i,n,t,r,s,o)}function Ji(n,t,e,i,r,s,o){return ym(t^e^i,n,t,r,s,o)}function Xi(n,t,e,i,r,s,o){return ym(e^(t|~i),n,t,r,s,o)}function iI(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)I1(i,eU(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(I1(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,I1(i,r),i}function eU(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var gw="0123456789abcdef".split("");function nU(n){for(var t="",e=0;e<4;e++)t+=gw[n>>8*e+4&15]+gw[n>>8*e&15];return t}function iU(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function K0(n){return iI(n).map(iU).join("")}var rU=(function(n){for(var t=0;t<n.length;t++)n[t]=nU(n[t]);return n.join("")})(iI("hello"))!="5d41402abc4b2a76b9719d911017c592";function el(n,t){if(rU){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y0(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length|0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}e=n,i=a}else a=i;var h=t.length,g=0,p=0,y="";for(l=0;l<h;l++)p=(p+(u=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=u,o=a[(a[g]+a[p])%256],y+=String.fromCharCode(t.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mw={print:4,modify:8,copy:16,"annot-forms":32};function Qc(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(mw.perm!==void 0)throw new Error("Invalid permission: "+a);r+=mw[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=K0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function Zc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function yw(n){if(_n(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(a){Te.console&&xn.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dg(n){if(!(this instanceof dg))return new dg(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function rI(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ic(n,t,e,i,r){if(!(this instanceof ic))return new ic(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,rI.call(this,i,r)}function eu(n,t,e,i,r){if(!(this instanceof eu))return new eu(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,rI.call(this,i,r)}function pe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;_n(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=yw;var y="1.3",b=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(v){y=v};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var _=p.__private__.getPageFormat=function(v){return w[v]};r=r||"a4";var E="compat",k="advanced",D=E;function W(){this.saveGraphicsState(),j(new ve(oe,0,0,-oe,0,ss()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),c="n",D=k}function it(){this.restoreGraphicsState(),c="S",D=E}var L=p.__private__.combineFontStyleAndFontWeight=function(v,O){if(v=="bold"&&O=="normal"||v=="bold"&&O==400||v=="normal"&&O=="italic"||v=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(v=O==400||O==="normal"?v==="italic"?"italic":"normal":O!=700&&O!=="bold"||v!=="normal"?(O==700?"bold":O)+""+v:"bold"),v};p.advancedAPI=function(v){var O=D===E;return O&&W.call(this),typeof v!="function"||(v(this),O&&it.call(this)),this},p.compatAPI=function(v){var O=D===k;return O&&it.call(this),typeof v!="function"||(v(this),O&&W.call(this)),this},p.isAdvancedAPI=function(){return D===k};var T,P=function(v){if(D!==k)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(v,O){var X=t||O;if(isNaN(v)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(X).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return F(v,16)};var S=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return F(v,2)},C=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return F(v,3)},N=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return D===E?v*oe:D===k?v:void 0},nt=function(v){return N((function(O){return D===E?ss()-O:D===k?O:void 0})(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var ft,gt="00000000000000000000000000000000",mt=p.__private__.getFileId=function(){return gt},at=p.__private__.setFileId=function(v){return gt=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():gt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(pn=new Qc(u.userPermissions,u.userPassword,u.ownerPassword,gt)),gt};p.setFileId=function(v){return at(v),this},p.getFileId=function(){return mt()};var Et=p.__private__.convertDateToPDFDate=function(v){var O=v.getTimezoneOffset(),X=O<0?"+":"-",rt=Math.floor(Math.abs(O/60)),pt=Math.abs(O%60),Ot=[X,et(rt),"'",et(pt),"'"].join("");return["D:",v.getFullYear(),et(v.getMonth()+1),et(v.getDate()),et(v.getHours()),et(v.getMinutes()),et(v.getSeconds()),Ot].join("")},jt=p.__private__.convertPDFDateToDate=function(v){var O=parseInt(v.substr(2,4),10),X=parseInt(v.substr(6,2),10)-1,rt=parseInt(v.substr(8,2),10),pt=parseInt(v.substr(10,2),10),Ot=parseInt(v.substr(12,2),10),Bt=parseInt(v.substr(14,2),10);return new Date(O,X,rt,pt,Ot,Bt,0)},kt=p.__private__.setCreationDate=function(v){var O;if(v===void 0&&(v=new Date),v instanceof Date)O=Et(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=v}return ft=O},V=p.__private__.getCreationDate=function(v){var O=ft;return v==="jsDate"&&(O=jt(ft)),O};p.setCreationDate=function(v){return kt(v),this},p.getCreationDate=function(v){return V(v)};var J,et=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},st=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ct=0,tt=[],lt=[],ot=0,dt=[],Nt=[],H=!1,K=lt;p.__private__.setCustomOutputDestination=function(v){H=!0,K=v};var G=function(v){H||(K=v)};p.__private__.resetCustomOutputDestination=function(){H=!1,K=lt};var j=p.__private__.out=function(v){return v=v.toString(),ot+=v.length+1,K.push(v),K},Tt=p.__private__.write=function(v){return j(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},At=p.__private__.getArrayBuffer=function(v){for(var O=v.length,X=new ArrayBuffer(O),rt=new Uint8Array(X);O--;)rt[O]=v.charCodeAt(O);return X},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ct};var yt=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return yt=D===k?v/oe:v,this};var It,_t=p.__private__.getFontSize=p.getFontSize=function(){return D===E?yt:yt*oe},zt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return zt=v,this},p.__private__.getR2L=p.getR2L=function(){return zt};var Rt,Yt=p.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))It=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');It=v}else It=parseInt(v,10)};p.__private__.getZoomMode=function(){return It};var $t,Ht=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Rt=v};p.__private__.getPageMode=function(){return Rt};var ne=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');$t=v};p.__private__.getLayoutMode=function(){return $t},p.__private__.setDisplayMode=p.setDisplayMode=function(v,O,X){return Yt(v),ne(O),Ht(X),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(Xt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[v]},p.__private__.getDocumentProperties=function(){return Xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var O in Xt)Xt.hasOwnProperty(O)&&v[O]&&(Xt[O]=v[O]);return this},p.__private__.setDocumentProperty=function(v,O){if(Object.keys(Xt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[v]=O};var ee,oe,ie,Ne,Be,le={},he={},je=[],me={},De={},Ie={},Bn={},Nn=null,an=0,we=[],qe=new yw(p),js=n.hotfixes||[],ni={},es={},qi=[],ve=function v(O,X,rt,pt,Ot,Bt){if(!(this instanceof v))return new v(O,X,rt,pt,Ot,Bt);isNaN(O)&&(O=1),isNaN(X)&&(X=0),isNaN(rt)&&(rt=0),isNaN(pt)&&(pt=1),isNaN(Ot)&&(Ot=0),isNaN(Bt)&&(Bt=0),this._matrix=[O,X,rt,pt,Ot,Bt]};Object.defineProperty(ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ve.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(v)},ve.prototype.multiply=function(v){var O=v.sx*this.sx+v.shy*this.shx,X=v.sx*this.shy+v.shy*this.sy,rt=v.shx*this.sx+v.sy*this.shx,pt=v.shx*this.shy+v.sy*this.sy,Ot=v.tx*this.sx+v.ty*this.shx+this.tx,Bt=v.tx*this.shy+v.ty*this.sy+this.ty;return new ve(O,X,rt,pt,Ot,Bt)},ve.prototype.decompose=function(){var v=this.sx,O=this.shy,X=this.shx,rt=this.sy,pt=this.tx,Ot=this.ty,Bt=Math.sqrt(v*v+O*O),se=(v/=Bt)*X+(O/=Bt)*rt;X-=v*se,rt-=O*se;var ue=Math.sqrt(X*X+rt*rt);return se/=ue,v*(rt/=ue)<O*(X/=ue)&&(v=-v,O=-O,se=-se,Bt=-Bt),{scale:new ve(Bt,0,0,ue,0,0),translate:new ve(1,0,0,1,pt,Ot),rotate:new ve(v,O,-O,v,0,0),skew:new ve(1,0,se,1,0,0)}},ve.prototype.toString=function(v){return this.join(" ")},ve.prototype.inversed=function(){var v=this.sx,O=this.shy,X=this.shx,rt=this.sy,pt=this.tx,Ot=this.ty,Bt=1/(v*rt-O*X),se=rt*Bt,ue=-O*Bt,_e=-X*Bt,Ee=v*Bt;return new ve(se,ue,_e,Ee,-se*pt-_e*Ot,-ue*pt-Ee*Ot)},ve.prototype.applyToPoint=function(v){var O=v.x*this.sx+v.y*this.shx+this.tx,X=v.x*this.shy+v.y*this.sy+this.ty;return new Js(O,X)},ve.prototype.applyToRectangle=function(v){var O=this.applyToPoint(v),X=this.applyToPoint(new Js(v.x+v.w,v.y+v.h));return new Ea(O.x,O.y,X.x-O.x,X.y-O.y)},ve.prototype.clone=function(){var v=this.sx,O=this.shy,X=this.shx,rt=this.sy,pt=this.tx,Ot=this.ty;return new ve(v,O,X,rt,pt,Ot)},p.Matrix=ve;var Ln=p.matrixMult=function(v,O){return O.multiply(v)},ns=new ve(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ns;var Ei=function(v,O){if(!De[v]){var X=(O instanceof ic?"Sh":"P")+(Object.keys(me).length+1).toString(10);O.id=X,De[v]=X,me[X]=O,qe.publish("addPattern",O)}};p.ShadingPattern=ic,p.TilingPattern=eu,p.addShadingPattern=function(v,O){return P("addShadingPattern()"),Ei(v,O),this},p.beginTilingPattern=function(v){P("beginTilingPattern()"),Xs(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,O){P("endTilingPattern()"),O.stream=Nt[J].join(`
`),Ei(v,O),qe.publish("endTilingPattern",O),qi.pop().restore()};var Ti,jn=p.__private__.newObject=function(){var v=di();return Un(v,!0),v},di=p.__private__.newObjectDeferred=function(){return ct++,tt[ct]=function(){return ot},ct},Un=function(v,O){return O=typeof O=="boolean"&&O,tt[v]=ot,O&&j(v+" 0 obj"),v},Po=p.__private__.newAdditionalObject=function(){var v={objId:di(),content:""};return dt.push(v),v},Us=di(),zi=di(),Nr=p.__private__.decodeColorString=function(v){var O=v.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var X=parseFloat(O[0]);O=[X,X,X,"r"]}for(var rt="#",pt=0;pt<3;pt++)rt+=("0"+Math.floor(255*parseFloat(O[pt])).toString(16)).slice(-2);return rt},ar=p.__private__.encodeColorString=function(v){var O;typeof v=="string"&&(v={ch1:v});var X=v.ch1,rt=v.ch2,pt=v.ch3,Ot=v.ch4,Bt=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var se=new nI(X);if(se.ok)X=se.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var ue=parseInt(X.substr(1),16);X=ue>>16&255,rt=ue>>8&255,pt=255&ue}if(rt===void 0||Ot===void 0&&X===rt&&rt===pt)O=typeof X=="string"?X+" "+Bt[0]:v.precision===2?S(X/255)+" "+Bt[0]:C(X/255)+" "+Bt[0];else if(Ot===void 0||_n(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return["1.","1.","1.",Bt[1]].join(" ");O=typeof X=="string"?[X,rt,pt,Bt[1]].join(" "):v.precision===2?[S(X/255),S(rt/255),S(pt/255),Bt[1]].join(" "):[C(X/255),C(rt/255),C(pt/255),Bt[1]].join(" ")}else O=typeof X=="string"?[X,rt,pt,Ot,Bt[2]].join(" "):v.precision===2?[S(X),S(rt),S(pt),S(Ot),Bt[2]].join(" "):[C(X),C(rt),C(pt),C(Ot),Bt[2]].join(" ");return O},Hi=p.__private__.getFilters=function(){return o},ii=p.__private__.putStream=function(v){var O=(v=v||{}).data||"",X=v.filters||Hi(),rt=v.alreadyAppliedFilters||[],pt=v.addLength1||!1,Ot=O.length,Bt=v.objectId,se=function(Jn){return Jn};if(u!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(se=pn.encryptor(Bt,0));var ue={};X===!0&&(X=["FlateEncode"]);var _e=v.additionalKeyValues||[],Ee=(ue=pe.API.processDataByFilters!==void 0?pe.API.processDataByFilters(O,X):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(ue.data.length!==0&&(_e.push({key:"Length",value:ue.data.length}),pt===!0&&_e.push({key:"Length1",value:Ot})),Ee.length!=0)if(Ee.split("/").length-1==1)_e.push({key:"Filter",value:Ee});else{_e.push({key:"Filter",value:"["+Ee+"]"});for(var Qe=0;Qe<_e.length;Qe+=1)if(_e[Qe].key==="DecodeParms"){for(var ln=[],Wn=0;Wn<ue.reverseChain.split("/").length-1;Wn+=1)ln.push("null");ln.push(_e[Qe].value),_e[Qe].value="["+ln.join(" ")+"]"}}j("<<");for(var gn=0;gn<_e.length;gn++)j("/"+_e[gn].key+" "+_e[gn].value);j(">>"),ue.data.length!==0&&(j("stream"),j(se(ue.data)),j("endstream"))},qs=p.__private__.putPage=function(v){var O=v.number,X=v.data,rt=v.objId,pt=v.contentsObjId;Un(rt,!0),j("<</Type /Page"),j("/Parent "+v.rootDictionaryObjId+" 0 R"),j("/Resources "+v.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(T(v.mediaBox.bottomLeftX))+" "+parseFloat(T(v.mediaBox.bottomLeftY))+" "+T(v.mediaBox.topRightX)+" "+T(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&j("/CropBox ["+T(v.cropBox.bottomLeftX)+" "+T(v.cropBox.bottomLeftY)+" "+T(v.cropBox.topRightX)+" "+T(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&j("/BleedBox ["+T(v.bleedBox.bottomLeftX)+" "+T(v.bleedBox.bottomLeftY)+" "+T(v.bleedBox.topRightX)+" "+T(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&j("/TrimBox ["+T(v.trimBox.bottomLeftX)+" "+T(v.trimBox.bottomLeftY)+" "+T(v.trimBox.topRightX)+" "+T(v.trimBox.topRightY)+"]"),v.artBox!==null&&j("/ArtBox ["+T(v.artBox.bottomLeftX)+" "+T(v.artBox.bottomLeftY)+" "+T(v.artBox.topRightX)+" "+T(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&j("/UserUnit "+v.userUnit),qe.publish("putPage",{objId:rt,pageContext:we[O],pageNumber:O,page:X}),j("/Contents "+pt+" 0 R"),j(">>"),j("endobj");var Ot=X.join(`
`);return D===k&&(Ot+=`
Q`),Un(pt,!0),ii({data:Ot,filters:Hi(),objectId:pt}),j("endobj"),rt},Lr=p.__private__.putPages=function(){var v,O,X=[];for(v=1;v<=an;v++)we[v].objId=di(),we[v].contentsObjId=di();for(v=1;v<=an;v++)X.push(qs({number:v,data:Nt[v],objId:we[v].objId,contentsObjId:we[v].contentsObjId,mediaBox:we[v].mediaBox,cropBox:we[v].cropBox,bleedBox:we[v].bleedBox,trimBox:we[v].trimBox,artBox:we[v].artBox,userUnit:we[v].userUnit,rootDictionaryObjId:Us,resourceDictionaryObjId:zi}));Un(Us,!0),j("<</Type /Pages");var rt="/Kids [";for(O=0;O<an;O++)rt+=X[O]+" 0 R ";j(rt+"]"),j("/Count "+an),j(">>"),j("endobj"),qe.publish("postPutPages")},vs=function(v){qe.publish("putFont",{font:v,out:j,newObject:jn,putStream:ii}),v.isAlreadyPutted!==!0&&(v.objectNumber=jn(),j("<<"),j("/Type /Font"),j("/BaseFont /"+Zc(v.postScriptName)),j("/Subtype /Type1"),typeof v.encoding=="string"&&j("/Encoding /"+v.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},zs=function(v){v.objectNumber=jn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[T(v.x),T(v.y),T(v.x+v.width),T(v.y+v.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var X=v.pages[1].join(`
`);ii({data:X,additionalKeyValues:O,objectId:v.objectNumber}),j("endobj")},ko=function(v,O){O||(O=21);var X=jn(),rt=(function(Bt,se){var ue,_e=[],Ee=1/(se-1);for(ue=0;ue<1;ue+=Ee)_e.push(ue);if(_e.push(1),Bt[0].offset!=0){var Qe={offset:0,color:Bt[0].color};Bt.unshift(Qe)}if(Bt[Bt.length-1].offset!=1){var ln={offset:1,color:Bt[Bt.length-1].color};Bt.push(ln)}for(var Wn="",gn=0,Jn=0;Jn<_e.length;Jn++){for(ue=_e[Jn];ue>Bt[gn+1].offset;)gn++;var Gn=Bt[gn].offset,Xn=(ue-Gn)/(Bt[gn+1].offset-Gn),En=Bt[gn].color,Ni=Bt[gn+1].color;Wn+=st(Math.round((1-Xn)*En[0]+Xn*Ni[0]).toString(16))+st(Math.round((1-Xn)*En[1]+Xn*Ni[1]).toString(16))+st(Math.round((1-Xn)*En[2]+Xn*Ni[2]).toString(16))}return Wn.trim()})(v.colors,O),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+O+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ii({data:rt,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),j("endobj"),v.objectNumber=jn(),j("<< /ShadingType "+v.type),j("/ColorSpace /DeviceRGB");var Ot="/Coords ["+T(parseFloat(v.coords[0]))+" "+T(parseFloat(v.coords[1]))+" ";v.type===2?Ot+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3])):Ot+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3]))+" "+T(parseFloat(v.coords[4]))+" "+T(parseFloat(v.coords[5])),j(Ot+="]"),v.matrix&&j("/Matrix ["+v.matrix.toString()+"]"),j("/Function "+X+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},Co=function(v,O){var X=di(),rt=jn();O.push({resourcesOid:X,objectOid:rt}),v.objectNumber=rt;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+v.boundingBox.map(T).join(" ")+"]"}),pt.push({key:"XStep",value:T(v.xStep)}),pt.push({key:"YStep",value:T(v.yStep)}),pt.push({key:"Resources",value:X+" 0 R"}),v.matrix&&pt.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),ii({data:v.stream,additionalKeyValues:pt,objectId:v.objectNumber}),j("endobj")},Xu=function(v){for(var O in v.objectNumber=jn(),j("<<"),v)switch(O){case"opacity":j("/ca "+S(v[O]));break;case"stroke-opacity":j("/CA "+S(v[O]))}j(">>"),j("endobj")},Hs=function(v){Un(v.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in j("/Font <<"),le)le.hasOwnProperty(O)&&(h===!1||h===!0&&g.hasOwnProperty(O))&&j("/"+O+" "+le[O].objectNumber+" 0 R");j(">>")})(),(function(){if(Object.keys(me).length>0){for(var O in j("/Shading <<"),me)me.hasOwnProperty(O)&&me[O]instanceof ic&&me[O].objectNumber>=0&&j("/"+O+" "+me[O].objectNumber+" 0 R");qe.publish("putShadingPatternDict"),j(">>")}})(),(function(O){if(Object.keys(me).length>0){for(var X in j("/Pattern <<"),me)me.hasOwnProperty(X)&&me[X]instanceof p.TilingPattern&&me[X].objectNumber>=0&&me[X].objectNumber<O&&j("/"+X+" "+me[X].objectNumber+" 0 R");qe.publish("putTilingPatternDict"),j(">>")}})(v.objectOid),(function(){if(Object.keys(Ie).length>0){var O;for(O in j("/ExtGState <<"),Ie)Ie.hasOwnProperty(O)&&Ie[O].objectNumber>=0&&j("/"+O+" "+Ie[O].objectNumber+" 0 R");qe.publish("putGStateDict"),j(">>")}})(),(function(){for(var O in j("/XObject <<"),ni)ni.hasOwnProperty(O)&&ni[O].objectNumber>=0&&j("/"+O+" "+ni[O].objectNumber+" 0 R");qe.publish("putXobjectDict"),j(">>")})(),j(">>"),j("endobj")},Pl=function(v){he[v.fontName]=he[v.fontName]||{},he[v.fontName][v.fontStyle]=v.id},va=function(v,O,X,rt,pt){var Ot={id:"F"+(Object.keys(le).length+1).toString(10),postScriptName:v,fontName:O,fontStyle:X,encoding:rt,isStandardFont:pt||!1,metadata:{}};return qe.publish("addFont",{font:Ot,instance:this}),le[Ot.id]=Ot,Pl(Ot),Ot.id},Ii=p.__private__.pdfEscape=p.pdfEscape=function(v,O){return(function(X,rt){var pt,Ot,Bt,se,ue,_e,Ee,Qe,ln;if(Bt=(rt=rt||{}).sourceEncoding||"Unicode",ue=rt.outputEncoding,(rt.autoencode||ue)&&le[ee].metadata&&le[ee].metadata[Bt]&&le[ee].metadata[Bt].encoding&&(se=le[ee].metadata[Bt].encoding,!ue&&le[ee].encoding&&(ue=le[ee].encoding),!ue&&se.codePages&&(ue=se.codePages[0]),typeof ue=="string"&&(ue=se[ue]),ue)){for(Ee=!1,_e=[],pt=0,Ot=X.length;pt<Ot;pt++)(Qe=ue[X.charCodeAt(pt)])?_e.push(String.fromCharCode(Qe)):_e.push(X[pt]),_e[pt].charCodeAt(0)>>8&&(Ee=!0);X=_e.join("")}for(pt=X.length;Ee===void 0&&pt!==0;)X.charCodeAt(pt-1)>>8&&(Ee=!0),pt--;if(!Ee)return X;for(_e=rt.noBOM?[]:[254,255],pt=0,Ot=X.length;pt<Ot;pt++){if((ln=(Qe=X.charCodeAt(pt))>>8)>>8)throw new Error("Character at position "+pt+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_e.push(ln),_e.push(Qe-(ln<<8))}return String.fromCharCode.apply(void 0,_e)})(v,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Or=p.__private__.beginPage=function(v){Nt[++an]=[],we[an]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Cl(an),G(Nt[J])},_a=function(v,O){var X,rt,pt;switch(e=O||e,typeof v=="string"&&(X=_(v.toLowerCase()),Array.isArray(X)&&(rt=X[0],pt=X[1])),Array.isArray(v)&&(rt=v[0]*oe,pt=v[1]*oe),isNaN(rt)&&(rt=r[0],pt=r[1]),(rt>14400||pt>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),pt=Math.min(14400,pt)),r=[rt,pt],e.substr(0,1)){case"l":pt>rt&&(r=[pt,rt]);break;case"p":rt>pt&&(r=[pt,rt])}Or(r),Ys(Aa),j(ws),bn!==0&&j(bn+" J"),Vl!==0&&j(Vl+" j"),qe.publish("addPage",{pageNumber:an})},kl=function(v){v>0&&v<=an&&(Nt.splice(v,1),we.splice(v,1),an--,J>an&&(J=an),this.setPage(J))},Cl=function(v){v>0&&v<=an&&(J=v)},Rl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Nt.length-1},Nl=function(v,O,X){var rt,pt=void 0;return X=X||{},v=v!==void 0?v:le[ee].fontName,O=O!==void 0?O:le[ee].fontStyle,rt=v.toLowerCase(),he[rt]!==void 0&&he[rt][O]!==void 0?pt=he[rt][O]:he[v]!==void 0&&he[v][O]!==void 0?pt=he[v][O]:X.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+v+"', '"+O+"'. Refer to getFontList() for available fonts."),pt||X.noFallback||(pt=he.times[O])==null&&(pt=he.times.normal),pt},$s=p.__private__.putInfo=function(){var v=jn(),O=function(rt){return rt};for(var X in u!==null&&(O=pn.encryptor(v,0)),j("<<"),j("/Producer ("+Ii(O("jsPDF "+pe.version))+")"),Xt)Xt.hasOwnProperty(X)&&Xt[X]&&j("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Ii(O(Xt[X]))+")");j("/CreationDate ("+Ii(O(ft))+")"),j(">>"),j("endobj")},Ll=p.__private__.putCatalog=function(v){var O=(v=v||{}).rootDictionaryObjId||Us;switch(jn(),j("<<"),j("/Type /Catalog"),j("/Pages "+O+" 0 R"),It||(It="fullwidth"),It){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+It;X.substr(X.length-1)==="%"&&(It=parseInt(It)/100),typeof It=="number"&&j("/OpenAction [3 0 R /XYZ null null "+S(It)+"]")}switch($t||($t="continuous"),$t){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}Rt&&j("/PageMode /"+Rt),qe.publish("putCatalog"),j(">>"),j("endobj")},$n=p.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(ct+1)),j("/Root "+ct+" 0 R"),j("/Info "+(ct-1)+" 0 R"),u!==null&&j("/Encrypt "+pn.oid+" 0 R"),j("/ID [ <"+gt+"> <"+gt+"> ]"),j(">>")},Ol=p.__private__.putHeader=function(){j("%PDF-"+y),j("%ºß¬à")},Oc=p.__private__.putXRef=function(){var v="0000000000";j("xref"),j("0 "+(ct+1)),j("0000000000 65535 f ");for(var O=1;O<=ct;O++)typeof tt[O]=="function"?j((v+tt[O]()).slice(-10)+" 00000 n "):tt[O]!==void 0?j((v+tt[O]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},_s=p.__private__.buildDocument=function(){var v;ct=0,ot=0,lt=[],tt=[],dt=[],Us=di(),zi=di(),G(lt),qe.publish("buildDocument"),Ol(),Lr(),(function(){qe.publish("putAdditionalObjects");for(var X=0;X<dt.length;X++){var rt=dt[X];Un(rt.objId,!0),j(rt.content),j("endobj")}qe.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var X in le)le.hasOwnProperty(X)&&(h===!1||h===!0&&g.hasOwnProperty(X))&&vs(le[X])})(),(function(){var X;for(X in Ie)Ie.hasOwnProperty(X)&&Xu(Ie[X])})(),(function(){for(var X in ni)ni.hasOwnProperty(X)&&zs(ni[X])})(),(function(X){var rt;for(rt in me)me.hasOwnProperty(rt)&&(me[rt]instanceof ic?ko(me[rt]):me[rt]instanceof eu&&Co(me[rt],X))})(v),qe.publish("putResources"),v.forEach(Hs),Hs({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),qe.publish("postPutResources"),u!==null&&(pn.oid=jn(),j("<<"),j("/Filter /Standard"),j("/V "+pn.v),j("/R "+pn.r),j("/U <"+pn.toHexString(pn.U)+">"),j("/O <"+pn.toHexString(pn.O)+">"),j("/P "+pn.P),j(">>"),j("endobj")),$s(),Ll();var O=ot;return Oc(),$n(),j("startxref"),j(""+O),j("%%EOF"),G(Nt[J]),lt.join(`
`)},Ws=p.__private__.getBlob=function(v){return new Blob([At(v)],{type:"application/pdf"})},gr=p.output=p.__private__.output=(Ti=function(v,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",v){case void 0:return _s();case"save":p.save(O.filename);break;case"arraybuffer":return At(_s());case"blob":return Ws(_s());case"bloburi":case"bloburl":if(Te.URL!==void 0&&typeof Te.URL.createObjectURL=="function")return Te.URL&&Te.URL.createObjectURL(Ws(_s()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",rt=_s();try{X=pw(rt)}catch{X=pw(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+O.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Te)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(pt=O.pdfObjectUrl,Ot="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",se=Te.open();return se!==null&&se.document.write(Bt),se}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Te)==="[object Window]"){var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',_e=Te.open();if(_e!==null){_e.document.write(ue);var Ee=this;_e.document.documentElement.querySelector("#pdfViewer").onload=function(){_e.document.title=O.filename,_e.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ee.output("bloburl"))}}return _e}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Te)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',ln=Te.open();if(ln!==null&&(ln.document.write(Qe),ln.document.title=O.filename),ln||typeof safari>"u")return ln;break;case"datauri":case"dataurl":return Te.document.location.href=this.output("datauristring",O);default:return null}},Ti.foo=function(){try{return Ti.apply(this,arguments)}catch(X){var v=X.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var O="Error in function "+v.split(`
`)[0].split("<")[0]+": "+X.message;if(!Te.console)throw new Error(O);Te.console.error(O,X),Te.alert&&alert(O)}},Ti.foo.bar=Ti,Ti.foo),Ro=function(v){return Array.isArray(js)===!0&&js.indexOf(v)>-1};switch(i){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);oe=i}var pn=null;kt(),at();var lr=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:we[v].objId,pageNumber:v,pageContext:we[v]}},ba=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in we)if(we[O].objId===v)break;return lr(O)},wa=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:we[J].objId,pageNumber:J,pageContext:we[J]}};p.addPage=function(){return _a.apply(this,arguments),this},p.setPage=function(){return Cl.apply(this,arguments),G.call(this,Nt[J]),this},p.insertPage=function(v){return this.addPage(),this.movePage(J,v),this},p.movePage=function(v,O){var X,rt;if(v>O){X=Nt[v],rt=we[v];for(var pt=v;pt>O;pt--)Nt[pt]=Nt[pt-1],we[pt]=we[pt-1];Nt[O]=X,we[O]=rt,this.setPage(O)}else if(v<O){X=Nt[v],rt=we[v];for(var Ot=v;Ot<O;Ot++)Nt[Ot]=Nt[Ot+1],we[Ot]=we[Ot+1];Nt[O]=X,we[O]=rt,this.setPage(O)}return this},p.deletePage=function(){return kl.apply(this,arguments),this},p.__private__.text=p.text=function(v,O,X,rt,pt){var Ot,Bt,se,ue,_e,Ee,Qe,ln,Wn,gn=(rt=rt||{}).scope||this;if(typeof v=="number"&&typeof O=="number"&&(typeof X=="string"||Array.isArray(X))){var Jn=X;X=O,O=v,v=Jn}if(arguments[3]instanceof ve==0?(se=arguments[4],ue=arguments[5],_n(Qe=arguments[3])==="object"&&Qe!==null||(typeof se=="string"&&(ue=se,se=null),typeof Qe=="string"&&(ue=Qe,Qe=null),typeof Qe=="number"&&(se=Qe,Qe=null),rt={flags:Qe,angle:se,align:ue})):(P("The transform parameter of text() with a Matrix value"),Wn=pt),isNaN(O)||isNaN(X)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return gn;var Gn,Xn="",En=typeof rt.lineHeightFactor=="number"?rt.lineHeightFactor:Ks,Ni=gn.internal.scaleFactor;function ql(cn){return cn=cn.split("	").join(Array(rt.TabLen||9).join(" ")),Ii(cn,Qe)}function Mr(cn){for(var wn,si=cn.concat(),vi=[],Vo=si.length;Vo--;)typeof(wn=si.shift())=="string"?vi.push(wn):Array.isArray(cn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?vi.push(wn[0]):vi.push([wn[0],wn[1],wn[2]]);return vi}function d(cn,wn){var si;if(typeof cn=="string")si=wn(cn)[0];else if(Array.isArray(cn)){for(var vi,Vo,hh=cn.concat(),Vc=[],ud=hh.length;ud--;)typeof(vi=hh.shift())=="string"?Vc.push(wn(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(Vo=wn(vi[0],vi[1],vi[2]),Vc.push([Vo[0],Vo[1],Vo[2]]));si=Vc}return si}var x=!1,R=!0;if(typeof v=="string")x=!0;else if(Array.isArray(v)){var z=v.concat();Bt=[];for(var vt,St=z.length;St--;)(typeof(vt=z.shift())!="string"||Array.isArray(vt)&&typeof vt[0]!="string")&&(R=!1);x=R}if(x===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Gt=yt/gn.internal.scaleFactor,Ye=Gt*(En-1);switch(rt.baseline){case"bottom":X-=Ye;break;case"top":X+=Gt-Ye;break;case"hanging":X+=Gt-2*Ye;break;case"middle":X+=Gt/2-Ye}if((Ee=rt.maxWidth||0)>0&&(typeof v=="string"?v=gn.splitTextToSize(v,Ee):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(cn,wn){return cn.concat(gn.splitTextToSize(wn,Ee))},[]))),Ot={text:v,x:O,y:X,options:rt,mutex:{pdfEscape:Ii,activeFontKey:ee,fonts:le,activeFontSize:yt}},qe.publish("preProcessText",Ot),v=Ot.text,se=(rt=Ot.options).angle,Wn instanceof ve==0&&se&&typeof se=="number"){se*=Math.PI/180,rt.rotationDirection===0&&(se=-se),D===k&&(se=-se);var Kn=Math.cos(se),ze=Math.sin(se);Wn=new ve(Kn,ze,-ze,Kn,0,0)}else se&&se instanceof ve&&(Wn=se);D!==k||Wn||(Wn=ns),(_e=rt.charSpace||Oo)!==void 0&&(Xn+=T(N(_e))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ln=rt.horizontalScale)!==void 0&&(Xn+=T(100*ln)+` Tz
`),rt.lang;var Ue=-1,Tn=rt.renderingMode!==void 0?rt.renderingMode:rt.stroke,Fr=gn.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":Ue=0;break;case 1:case!0:case"stroke":Ue=1;break;case 2:case"fillThenStroke":Ue=2;break;case 3:case"invisible":Ue=3;break;case 4:case"fillAndAddForClipping":Ue=4;break;case 5:case"strokeAndAddPathForClipping":Ue=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ue=6;break;case 7:case"addToPathForClipping":Ue=7}var $i=Fr.usedRenderingMode!==void 0?Fr.usedRenderingMode:-1;Ue!==-1?Xn+=Ue+` Tr
`:$i!==-1&&(Xn+=`0 Tr
`),Ue!==-1&&(Fr.usedRenderingMode=Ue),ue=rt.align||"left";var Li,xs=yt*En,rh=gn.internal.pageSize.getWidth(),sh=le[ee];_e=rt.charSpace||Oo,Ee=rt.maxWidth||0,Qe=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var Ia=[],zl=function(cn){return gn.getStringUnitWidth(cn,{font:sh,charSpace:_e,fontSize:yt,doKerning:!1})*yt/Ni};if(Object.prototype.toString.call(v)==="[object Array]"){var Vr;Bt=Mr(v),ue!=="left"&&(Li=Bt.map(zl));var Br,Pa=0;if(ue==="right"){O-=Li[0],v=[],St=Bt.length;for(var Fo=0;Fo<St;Fo++)Fo===0?(Br=Pi(O),Vr=bs(X)):(Br=N(Pa-Li[Fo]),Vr=-xs),v.push([Bt[Fo],Br,Vr]),Pa=Li[Fo]}else if(ue==="center"){O-=Li[0]/2,v=[],St=Bt.length;for(var ka=0;ka<St;ka++)ka===0?(Br=Pi(O),Vr=bs(X)):(Br=N((Pa-Li[ka])/2),Vr=-xs),v.push([Bt[ka],Br,Vr]),Pa=Li[ka]}else if(ue==="left"){v=[],St=Bt.length;for(var oh=0;oh<St;oh++)v.push(Bt[oh])}else if(ue==="justify"&&sh.encoding==="Identity-H"){v=[],St=Bt.length,Ee=Ee!==0?Ee:rh;for(var Fc=0,ri=0;ri<St;ri++)if(Vr=ri===0?bs(X):-xs,Br=ri===0?Pi(O):Fc,ri<St-1){var cd=N((Ee-Li[ri])/(Bt[ri].split(" ").length-1)),Zs=Bt[ri].split(" ");v.push([Zs[0]+" ",Br,Vr]),Fc=0;for(var to=1;to<Zs.length;to++){var ah=(zl(Zs[to-1]+" "+Zs[to])-zl(Zs[to]))*Ni+cd;to==Zs.length-1?v.push([Zs[to],ah,0]):v.push([Zs[to]+" ",ah,0]),Fc-=ah}}else v.push([Bt[ri],Br,Vr]);v.push(["",Fc,0])}else{if(ue!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],St=Bt.length,Ee=Ee!==0?Ee:rh,ri=0;ri<St;ri++){Vr=ri===0?bs(X):-xs,Br=ri===0?Pi(O):0;var lh=Bt[ri].split(" ").length-1,ch=lh>0?(Ee-Li[ri])/lh:0;ri<St-1?Ia.push(T(N(ch))):Ia.push(0),v.push([Bt[ri],Br,Vr])}}}(typeof rt.R2L=="boolean"?rt.R2L:zt)===!0&&(v=d(v,function(cn,wn,si){return[cn.split("").reverse().join(""),wn,si]})),Ot={text:v,x:O,y:X,options:rt,mutex:{pdfEscape:Ii,activeFontKey:ee,fonts:le,activeFontSize:yt}},qe.publish("postProcessText",Ot),v=Ot.text,Gn=Ot.mutex.isHex||!1;var uh=le[ee].encoding;uh!=="WinAnsiEncoding"&&uh!=="StandardEncoding"||(v=d(v,function(cn,wn,si){return[ql(cn),wn,si]})),Bt=Mr(v),v=[];for(var Ca,Ra,Na,Hl=Array.isArray(Bt[0])?1:0,La="",$l=function(cn,wn,si){var vi="";return si instanceof ve?(si=typeof rt.angle=="number"?Ln(si,new ve(1,0,0,1,cn,wn)):Ln(new ve(1,0,0,1,cn,wn),si),D===k&&(si=Ln(new ve(1,0,0,-1,0,0),si)),vi=si.join(" ")+` Tm
`):vi=T(cn)+" "+T(wn)+` Td
`,vi},os=0;os<Bt.length;os++){switch(La="",Hl){case 1:Na=(Gn?"<":"(")+Bt[os][0]+(Gn?">":")"),Ca=parseFloat(Bt[os][1]),Ra=parseFloat(Bt[os][2]);break;case 0:Na=(Gn?"<":"(")+Bt[os]+(Gn?">":")"),Ca=Pi(O),Ra=bs(X)}Ia!==void 0&&Ia[os]!==void 0&&(La=Ia[os]+` Tw
`),os===0?v.push(La+$l(Ca,Ra,Wn)+Na):Hl===0?v.push(La+Na):Hl===1&&v.push(La+$l(Ca,Ra,Wn)+Na)}v=Hl===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var eo=`BT
/`;return eo+=ee+" "+yt+` Tf
`,eo+=T(yt*En)+` TL
`,eo+=Dr+`
`,eo+=Xn,eo+=v,j(eo+="ET"),g[ee]=!0,gn};var Dc=p.__private__.clip=p.clip=function(v){return j(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Dc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return j("n"),this};var $e=p.__private__.isValidStyle=function(v){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(O=!0),O};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return $e(v)&&(c=v),this};var No=p.__private__.getStyle=p.getStyle=function(v){var O=c;switch(v){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=v}return O},Gs=p.close=function(){return j("h"),this};p.stroke=function(){return j("S"),this},p.fill=function(v){return mr("f",v),this},p.fillEvenOdd=function(v){return mr("f*",v),this},p.fillStroke=function(v){return mr("B",v),this},p.fillStrokeEvenOdd=function(v){return mr("B*",v),this};var mr=function(v,O){_n(O)==="object"?Qu(O,v):j(v)},Dl=function(v){v===null||D===k&&v===void 0||(v=No(v),j(v))};function Mc(v,O,X,rt,pt){var Ot=new eu(O||this.boundingBox,X||this.xStep,rt||this.yStep,this.gState,pt||this.matrix);Ot.stream=this.stream;var Bt=v+"$$"+this.cloneIndex+++"$$";return Ei(Bt,Ot),Ot}var Qu=function(v,O){var X=De[v.key],rt=me[X];if(rt instanceof ic)j("q"),j(Zu(O)),rt.gState&&p.setGState(rt.gState),j(v.matrix.toString()+" cm"),j("/"+X+" sh"),j("Q");else if(rt instanceof eu){var pt=new ve(1,0,0,-1,0,ss());v.matrix&&(pt=pt.multiply(v.matrix||ns),X=Mc.call(rt,v.key,v.boundingBox,v.xStep,v.yStep,pt).id),j("q"),j("/Pattern cs"),j("/"+X+" scn"),rt.gState&&p.setGState(rt.gState),j(O),j("Q")}},Zu=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ml=p.moveTo=function(v,O){return j(T(N(v))+" "+T(nt(O))+" m"),this},Lo=p.lineTo=function(v,O){return j(T(N(v))+" "+T(nt(O))+" l"),this},yr=p.curveTo=function(v,O,X,rt,pt,Ot){return j([T(N(v)),T(nt(O)),T(N(X)),T(nt(rt)),T(N(pt)),T(nt(Ot)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,O,X,rt,pt){if(isNaN(v)||isNaN(O)||isNaN(X)||isNaN(rt)||!$e(pt))throw new Error("Invalid arguments passed to jsPDF.line");return D===E?this.lines([[X-v,rt-O]],v,O,[1,1],pt||"S"):this.lines([[X-v,rt-O]],v,O,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,O,X,rt,pt,Ot){var Bt,se,ue,_e,Ee,Qe,ln,Wn,gn,Jn,Gn,Xn;if(typeof v=="number"&&(Xn=X,X=O,O=v,v=Xn),rt=rt||[1,1],Ot=Ot||!1,isNaN(O)||isNaN(X)||!Array.isArray(v)||!Array.isArray(rt)||!$e(pt)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ml(O,X),Bt=rt[0],se=rt[1],_e=v.length,Jn=O,Gn=X,ue=0;ue<_e;ue++)(Ee=v[ue]).length===2?(Jn=Ee[0]*Bt+Jn,Gn=Ee[1]*se+Gn,Lo(Jn,Gn)):(Qe=Ee[0]*Bt+Jn,ln=Ee[1]*se+Gn,Wn=Ee[2]*Bt+Jn,gn=Ee[3]*se+Gn,Jn=Ee[4]*Bt+Jn,Gn=Ee[5]*se+Gn,yr(Qe,ln,Wn,gn,Jn,Gn));return Ot&&Gs(),Dl(pt),this},p.path=function(v){for(var O=0;O<v.length;O++){var X=v[O],rt=X.c;switch(X.op){case"m":Ml(rt[0],rt[1]);break;case"l":Lo(rt[0],rt[1]);break;case"c":yr.apply(this,rt);break;case"h":Gs()}}return this},p.__private__.rect=p.rect=function(v,O,X,rt,pt){if(isNaN(v)||isNaN(O)||isNaN(X)||isNaN(rt)||!$e(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return D===E&&(rt=-rt),j([T(N(v)),T(nt(O)),T(N(X)),T(N(rt)),"re"].join(" ")),Dl(pt),this},p.__private__.triangle=p.triangle=function(v,O,X,rt,pt,Ot,Bt){if(isNaN(v)||isNaN(O)||isNaN(X)||isNaN(rt)||isNaN(pt)||isNaN(Ot)||!$e(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-v,rt-O],[pt-X,Ot-rt],[v-pt,O-Ot]],v,O,[1,1],Bt,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,O,X,rt,pt,Ot,Bt){if(isNaN(v)||isNaN(O)||isNaN(X)||isNaN(rt)||isNaN(pt)||isNaN(Ot)||!$e(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var se=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*X),Ot=Math.min(Ot,.5*rt),this.lines([[X-2*pt,0],[pt*se,0,pt,Ot-Ot*se,pt,Ot],[0,rt-2*Ot],[0,Ot*se,-pt*se,Ot,-pt,Ot],[2*pt-X,0],[-pt*se,0,-pt,-Ot*se,-pt,-Ot],[0,2*Ot-rt],[0,-Ot*se,pt*se,-Ot,pt,-Ot]],v+pt,O,[1,1],Bt,!0),this},p.__private__.ellipse=p.ellipse=function(v,O,X,rt,pt){if(isNaN(v)||isNaN(O)||isNaN(X)||isNaN(rt)||!$e(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*X,Bt=4/3*(Math.SQRT2-1)*rt;return Ml(v+X,O),yr(v+X,O-Bt,v+Ot,O-rt,v,O-rt),yr(v-Ot,O-rt,v-X,O-Bt,v-X,O),yr(v-X,O+Bt,v-Ot,O+rt,v,O+rt),yr(v+Ot,O+rt,v+X,O+Bt,v+X,O),Dl(pt),this},p.__private__.circle=p.circle=function(v,O,X,rt){if(isNaN(v)||isNaN(O)||isNaN(X)||!$e(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,O,X,X,rt)},p.setFont=function(v,O,X){return X&&(O=L(O,X)),ee=Nl(v,O,{disableWarning:!1}),this};var is=p.__private__.getFont=p.getFont=function(){return le[Nl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,O,X={};for(v in he)if(he.hasOwnProperty(v))for(O in X[v]=[],he[v])he[v].hasOwnProperty(O)&&X[v].push(O);return X},p.addFont=function(v,O,X,rt,pt){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(X=L(X,rt)),va.call(this,v,O,X,pt=pt||"Identity-H")};var Ks,Aa=n.lineWidth||.200025,Se=p.__private__.getLineWidth=p.getLineWidth=function(){return Aa},Ys=p.__private__.setLineWidth=p.setLineWidth=function(v){return Aa=v,j(T(N(v))+" w"),this};p.__private__.setLineDash=pe.API.setLineDash=pe.API.setLineDashPattern=function(v,O){if(v=v||[],O=O||0,isNaN(O)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(X){return T(N(X))}).join(" "),O=T(N(O)),j("["+v+"] "+O+" d"),this};var th=p.__private__.getLineHeight=p.getLineHeight=function(){return yt*Ks};p.__private__.getLineHeight=p.getLineHeight=function(){return yt*Ks};var eh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ks=v),this},nh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ks};eh(n.lineHeight);var Pi=p.__private__.getHorizontalCoordinate=function(v){return N(v)},bs=p.__private__.getVerticalCoordinate=function(v){return D===k?v:we[J].mediaBox.topRightY-we[J].mediaBox.bottomLeftY-N(v)},ih=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return T(Pi(v))},xa=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return T(bs(v))},ws=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Nr(ws)},p.__private__.setStrokeColor=p.setDrawColor=function(v,O,X,rt){return ws=ar({ch1:v,ch2:O,ch3:X,ch4:rt,pdfColorType:"draw",precision:2}),j(ws),this};var Sa=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Nr(Sa)},p.__private__.setFillColor=p.setFillColor=function(v,O,X,rt){return Sa=ar({ch1:v,ch2:O,ch3:X,ch4:rt,pdfColorType:"fill",precision:2}),j(Sa),this};var Dr=n.textColor||"0 g",rs=p.__private__.getTextColor=p.getTextColor=function(){return Nr(Dr)};p.__private__.setTextColor=p.setTextColor=function(v,O,X,rt){return Dr=ar({ch1:v,ch2:O,ch3:X,ch4:rt,pdfColorType:"text",precision:3}),this};var Oo=n.charSpace,Fl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Oo||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oo=v,this};var bn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var O=p.CapJoinStyles[v];if(O===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bn=O,j(O+" J"),this};var Vl=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var O=p.CapJoinStyles[v];if(O===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=O,j(O+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(T(N(v))+" M"),this},p.GState=dg,p.setGState=function(v){(v=typeof v=="string"?Ie[Bn[v]]:Do(null,v)).equals(Nn)||(j("/"+v.id+" gs"),Nn=v)};var Do=function(v,O){if(!v||!Bn[v]){var X=!1;for(var rt in Ie)if(Ie.hasOwnProperty(rt)&&Ie[rt].equals(O)){X=!0;break}if(X)O=Ie[rt];else{var pt="GS"+(Object.keys(Ie).length+1).toString(10);Ie[pt]=O,O.id=pt}return v&&(Bn[v]=O.id),qe.publish("addGState",O),O}};p.addGState=function(v,O){return Do(v,O),this},p.saveGraphicsState=function(){return j("q"),je.push({key:ee,size:yt,color:Dr}),this},p.restoreGraphicsState=function(){j("Q");var v=je.pop();return ee=v.key,yt=v.size,Dr=v.color,Nn=null,this},p.setCurrentTransformationMatrix=function(v){return j(v.toString()+" cm"),this},p.comment=function(v){return j("#"+v),this};var Js=function(v,O){var X=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Ot){isNaN(Ot)||(X=parseFloat(Ot))}});var rt=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(Ot){isNaN(Ot)||(rt=parseFloat(Ot))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(Ot){pt=Ot.toString()}}),this},Ea=function(v,O,X,rt){Js.call(this,v,O),this.type="rect";var pt=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Bt){isNaN(Bt)||(pt=parseFloat(Bt))}});var Ot=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(Bt){isNaN(Bt)||(Ot=parseFloat(Bt))}}),this},Mo=function(){this.page=an,this.currentPage=J,this.pages=Nt.slice(0),this.pagesContext=we.slice(0),this.x=ie,this.y=Ne,this.matrix=Be,this.width=vr(J),this.height=As(J),this.outputDestination=K,this.id="",this.objectNumber=-1};Mo.prototype.restore=function(){an=this.page,J=this.currentPage,we=this.pagesContext,Nt=this.pages,ie=this.x,Ne=this.y,Be=this.matrix,Bl(J,this.width),cr(J,this.height),K=this.outputDestination};var Xs=function(v,O,X,rt,pt){qi.push(new Mo),an=J=0,Nt=[],ie=v,Ne=O,Be=pt,Or([X,rt])};for(var Qs in p.beginFormObject=function(v,O,X,rt,pt){return Xs(v,O,X,rt,pt),this},p.endFormObject=function(v){return(function(O){if(es[O])qi.pop().restore();else{var X=new Mo,rt="Xo"+(Object.keys(ni).length+1).toString(10);X.id=rt,es[O]=rt,ni[rt]=X,qe.publish("addFormObject",X),qi.pop().restore()}})(v),this},p.doFormObject=function(v,O){var X=ni[es[v]];return j("q"),j(O.toString()+" cm"),j("/"+X.id+" Do"),j("Q"),this},p.getFormObject=function(v){var O=ni[es[v]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},p.save=function(v,O){return v=v||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(tc(Ws(_s()),v),typeof tc.unload=="function"&&Te.setTimeout&&setTimeout(tc.unload,911),this):new Promise(function(X,rt){try{var pt=tc(Ws(_s()),v);typeof tc.unload=="function"&&Te.setTimeout&&setTimeout(tc.unload,911),X(pt)}catch(Ot){rt(Ot.message)}})},pe.API)pe.API.hasOwnProperty(Qs)&&(Qs==="events"&&pe.API.events.length?(function(v,O){var X,rt,pt;for(pt=O.length-1;pt!==-1;pt--)X=O[pt][0],rt=O[pt][1],v.subscribe.apply(v,[X].concat(typeof rt=="function"?[rt]:rt))})(qe,pe.API.events):p[Qs]=pe.API[Qs]);function vr(v){return we[v].mediaBox.topRightX-we[v].mediaBox.bottomLeftX}function Bl(v,O){we[v].mediaBox.topRightX=O+we[v].mediaBox.bottomLeftX}function As(v){return we[v].mediaBox.topRightY-we[v].mediaBox.bottomLeftY}function cr(v,O){we[v].mediaBox.topRightY=O+we[v].mediaBox.bottomLeftY}var jl=p.getPageWidth=function(v){return vr(v=v||J)/oe},Ta=p.setPageWidth=function(v,O){Bl(v,O*oe)},ss=p.getPageHeight=function(v){return As(v=v||J)/oe},Ul=p.setPageHeight=function(v,O){cr(v,O*oe)};return p.internal={pdfEscape:Ii,getStyle:No,getFont:is,getFontSize:_t,getCharSpace:Fl,getTextColor:rs,getLineHeight:th,getLineHeightFactor:nh,getLineWidth:Se,write:Tt,getHorizontalCoordinate:Pi,getVerticalCoordinate:bs,getCoordinateString:ih,getVerticalCoordinateString:xa,collections:{},newObject:jn,newAdditionalObject:Po,newObjectDeferred:di,newObjectDeferredBegin:Un,getFilters:Hi,putStream:ii,events:qe,scaleFactor:oe,pageSize:{getWidth:function(){return jl(J)},setWidth:function(v){Ta(J,v)},getHeight:function(){return ss(J)},setHeight:function(v){Ul(J,v)}},encryptionOptions:u,encryption:pn,getEncryptor:function(v){return u!==null?pn.encryptor(v,0):function(O){return O}},output:gr,getNumberOfPages:Rl,pages:Nt,out:j,f2:S,f3:C,getPageInfo:lr,getPageInfoByObjId:ba,getCurrentPageInfo:wa,getPDFVersion:b,Point:Js,Rectangle:Ea,Matrix:ve,hasHotfix:Ro},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return jl(J)},set:function(v){Ta(J,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ss(J)},set:function(v){Ul(J,v)},enumerable:!0,configurable:!0}),(function(v){for(var O=0,X=Ct.length;O<X;O++){var rt=va.call(this,v[O][0],v[O][1],v[O][2],Ct[O][3],!0);h===!1&&(g[rt]=!0);var pt=v[O][0].split("-");Pl({id:rt,fontName:pt[0],fontStyle:pt[1]||""})}qe.publish("addFonts",{fonts:le,dictionary:he})}).call(p,Ct),ee="F1",_a(r,e),qe.publish("initialized"),p}Qc.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Qc.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qc.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Qc.prototype.processOwnerPassword=function(n,t){return Y0(K0(t).substr(0,5),n)},Qc.prototype.encryptor=function(n,t){var e=K0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Y0(e,i)}},dg.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||_n(n)!==_n(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},pe.API={events:[]},pe.version="3.0.3";var ti=pe.API,D2=1,Rc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ce=function(n){return n.toFixed(2)},za=function(n){return n.toFixed(5)};ti.__acroform__={};var Rr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},vw=function(n){return n*D2},oo=function(n){var t=new oI,e=ce.internal.getHeight(n)||0,i=ce.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Ce(i)),Number(Ce(e))],t},sU=ti.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},oU=ti.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},aU=ti.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},ci=ti.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aU(n,t-1)},ui=ti.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sU(n,t-1)},hi=ti.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oU(n,t-1)},lU=ti.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=e(r+o)||0,l.upperRight_Y=i(s)||0,[Number(Ce(l.lowerLeft_X)),Number(Ce(l.lowerLeft_Y)),Number(Ce(l.upperRight_X)),Number(Ce(l.upperRight_Y))]},cU=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=J0(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+Ce(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=oo(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},J0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(S){return S.split(`
`)}):r.map(function(S){return[S]});var s=e,o=ce.internal.getHeight(n)||0;o=o<0?-o:o;var a=ce.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(S,C,N){if(S+1<r.length){var nt=C+" "+r[S+1][0];return zd(nt,n,N).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var c,u,h=zd("3",n,s).height,g=n.multiline?o-s:(o-h)/2,p=g+=2,y=0,b=0,w=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+zd(t,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",E=0,k=0;k<r.length;k++)if(r.hasOwnProperty(k)){var D=!1;if(r[k].length!==1&&w!==r[k].length-1){if((h+2)*(E+2)+2>o)continue t;_+=r[k][w],D=!0,b=k,k--}else{_=(_+=r[k][w]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var W=parseInt(k),it=l(W,_,s),L=k>=r.length-1;if(it&&!L){_+=" ",w=0;continue}if(it||L){if(L)b=W;else if(n.multiline&&(h+2)*(E+2)+2>o)continue t}else{if(!n.multiline||(h+2)*(E+2)+2>o)continue t;b=W}}for(var T="",P=y;P<=b;P++){var F=r[P];if(n.multiline){if(P===b){T+=F[w]+" ",w=(w+1)%F.length;continue}if(P===y){T+=F[F.length-1]+" ";continue}}T+=F[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,u=zd(T,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=Ce(c)+" "+Ce(p)+` Td
`,t+="("+Rc(T)+`) Tj
`,t+=-Ce(c)+` 0 Td
`,p=-(s+2),u=0,y=D?b:b+1,E++,_=""}break}return i.text=t,i.fontSize=s,i},zd=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},uU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hU=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},fU=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Vs.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(uU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new aI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&hU(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=lU(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ce.createDefaultAppearanceStream(a),_n(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=cU(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(r,a)),h+="/"+o+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&(function(b,w){for(var _ in b)if(b.hasOwnProperty(_)){var E=_,k=b[_];w.internal.newObjectDeferredBegin(k.objId,!0),_n(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete b[E]}})(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},sI=ti.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),_n(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+Rc(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P1=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Rc(i(n))+")"},fo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fo.prototype.toString=function(){return this.objId+" 0 R"},fo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},fo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:sI(r,this.objId,this.scope)}):r instanceof fo?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var oI=function(){fo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Rr(oI,fo);var aI=function(){fo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Rc(e(n))+")"}},set:function(e){n=e}})};Rr(aI,fo);var Vs=function n(){fo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ci(t,3)},set:function(_){_?this.F=ui(t,3):this.F=hi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');e=_}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(_){i=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(_){i[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(_){i[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(_){i[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(_){i[3]=_}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pg)return;s="FieldObject"+n.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Rc(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/D2:c},set:function(_){c=_}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof pg||this instanceof dc))return P1(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ci==0?P1(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof Ci==0?_.substr(0,1)==="("?qc(_.substr(1,_.length-2)):qc(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?qc(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Ci==1?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ci==0?P1(p,this.objId,this.scope):p},set:function(_){_=_.toString(),p=this instanceof Ci==0?_.substr(0,1)==="("?qc(_.substr(1,_.length-2)):qc(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?qc(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Ci==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(_){_=!!_,b=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(_){y=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,1)},set:function(_){_?this.Ff=ui(this.Ff,1):this.Ff=hi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,2)},set:function(_){_?this.Ff=ui(this.Ff,2):this.Ff=hi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,3)},set:function(_){_?this.Ff=ui(this.Ff,3):this.Ff=hi(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');w=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(w){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Rr(Vs,fo);var fu=function(){Vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sI(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=(function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c})(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,18)},set:function(e){e?this.Ff=ui(this.Ff,18):this.Ff=hi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ui(this.Ff,19):this.Ff=hi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,20)},set:function(e){e?(this.Ff=ui(this.Ff,20),t.sort()):this.Ff=hi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,22)},set:function(e){e?this.Ff=ui(this.Ff,22):this.Ff=hi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(e){e?this.Ff=ui(this.Ff,23):this.Ff=hi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,27)},set:function(e){e?this.Ff=ui(this.Ff,27):this.Ff=hi(this.Ff,27)}}),this.hasAppearanceStream=!1};Rr(fu,Vs);var du=function(){fu.call(this),this.fontName="helvetica",this.combo=!1};Rr(du,fu);var pu=function(){du.call(this),this.combo=!0};Rr(pu,du);var Pp=function(){pu.call(this),this.edit=!0};Rr(Pp,pu);var Ci=function(){Vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,15)},set:function(e){e?this.Ff=ui(this.Ff,15):this.Ff=hi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,16)},set:function(e){e?this.Ff=ui(this.Ff,16):this.Ff=hi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,17)},set:function(e){e?this.Ff=ui(this.Ff,17):this.Ff=hi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(e){e?this.Ff=ui(this.Ff,26):this.Ff=hi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Rc(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){_n(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Rr(Ci,Vs);var kp=function(){Ci.call(this),this.pushButton=!0};Rr(kp,Ci);var gu=function(){Ci.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Rr(gu,Ci);var pg=function(){var n,t;Vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Rc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){_n(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ce.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Rr(pg,Vs),gu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},gu.prototype.createOption=function(n){var t=new pg;return t.Parent=this,t.optionName=n,this.Kids.push(t),dU.call(this.scope,t),t};var Cp=function(){Ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ce.CheckBox.createAppearanceStream()};Rr(Cp,Ci);var dc=function(){Vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,13)},set:function(t){t?this.Ff=ui(this.Ff,13):this.Ff=hi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,21)},set:function(t){t?this.Ff=ui(this.Ff,21):this.Ff=hi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(t){t?this.Ff=ui(this.Ff,23):this.Ff=hi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,24)},set:function(t){t?this.Ff=ui(this.Ff,24):this.Ff=hi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,25)},set:function(t){t?this.Ff=ui(this.Ff,25):this.Ff=hi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(t){t?this.Ff=ui(this.Ff,26):this.Ff=hi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Rr(dc,Vs);var Rp=function(){dc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,14)},set:function(n){n?this.Ff=ui(this.Ff,14):this.Ff=hi(this.Ff,14)}}),this.password=!0};Rr(Rp,dc);var ce={CheckBox:{createAppearanceStream:function(){return{N:{On:ce.CheckBox.YesNormal},D:{On:ce.CheckBox.YesPushDown,Off:ce.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=J0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Ce(ce.internal.getWidth(n))+" "+Ce(ce.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Ce(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=oo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=ce.internal.getHeight(n),o=ce.internal.getWidth(n),a=J0(n,n.caption);return r.push("1 g"),r.push("0 0 "+Ce(o)+" "+Ce(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ce(o-1)+" "+Ce(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Ce(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ce(ce.internal.getWidth(n))+" "+Ce(ce.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ce.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ce.RadioButton.Circle.YesNormal,t.D[n]=ce.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=oo(n);t.scope=n.scope;var e=[],i=ce.internal.getWidth(n)<=ce.internal.getHeight(n)?ce.internal.getWidth(n)/4:ce.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=ce.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+za(ce.internal.getWidth(n)/2)+" "+za(ce.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=[],i=ce.internal.getWidth(n)<=ce.internal.getHeight(n)?ce.internal.getWidth(n)/4:ce.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ce.internal.Bezier_C).toFixed(5)),o=Number((i*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+za(ce.internal.getWidth(n)/2)+" "+za(ce.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+za(ce.internal.getWidth(n)/2)+" "+za(ce.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=[],i=ce.internal.getWidth(n)<=ce.internal.getHeight(n)?ce.internal.getWidth(n)/4:ce.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ce.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+za(ce.internal.getWidth(n)/2)+" "+za(ce.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ce.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ce.RadioButton.Cross.YesNormal,t.D[n]=ce.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=oo(n);t.scope=n.scope;var e=[],i=ce.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Ce(ce.internal.getWidth(n)-2)+" "+Ce(ce.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Ce(i.x1.x)+" "+Ce(i.x1.y)+" m"),e.push(Ce(i.x2.x)+" "+Ce(i.x2.y)+" l"),e.push(Ce(i.x4.x)+" "+Ce(i.x4.y)+" m"),e.push(Ce(i.x3.x)+" "+Ce(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=ce.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ce(ce.internal.getWidth(n))+" "+Ce(ce.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ce(ce.internal.getWidth(n)-2)+" "+Ce(ce.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Ce(e.x1.x)+" "+Ce(e.x1.y)+" m"),i.push(Ce(e.x2.x)+" "+Ce(e.x2.y)+" l"),i.push(Ce(e.x4.x)+" "+Ce(e.x4.y)+" m"),i.push(Ce(e.x3.x)+" "+Ce(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=oo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ce(ce.internal.getWidth(n))+" "+Ce(ce.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ce.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ce.internal.getWidth(n),e=ce.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ce.internal.getWidth=function(n){var t=0;return _n(n)==="object"&&(t=vw(n.Rect[2])),t},ce.internal.getHeight=function(n){var t=0;return _n(n)==="object"&&(t=vw(n.Rect[3])),t};var dU=ti.addField=function(n){if(fU(this,n),!(n instanceof Vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ti.AcroFormChoiceField=fu,ti.AcroFormListBox=du,ti.AcroFormComboBox=pu,ti.AcroFormEditBox=Pp,ti.AcroFormButton=Ci,ti.AcroFormPushButton=kp,ti.AcroFormRadioButton=gu,ti.AcroFormCheckBox=Cp,ti.AcroFormTextField=dc,ti.AcroFormPasswordField=Rp,ti.AcroFormAppearance=ce,ti.AcroForm={ChoiceField:fu,ListBox:du,ComboBox:pu,EditBox:Pp,Button:Ci,PushButton:kp,RadioButton:gu,CheckBox:Cp,TextField:dc,PasswordField:Rp,Appearance:ce},pe.AcroForm={ChoiceField:fu,ListBox:du,ComboBox:pu,EditBox:Pp,Button:Ci,PushButton:kp,RadioButton:gu,CheckBox:Cp,TextField:dc,PasswordField:Rp,Appearance:ce};pe.AcroForm;function lI(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(S,C){var N,nt,ft,gt,mt,at=e;if((C=C||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(it(S))for(mt in i)for(ft=i[mt],N=0;N<ft.length;N+=1){for(gt=!0,nt=0;nt<ft[N].length;nt+=1)if(ft[N][nt]!==void 0&&ft[N][nt]!==S[nt]){gt=!1;break}if(gt===!0){at=mt;break}}else for(mt in i)for(ft=i[mt],N=0;N<ft.length;N+=1){for(gt=!0,nt=0;nt<ft[N].length;nt+=1)if(ft[N][nt]!==void 0&&ft[N][nt]!==S.charCodeAt(nt)){gt=!1;break}if(gt===!0){at=mt;break}}return at===e&&C!==e&&(at=C),at},s=function S(C){for(var N=this.internal.write,nt=this.internal.putStream,ft=(0,this.internal.getFilters)();ft.indexOf("FlateEncode")!==-1;)ft.splice(ft.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var gt=[];if(gt.push({key:"Type",value:"/XObject"}),gt.push({key:"Subtype",value:"/Image"}),gt.push({key:"Width",value:C.width}),gt.push({key:"Height",value:C.height}),C.colorSpace===_.INDEXED?gt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(gt.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===_.DEVICE_CMYK&&gt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),gt.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&gt.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var mt="",at=0,Et=C.transparency.length;at<Et;at++)mt+=C.transparency[at]+" "+C.transparency[at]+" ";gt.push({key:"Mask",value:"["+mt+"]"})}C.sMask!==void 0&&gt.push({key:"SMask",value:C.objectId+1+" 0 R"});var jt=C.filter!==void 0?["/"+C.filter]:void 0;if(nt({data:C.data,additionalKeyValues:gt,alreadyAppliedFilters:jt,objectId:C.objectId}),N("endobj"),"sMask"in C&&C.sMask!==void 0){var kt,V=(kt=C.sMaskBitsPerComponent)!==null&&kt!==void 0?kt:C.bitsPerComponent,J={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:C.sMask};"filter"in C&&(J.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(C.width),J.filter=C.filter),S.call(this,J)}if(C.colorSpace===_.INDEXED){var et=this.internal.newObject();nt({data:T(new Uint8Array(C.palette)),objectId:et}),N("endobj")}},o=function(){var S=this.internal.collections[t+"images"];for(var C in S)s.call(this,S[C])},a=function(){var S,C=this.internal.collections[t+"images"],N=this.internal.write;for(var nt in C)N("/I"+(S=C[nt]).index,S.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var S=this.internal.collections[t+"images"];return l.call(this),S},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(S){return typeof n["process"+S.toUpperCase()]=="function"},g=function(S){return _n(S)==="object"&&S.nodeType===1},p=function(S,C){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var N=""+S.getAttribute("src");if(N.indexOf("data:image/")===0)return Ip(unescape(N).split("base64,").pop());var nt=n.loadFile(N,!0);if(nt!==void 0)return nt}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ft;switch(C){case"PNG":ft="image/png";break;case"WEBP":ft="image/webp";break;default:ft="image/jpeg"}return Ip(S.toDataURL(ft,1).split("base64,").pop())}},y=function(S){var C=this.internal.collections[t+"images"];if(C){for(var N in C)if(S===C[N].alias)return C[N]}},b=function(S,C,N){return S||C||(S=-96,C=-96),S<0&&(S=-1*N.width*72/S/this.internal.scaleFactor),C<0&&(C=-1*N.height*72/C/this.internal.scaleFactor),S===0&&(S=C*N.width/N.height),C===0&&(C=S*N.height/N.width),[S,C]},w=function(S,C,N,nt,ft,gt){var mt=b.call(this,N,nt,ft),at=this.internal.getCoordinateString,Et=this.internal.getVerticalCoordinateString,jt=c.call(this);if(N=mt[0],nt=mt[1],jt[ft.index]=ft,gt){gt*=Math.PI/180;var kt=Math.cos(gt),V=Math.sin(gt),J=function(st){return st.toFixed(4)},et=[J(kt),J(V),J(-1*V),J(kt),0,0,"cm"]}this.internal.write("q"),gt?(this.internal.write([1,"0","0",1,at(S),Et(C+nt),"cm"].join(" ")),this.internal.write(et.join(" ")),this.internal.write([at(N),"0","0",at(nt),"0","0","cm"].join(" "))):this.internal.write([at(N),"0","0",at(nt),at(S),Et(C+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ft.index+" Do"),this.internal.write("Q")},_=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=n.__addimage__.sHashCode=function(S){var C,N,nt=0;if(typeof S=="string")for(N=S.length,C=0;C<N;C++)nt=(nt<<5)-nt+S.charCodeAt(C),nt|=0;else if(it(S))for(N=S.byteLength/2,C=0;C<N;C++)nt=(nt<<5)-nt+S[C],nt|=0;return nt},D=n.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var C=!0;return S.length===0&&(C=!1),S.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(C=!1),C},W=n.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var C=S.indexOf(",");return C<0?null:S.substring(0,C).trim().endsWith("base64")?S.substring(C+1):null};n.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var it=n.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(S){for(var C=S.length,N=new Uint8Array(C),nt=0;nt<C;nt++)N[nt]=S.charCodeAt(nt);return N},T=n.__addimage__.arrayBufferToBinaryString=function(S){for(var C="",N=it(S)?S:new Uint8Array(S),nt=0;nt<N.length;nt+=8192)C+=String.fromCharCode.apply(null,N.subarray(nt,nt+8192));return C};n.addImage=function(){var S,C,N,nt,ft,gt,mt,at,Et;if(typeof arguments[1]=="number"?(C=e,N=arguments[1],nt=arguments[2],ft=arguments[3],gt=arguments[4],mt=arguments[5],at=arguments[6],Et=arguments[7]):(C=arguments[1],N=arguments[2],nt=arguments[3],ft=arguments[4],gt=arguments[5],mt=arguments[6],at=arguments[7],Et=arguments[8]),_n(S=arguments[0])==="object"&&!g(S)&&"imageData"in S){var jt=S;S=jt.imageData,C=jt.format||C||e,N=jt.x||N||0,nt=jt.y||nt||0,ft=jt.w||jt.width||ft,gt=jt.h||jt.height||gt,mt=jt.alias||mt,at=jt.compression||at,Et=jt.rotation||jt.angle||Et}var kt=this.internal.getFilters();if(at===void 0&&kt.indexOf("FlateEncode")!==-1&&(at="SLOW"),isNaN(N)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=P.call(this,S,C,mt,at);return w.call(this,N,nt,ft,gt,V,Et),this};var P=function(S,C,N,nt){var ft,gt,mt;if(typeof S=="string"&&r(S)===e){S=unescape(S);var at=F(S,!1);(at!==""||(at=n.loadFile(S,!0))!==void 0)&&(S=at)}if(g(S)&&(S=p(S,C)),C=r(S,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((mt=N)==null||mt.length===0)&&(N=(function(Et){return typeof Et=="string"||it(Et)?k(Et):it(Et.data)?k(Et.data):null})(S)),(ft=y.call(this,N))||(S instanceof Uint8Array||C==="RGBA"||(gt=S,S=L(S)),ft=this["process"+C.toUpperCase()](S,u.call(this),N,(function(Et){return Et&&typeof Et=="string"&&(Et=Et.toUpperCase()),Et in n.image_compression?Et:E.NONE})(nt),gt)),!ft)throw new Error("An unknown error occurred whilst processing the image.");return ft},F=n.__addimage__.convertBase64ToBinaryString=function(S,C){C=typeof C!="boolean"||C;var N,nt="";if(typeof S=="string"){var ft;N=(ft=W(S))!==null&&ft!==void 0?ft:S;try{nt=Ip(N)}catch(gt){if(C)throw D(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+gt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return nt};n.getImageProperties=function(S){var C,N,nt="";if(g(S)&&(S=p(S)),typeof S=="string"&&r(S)===e&&((nt=F(S,!1))===""&&(nt=n.loadFile(S)||""),S=nt),N=r(S),!h(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(S instanceof Uint8Array||(S=L(S)),!(C=this["process"+N.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=N,C}})(pe.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};pe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((i=c[h]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){i=c[g];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(b.objId),E=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+p(_(i.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(_(E))+") >>",b.content=s;var k=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+k,i.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var D=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var W=this.annotations._nameMap[i.options.name];i.options.pageNumber=W.page,i.options.top=W.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var it=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+it+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(e,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(e,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,a,o,s),l},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(pe.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=n.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&r.indexOf(b.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(b){var w=0,_=e,E="",k=0;for(w=0;w<b.length;w+=1)_[b.charCodeAt(w)]!==void 0?(k++,typeof(_=_[b.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(_),_=e,k=0),w===b.length-1&&(_=e,E+=b.charAt(w-(k-1)),w-=k-1,k=0)):(_=e,E+=b.charAt(w-k),w-=k,k=0);return E};n.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(b,w,_){return o(b)?s(b)===!1?-1:!c(b)||!o(w)&&!o(_)||!o(_)&&a(w)||a(b)&&!o(w)||a(b)&&l(w)||a(b)&&a(w)?0:u(b)&&o(w)&&!a(w)&&o(_)&&c(_)?3:a(b)||!o(_)?1:2:-1},p=function(b){var w=0,_=0,E=0,k="",D="",W="",it=(b=b||"").split("\\s+"),L=[];for(w=0;w<it.length;w+=1){for(L.push(""),_=0;_<it[w].length;_+=1)k=it[w][_],D=it[w][_-1],W=it[w][_+1],o(k)?(E=g(k,D,W),L[w]+=E!==-1?String.fromCharCode(t[k.charCodeAt(0)][E]):k):L[w]+=k;L[w]=h(L[w])}return L.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(w)){var E=0;for(_=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?_.push([p(w[E][0]),w[E][1],w[E][2]]):_.push([p(w[E])]);b=_}else b=p(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};n.events.push(["preProcessText",y])})(pe.API),pe.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(pe.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,D){return k.concat(w.splitTextToSize(D,_))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)p<(b=this.getStringUnitWidth(l[E],{font:h})*u)&&(p=b);return p!==0&&(y=l.length),{w:p/=g,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,g){if(i.call(this),!u)throw new Error("No data for PDF table.");var p,y,b,w,_=[],E=[],k=[],D={},W={},it=[],L=[],T=(g=g||{}).autoSize||!1,P=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,S=g.margins||Object.assign({width:this.getPageWidth()},t),C=typeof g.padding=="number"?g.padding:3,N=g.headerBackgroundColor||"#c8c8c8",nt=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=nt,this.setFontSize(F),h==null)E=_=Object.keys(u[0]),k=_.map(function(){return"left"});else if(Array.isArray(h)&&_n(h[0])==="object")for(_=h.map(function(jt){return jt.name}),E=h.map(function(jt){return jt.prompt||jt.name||""}),k=h.map(function(jt){return jt.align||"left"}),p=0;p<h.length;p+=1)W[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(E=_=h,k=_.map(function(){return"left"}));if(T||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<_.length;p+=1){for(D[w=_[p]]=u.map(function(jt){return jt[w]}),this.setFont(void 0,"bold"),it.push(this.getTextDimensions(E[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=D[w],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)it.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[w]=Math.max.apply(null,it)+C+C,it=[]}if(P){var ft={};for(p=0;p<_.length;p+=1)ft[_[p]]={},ft[_[p]].text=E[p],ft[_[p]].align=k[p];var gt=a.call(this,ft,W);L=_.map(function(jt){return new s(l,c,W[jt],gt,ft[jt].text,void 0,ft[jt].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var mt=h.reduce(function(jt,kt){return jt[kt.name]=kt.align,jt},{});for(p=0;p<u.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:u[p]},this);var at=a.call(this,u[p],W);for(b=0;b<_.length;b+=1){var Et=u[p][_[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:b,data:Et},this),o.call(this,new s(l,c,W[_[b]],at,Et,p+2,mt[_[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+u+u},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}})(pe.API);var cI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X0=lI(uI),hI=[100,200,300,400,500,600,700,800,900],pU=lI(hI);function k1(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return cI[s=s||"normal"]?s:"normal"})(n.style),i=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),r=(function(s){return typeof X0[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function _w(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var gU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ww(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Aw(n){return n.trimLeft()}function mU(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function yU(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Hd,xw,Sw,zc,$d,Ew,Tw,Iw,C1=["times"];function Pw(n,t,e,i,r){var s=4,o=Cw;switch(r){case pe.API.image_compression.FAST:s=1,o=kw;break;case pe.API.image_compression.MEDIUM:s=6,o=Rw;break;case pe.API.image_compression.SLOW:s=9,o=Nw}n=(function(l,c,u,h){for(var g,p=l.length/c,y=new Uint8Array(l.length+p),b=[vU,kw,Cw,Rw,Nw],w=0;w<p;w+=1){var _=w*c,E=l.subarray(_,_+c);if(h)y.set(h(E,u,g),_+w);else{for(var k=b.length,D=[],W=0;W<k;W+=1)D[W]=b[W](E,u,g);var it=bU(D.concat());y.set(D[it],_+w)}g=E}return y})(n,t,Math.ceil(e*i/8),o);var a=H0(n,{level:s});return pe.API.__addimage__.arrayBufferToBinaryString(a)}function vU(n){var t=Array.apply([],n);return t.unshift(0),t}function kw(n,t){var e=n.length,i=[];i[0]=1;for(var r=0;r<e;r+=1){var s=n[r-t]||0;i[r+1]=n[r]-s+256&255}return i}function Cw(n,t,e){var i=n.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var o=e&&e[s]||0;r[s+1]=n[s]-o+256&255}return r}function Rw(n,t,e){var i=n.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var o=n[s-t]||0,a=e&&e[s]||0;r[s+1]=n[s]+256-(o+a>>>1)&255}return r}function Nw(n,t,e){var i=n.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var o=_U(n[s-t]||0,e&&e[s]||0,e&&e[s-t]||0);r[s+1]=n[s]-o+256&255}return r}function _U(n,t,e){if(n===t&&t===e)return n;var i=Math.abs(t-e),r=Math.abs(n-e),s=Math.abs(n+t-e-e);return i<=r&&i<=s?n:r<=s?t:e}function bU(n){var t=n.map(function(e){return e.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function R1(n,t,e){var i=t*e,r=Math.floor(i/8),s=16-(i-8*r+e),o=(1<<e)-1;return fI(n,r)>>s&o}function Lw(n,t,e,i){var r=e*i,s=Math.floor(r/8),o=16-(r-8*s+i),a=(1<<i)-1,l=(t&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var g=h>>8&255;c.setUint8(u,g)}})(n,s,fI(n,s)&~(a<<o)&65535|l)}function fI(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function wU(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<1+(7&r);n[t++],n[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],h=0,g=null,p=0,y=null;for(this.width=e,this.height=i;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,y=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=n[t++];h=n[t++]|n[t++]<<8,g=n[t++],1&b||(g=null),p=b>>2&7,t++;break;case 254:for(;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var w=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,E=n[t++]|n[t++]<<8,k=n[t++]|n[t++]<<8,D=n[t++],W=D>>6&1,it=1<<1+(7&D),L=a,T=l,P=!1;D>>7&&(P=!0,L=t,T=it,t+=3*it);var F=t;for(t++;;){var S;if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}u.push({x:w,y:_,width:E,height:k,has_local_palette:P,palette_offset:L,palette_size:T,data_offset:F,data_length:t-F,transparent_index:g,interlaced:!!W,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,N){var nt=this.frameInfo(C),ft=nt.width*nt.height,gt=new Uint8Array(ft);Ow(n,nt.data_offset,gt,ft);var mt=nt.palette_offset,at=nt.transparent_index;at===null&&(at=256);var Et=nt.width,jt=e-Et,kt=Et,V=4*(nt.y*e+nt.x),J=4*((nt.y+nt.height)*e+nt.x),et=V,st=4*jt;nt.interlaced===!0&&(st+=4*e*7);for(var ct=8,tt=0,lt=gt.length;tt<lt;++tt){var ot=gt[tt];if(kt===0&&(kt=Et,(et+=st)>=J&&(st=4*jt+4*e*(ct-1),et=V+(Et+jt)*(ct<<1),ct>>=1)),ot===at)et+=4;else{var dt=n[mt+3*ot],Nt=n[mt+3*ot+1],H=n[mt+3*ot+2];N[et++]=H,N[et++]=Nt,N[et++]=dt,N[et++]=255}--kt}},this.decodeAndBlitFrameRGBA=function(C,N){var nt=this.frameInfo(C),ft=nt.width*nt.height,gt=new Uint8Array(ft);Ow(n,nt.data_offset,gt,ft);var mt=nt.palette_offset,at=nt.transparent_index;at===null&&(at=256);var Et=nt.width,jt=e-Et,kt=Et,V=4*(nt.y*e+nt.x),J=4*((nt.y+nt.height)*e+nt.x),et=V,st=4*jt;nt.interlaced===!0&&(st+=4*e*7);for(var ct=8,tt=0,lt=gt.length;tt<lt;++tt){var ot=gt[tt];if(kt===0&&(kt=Et,(et+=st)>=J&&(st=4*jt+4*e*(ct-1),et=V+(Et+jt)*(ct<<1),ct>>=1)),ot===at)et+=4;else{var dt=n[mt+3*ot],Nt=n[mt+3*ot+1],H=n[mt+3*ot+2];N[et++]=dt,N[et++]=Nt,N[et++]=H,N[et++]=255}--kt}}}function Ow(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,h=0,g=0,p=n[t++],y=new Int32Array(4096),b=null;;){for(;u<16&&p!==0;)h|=n[t++]<<u,u+=8,p===1?p=n[t++]:--p;if(u<l)break;var w=h&c;if(h>>=l,u-=l,w!==s){if(w===o)break;for(var _=w<a?w:b,E=0,k=_;k>s;)k=y[k]>>8,++E;var D=k;if(g+E+(_!==w?1:0)>i)return void xn.log("Warning, gif stream longer than expected.");e[g++]=D;var W=g+=E;for(_!==w&&(e[g++]=D),k=_;E--;)k=y[k],e[--W]=255&k,k>>=8;b!==null&&a<4096&&(y[a++]=b<<8|D,a>=c+1&&l<12&&(++l,c=c<<1|1)),b=w}else a=o+1,c=(1<<(l=r+1))-1,b=null}return g!==i&&xn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N1(n){var t,e,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),y=new Array(64),b=[],w=0,_=7,E=new Array(64),k=new Array(64),D=new Array(64),W=new Array(256),it=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ft=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function gt(V,J){for(var et=0,st=0,ct=new Array,tt=1;tt<=16;tt++){for(var lt=1;lt<=V[tt];lt++)ct[J[st]]=[],ct[J[st]][0]=et,ct[J[st]][1]=tt,st++,et++;et*=2}return ct}function mt(V){for(var J=V[0],et=V[1]-1;et>=0;)J&1<<et&&(w|=1<<_),et--,--_<0&&(w==255?(at(255),at(0)):at(w),_=7,w=0)}function at(V){b.push(V)}function Et(V){at(V>>8&255),at(255&V)}function jt(V,J,et,st,ct){for(var tt,lt=ct[0],ot=ct[240],dt=(function(yt,It){var _t,zt,Rt,Yt,$t,Ht,ne,Xt,ee,oe,ie=0;for(ee=0;ee<8;++ee){_t=yt[ie],zt=yt[ie+1],Rt=yt[ie+2],Yt=yt[ie+3],$t=yt[ie+4],Ht=yt[ie+5],ne=yt[ie+6];var Ne=_t+(Xt=yt[ie+7]),Be=_t-Xt,le=zt+ne,he=zt-ne,je=Rt+Ht,me=Rt-Ht,De=Yt+$t,Ie=Yt-$t,Bn=Ne+De,Nn=Ne-De,an=le+je,we=le-je;yt[ie]=Bn+an,yt[ie+4]=Bn-an;var qe=.707106781*(we+Nn);yt[ie+2]=Nn+qe,yt[ie+6]=Nn-qe;var js=.382683433*((Bn=Ie+me)-(we=he+Be)),ni=.5411961*Bn+js,es=1.306562965*we+js,qi=.707106781*(an=me+he),ve=Be+qi,Ln=Be-qi;yt[ie+5]=Ln+ni,yt[ie+3]=Ln-ni,yt[ie+1]=ve+es,yt[ie+7]=ve-es,ie+=8}for(ie=0,ee=0;ee<8;++ee){_t=yt[ie],zt=yt[ie+8],Rt=yt[ie+16],Yt=yt[ie+24],$t=yt[ie+32],Ht=yt[ie+40],ne=yt[ie+48];var ns=_t+(Xt=yt[ie+56]),Ei=_t-Xt,Ti=zt+ne,jn=zt-ne,di=Rt+Ht,Un=Rt-Ht,Po=Yt+$t,Us=Yt-$t,zi=ns+Po,Nr=ns-Po,ar=Ti+di,Hi=Ti-di;yt[ie]=zi+ar,yt[ie+32]=zi-ar;var ii=.707106781*(Hi+Nr);yt[ie+16]=Nr+ii,yt[ie+48]=Nr-ii;var qs=.382683433*((zi=Us+Un)-(Hi=jn+Ei)),Lr=.5411961*zi+qs,vs=1.306562965*Hi+qs,zs=.707106781*(ar=Un+jn),ko=Ei+zs,Co=Ei-zs;yt[ie+40]=Co+Lr,yt[ie+24]=Co-Lr,yt[ie+8]=ko+vs,yt[ie+56]=ko-vs,ie++}for(ee=0;ee<64;++ee)oe=yt[ee]*It[ee],p[ee]=oe>0?oe+.5|0:oe-.5|0;return p})(V,J),Nt=0;Nt<64;++Nt)y[L[Nt]]=dt[Nt];var H=y[0]-et;et=y[0],H==0?mt(st[0]):(mt(st[g[tt=32767+H]]),mt(h[tt]));for(var K=63;K>0&&y[K]==0;)K--;if(K==0)return mt(lt),et;for(var G,j=1;j<=K;){for(var Tt=j;y[j]==0&&j<=K;)++j;var At=j-Tt;if(At>=16){G=At>>4;for(var Ct=1;Ct<=G;++Ct)mt(ot);At&=15}tt=32767+y[j],mt(ct[(At<<4)+g[tt]]),mt(h[tt]),j++}return K!=63&&mt(lt),et}function kt(V){V=Math.min(Math.max(V,1),100),s!=V&&((function(J){for(var et=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var ct=o((et[st]*J+50)/100);ct=Math.min(Math.max(ct,1),255),a[L[st]]=ct}for(var tt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],lt=0;lt<64;lt++){var ot=o((tt[lt]*J+50)/100);ot=Math.min(Math.max(ot,1),255),l[L[lt]]=ot}for(var dt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,H=0;H<8;H++)for(var K=0;K<8;K++)c[Nt]=1/(a[L[Nt]]*dt[H]*dt[K]*8),u[Nt]=1/(l[L[Nt]]*dt[H]*dt[K]*8),Nt++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,J){J&&kt(J),b=new Array,w=0,_=7,Et(65496),Et(65504),Et(16),at(74),at(70),at(73),at(70),at(0),at(1),at(1),at(0),Et(1),Et(1),at(0),at(0),(function(){Et(65499),Et(132),at(0);for(var zt=0;zt<64;zt++)at(a[zt]);at(1);for(var Rt=0;Rt<64;Rt++)at(l[Rt])})(),(function(zt,Rt){Et(65472),Et(17),at(8),Et(Rt),Et(zt),at(3),at(1),at(17),at(0),at(2),at(17),at(1),at(3),at(17),at(1)})(V.width,V.height),(function(){Et(65476),Et(418),at(0);for(var zt=0;zt<16;zt++)at(T[zt+1]);for(var Rt=0;Rt<=11;Rt++)at(P[Rt]);at(16);for(var Yt=0;Yt<16;Yt++)at(F[Yt+1]);for(var $t=0;$t<=161;$t++)at(S[$t]);at(1);for(var Ht=0;Ht<16;Ht++)at(C[Ht+1]);for(var ne=0;ne<=11;ne++)at(N[ne]);at(17);for(var Xt=0;Xt<16;Xt++)at(nt[Xt+1]);for(var ee=0;ee<=161;ee++)at(ft[ee])})(),Et(65498),Et(12),at(3),at(1),at(0),at(2),at(17),at(3),at(17),at(0),at(63),at(0);var et=0,st=0,ct=0;w=0,_=7,this.encode.displayName="_encode_";for(var tt,lt,ot,dt,Nt,H,K,G,j,Tt=V.data,At=V.width,Ct=V.height,yt=4*At,It=0;It<Ct;){for(tt=0;tt<yt;){for(Nt=yt*It+tt,K=-1,G=0,j=0;j<64;j++)H=Nt+(G=j>>3)*yt+(K=4*(7&j)),It+G>=Ct&&(H-=yt*(It+1+G-Ct)),tt+K>=yt&&(H-=tt+K-yt+4),lt=Tt[H++],ot=Tt[H++],dt=Tt[H++],E[j]=(it[lt]+it[ot+256|0]+it[dt+512|0]>>16)-128,k[j]=(it[lt+768|0]+it[ot+1024|0]+it[dt+1280|0]>>16)-128,D[j]=(it[lt+1280|0]+it[ot+1536|0]+it[dt+1792|0]>>16)-128;et=jt(E,c,et,t,i),st=jt(k,u,st,e,r),ct=jt(D,u,ct,e,r),tt+=32}It+=8}if(_>=0){var _t=[];_t[1]=_+1,_t[0]=(1<<_+1)-1,mt(_t)}return Et(65497),new Uint8Array(b)},n=n||50,(function(){for(var V=String.fromCharCode,J=0;J<256;J++)W[J]=V(J)})(),t=gt(T,P),e=gt(C,N),i=gt(F,S),r=gt(nt,ft),(function(){for(var V=1,J=2,et=1;et<=15;et++){for(var st=V;st<J;st++)g[32767+st]=et,h[32767+st]=[],h[32767+st][1]=et,h[32767+st][0]=st;for(var ct=-(J-1);ct<=-V;ct++)g[32767+ct]=et,h[32767+ct]=[],h[32767+ct][1]=et,h[32767+ct][0]=J-1+ct;V<<=1,J<<=1}})(),(function(){for(var V=0;V<256;V++)it[V]=19595*V,it[V+256|0]=38470*V,it[V+512|0]=7471*V+32768,it[V+768|0]=-11059*V,it[V+1024|0]=-21709*V,it[V+1280|0]=32768*V+8421375,it[V+1536|0]=-27439*V,it[V+1792|0]=-5329*V})(),kt(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Is(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dw(n){function t(P){if(!P)throw Error("assert :P")}function e(P,F,S){for(var C=0;4>C;C++)if(P[F+C]!=S.charCodeAt(C))return!0;return!1}function i(P,F,S,C,N){for(var nt=0;nt<N;nt++)P[F+nt]=S[C+nt]}function r(P,F,S,C){for(var N=0;N<C;N++)P[F+N]=S}function s(P){return new Int32Array(P)}function o(P,F){for(var S=[],C=0;C<P;C++)S.push(new F);return S}function a(P,F){var S=[];return(function C(N,nt,ft){for(var gt=ft[nt],mt=0;mt<gt&&(N.push(ft.length>nt+1?[]:new F),!(ft.length<nt+1));mt++)C(N[mt],nt+1,ft)})(S,0,P),S}var l=function(){var P=this;function F(f,m){for(var A=1<<m-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function S(f,m,A,I,M){t(!(I%A));do f[m+(I-=A)]=M;while(0<I)}function C(f,m,A,I,M){if(t(2328>=M),512>=M)var B=s(512);else if((B=s(M))==null)return 0;return(function(U,q,$,Q,ut,xt){var Z,ht,bt=q,Lt=1<<$,wt=s(16),Dt=s(16);for(t(ut!=0),t(Q!=null),t(U!=null),t(0<$),ht=0;ht<ut;++ht){if(15<Q[ht])return 0;++wt[Q[ht]]}if(wt[0]==ut)return 0;for(Dt[1]=0,Z=1;15>Z;++Z){if(wt[Z]>1<<Z)return 0;Dt[Z+1]=Dt[Z]+wt[Z]}for(ht=0;ht<ut;++ht)Z=Q[ht],0<Q[ht]&&(xt[Dt[Z]++]=ht);if(Dt[15]==1)return(Q=new N).g=0,Q.value=xt[0],S(U,bt,1,Lt,Q),Lt;var Mt,qt=-1,Ut=Lt-1,ge=0,ae=1,Fe=1,fe=1<<$;for(ht=0,Z=1,ut=2;Z<=$;++Z,ut<<=1){if(ae+=Fe<<=1,0>(Fe-=wt[Z]))return 0;for(;0<wt[Z];--wt[Z])(Q=new N).g=Z,Q.value=xt[ht++],S(U,bt+ge,ut,fe,Q),ge=F(ge,Z)}for(Z=$+1,ut=2;15>=Z;++Z,ut<<=1){if(ae+=Fe<<=1,0>(Fe-=wt[Z]))return 0;for(;0<wt[Z];--wt[Z]){if(Q=new N,(ge&Ut)!=qt){for(bt+=fe,Mt=1<<(qt=Z)-$;15>qt&&!(0>=(Mt-=wt[qt]));)++qt,Mt<<=1;Lt+=fe=1<<(Mt=qt-$),U[q+(qt=ge&Ut)].g=Mt+$,U[q+qt].value=bt-q-qt}Q.g=Z-$,Q.value=xt[ht++],S(U,bt+(ge>>$),ut,fe,Q),ge=F(ge,Z)}}return ae!=2*Dt[15]-1?0:Lt})(f,m,A,I,M,B)}function N(){this.value=this.g=0}function nt(){this.value=this.g=0}function ft(){this.G=o(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zl,nt)}function gt(f,m,A,I){t(f!=null),t(m!=null),t(2147483648>I),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=m,f.pa=A,f.Jd=m,f.Yc=A+I,f.Zc=4<=I?A+I-4+1:A,lt(f)}function mt(f,m){for(var A=0;0<m--;)A|=dt(f,128)<<m;return A}function at(f,m){var A=mt(f,m);return ot(f)?-A:A}function Et(f,m,A,I){var M,B=0;for(t(f!=null),t(m!=null),t(4294967288>I),f.Sb=I,f.Ra=0,f.u=0,f.h=0,4<I&&(I=4),M=0;M<I;++M)B+=m[A+M]<<8*M;f.Ra=B,f.bb=I,f.oa=m,f.pa=A}function jt(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Pa-8>>>0,++f.bb,f.u-=8;st(f)&&(f.h=1,f.u=0)}function kt(f,m){if(t(0<=m),!f.h&&m<=Br){var A=et(f)&Vr[m];return f.u+=m,jt(f),A}return f.h=1,f.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function et(f){return f.Ra>>>(f.u&Pa-1)>>>0}function st(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Pa}function ct(f,m){f.u=m,f.h=st(f)}function tt(f){f.u>=Fo&&(t(f.u>=Fo),jt(f))}function lt(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ot(f){return mt(f,1)}function dt(f,m){var A=f.Ca;0>f.b&&lt(f);var I=f.b,M=A*m>>>8,B=(f.I>>>I>M)+0;for(B?(A-=M,f.I-=M+1<<I>>>0):A=M+1,I=A,M=0;256<=I;)M+=8,I>>=8;return I=7^M+ka[I],f.b-=I,f.Ca=(A<<I)-1,B}function Nt(f,m,A){f[m+0]=A>>24&255,f[m+1]=A>>16&255,f[m+2]=A>>8&255,f[m+3]=255&A}function H(f,m){return f[m+0]|f[m+1]<<8}function K(f,m){return H(f,m)|f[m+2]<<16}function G(f,m){return H(f,m)|H(f,m+2)<<16}function j(f,m){var A=1<<m;return t(f!=null),t(0<m),f.X=s(A),f.X==null?0:(f.Mb=32-m,f.Xa=m,1)}function Tt(f,m){t(f!=null),t(m!=null),t(f.Xa==m.Xa),i(m.X,0,f.X,0,1<<m.Xa)}function At(){this.X=[],this.Xa=this.Mb=0}function Ct(f,m,A,I){t(A!=null),t(I!=null);var M=A[0],B=I[0];return M==0&&(M=(f*B+m/2)/m),B==0&&(B=(m*M+f/2)/f),0>=M||0>=B?0:(A[0]=M,I[0]=B,1)}function yt(f,m){return f+(1<<m)-1>>>m}function It(f,m){return((4278255360&f)+(4278255360&m)>>>0&4278255360)+((16711935&f)+(16711935&m)>>>0&16711935)>>>0}function _t(f,m){P[m]=function(A,I,M,B,U,q,$){var Q;for(Q=0;Q<U;++Q){var ut=P[f](q[$+Q-1],M,B+Q);q[$+Q]=It(A[I+Q],ut)}}}function zt(){this.ud=this.hd=this.jd=0}function Rt(f,m){return((4278124286&(f^m))>>>1)+(f&m)>>>0}function Yt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function $t(f,m){return Yt(f+(f-m+.5>>1))}function Ht(f,m,A){return Math.abs(m-A)-Math.abs(f-A)}function ne(f,m,A,I,M,B,U){for(I=B[U-1],A=0;A<M;++A)B[U+A]=I=It(f[m+A],I)}function Xt(f,m,A,I,M){var B;for(B=0;B<A;++B){var U=f[m+B],q=U>>8&255,$=16711935&($=($=16711935&U)+((q<<16)+q));I[M+B]=(4278255360&U)+$>>>0}}function ee(f,m){m.jd=255&f,m.hd=f>>8&255,m.ud=f>>16&255}function oe(f,m,A,I,M,B){var U;for(U=0;U<I;++U){var q=m[A+U],$=q>>>8,Q=q,ut=255&(ut=(ut=q>>>16)+((f.jd<<24>>24)*($<<24>>24)>>>5));Q=255&(Q=(Q+=(f.hd<<24>>24)*($<<24>>24)>>>5)+((f.ud<<24>>24)*(ut<<24>>24)>>>5)),M[B+U]=(4278255360&q)+(ut<<16)+Q}}function ie(f,m,A,I,M){P[m]=function(B,U,q,$,Q,ut,xt,Z,ht){for($=xt;$<Z;++$)for(xt=0;xt<ht;++xt)Q[ut++]=M(q[I(B[U++])])},P[f]=function(B,U,q,$,Q,ut,xt){var Z=8>>B.b,ht=B.Ea,bt=B.K[0],Lt=B.w;if(8>Z)for(B=(1<<B.b)-1,Lt=(1<<Z)-1;U<q;++U){var wt,Dt=0;for(wt=0;wt<ht;++wt)wt&B||(Dt=I($[Q++])),ut[xt++]=M(bt[Dt&Lt]),Dt>>=Z}else P["VP8LMapColor"+A]($,Q,bt,Lt,ut,xt,U,q,ht)}}function Ne(f,m,A,I,M){for(A=m+A;m<A;){var B=f[m++];I[M++]=B>>16&255,I[M++]=B>>8&255,I[M++]=255&B}}function Be(f,m,A,I,M){for(A=m+A;m<A;){var B=f[m++];I[M++]=B>>16&255,I[M++]=B>>8&255,I[M++]=255&B,I[M++]=B>>24&255}}function le(f,m,A,I,M){for(A=m+A;m<A;){var B=(U=f[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;I[M++]=B,I[M++]=U}}function he(f,m,A,I,M){for(A=m+A;m<A;){var B=(U=f[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;I[M++]=B,I[M++]=U}}function je(f,m,A,I,M){for(A=m+A;m<A;){var B=f[m++];I[M++]=255&B,I[M++]=B>>8&255,I[M++]=B>>16&255}}function me(f,m,A,I,M,B){if(B==0)for(A=m+A;m<A;)Nt(I,((B=f[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),M+=32;else i(I,M,f,m,A)}function De(f,m){P[m][0]=P[f+"0"],P[m][1]=P[f+"1"],P[m][2]=P[f+"2"],P[m][3]=P[f+"3"],P[m][4]=P[f+"4"],P[m][5]=P[f+"5"],P[m][6]=P[f+"6"],P[m][7]=P[f+"7"],P[m][8]=P[f+"8"],P[m][9]=P[f+"9"],P[m][10]=P[f+"10"],P[m][11]=P[f+"11"],P[m][12]=P[f+"12"],P[m][13]=P[f+"13"],P[m][14]=P[f+"0"],P[m][15]=P[f+"0"]}function Ie(f){return f==Em||f==Tm||f==md||f==Im}function Bn(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function an(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bn,this.f.kb=new Nn,this.sd=null}function we(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function js(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function ni(f,m){var A=f.T,I=m.ba.f.RGBA,M=I.eb,B=I.fb+f.ka*I.A,U=ls[m.ba.S],q=f.y,$=f.O,Q=f.f,ut=f.N,xt=f.ea,Z=f.W,ht=m.cc,bt=m.dc,Lt=m.Mc,wt=m.Nc,Dt=f.ka,Mt=f.ka+f.T,qt=f.U,Ut=qt+1>>1;for(Dt==0?U(q,$,null,null,Q,ut,xt,Z,Q,ut,xt,Z,M,B,null,null,qt):(U(m.ec,m.fc,q,$,ht,bt,Lt,wt,Q,ut,xt,Z,M,B-I.A,M,B,qt),++A);Dt+2<Mt;Dt+=2)ht=Q,bt=ut,Lt=xt,wt=Z,ut+=f.Rc,Z+=f.Rc,B+=2*I.A,U(q,($+=2*f.fa)-f.fa,q,$,ht,bt,Lt,wt,Q,ut,xt,Z,M,B-I.A,M,B,qt);return $+=f.fa,f.j+Mt<f.o?(i(m.ec,m.fc,q,$,qt),i(m.cc,m.dc,Q,ut,Ut),i(m.Mc,m.Nc,xt,Z,Ut),A--):1&Mt||U(q,$,null,null,Q,ut,xt,Z,Q,ut,xt,Z,M,B+I.A,null,null,qt),A}function es(f,m,A){var I=f.F,M=[f.J];if(I!=null){var B=f.U,U=m.ba.S,q=U==gd||U==md;m=m.ba.f.RGBA;var $=[0],Q=f.ka;$[0]=f.T,f.Kb&&(Q==0?--$[0]:(--Q,M[0]-=f.width),f.j+f.ka+f.T==f.o&&($[0]=f.o-f.j-Q));var ut=m.eb;Q=m.fb+Q*m.A,f=rv(I,M[0],f.width,B,$,ut,Q+(q?0:3),m.A),t(A==$),f&&Ie(U)&&fh(ut,Q,q,B,$,m.A)}return 0}function qi(f){var m=f.ma,A=m.ba.S,I=11>A,M=A==dd||A==pd||A==gd||A==Sm||A==12||Ie(A);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!rh(m.Oa,f,M?11:12))return 0;if(M&&Ie(A)&&ql(),f.da)alert("todo:use_scaling");else{if(I){if(m.Ib=js,f.Kb){if(A=f.U+1>>1,m.memory=s(f.U+2*A),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+f.U,m.Mc=m.cc,m.Nc=m.dc+A,m.Ib=ni,ql()}}else alert("todo:EmitYUV");M&&(m.Jb=es,I&&En())}if(I&&!bv){for(f=0;256>f;++f)U3[f]=89858*(f-128)+vd>>yd,H3[f]=-22014*(f-128)+vd,z3[f]=-45773*(f-128),q3[f]=113618*(f-128)+vd>>yd;for(f=ph;f<Cm;++f)m=76283*(f-16)+vd>>yd,$3[f-ph]=Ue(m,255),W3[f-ph]=Ue(m+8>>4,15);bv=1}return 1}function ve(f){var m=f.ma,A=f.U,I=f.T;return t(!(1&f.ka)),0>=A||0>=I?0:(A=m.Ib(f,m),m.Jb!=null&&m.Jb(f,m,A),m.Dc+=A,1)}function Ln(f){f.ma.memory=null}function ns(f,m,A,I){return kt(f,8)!=47?0:(m[0]=kt(f,14)+1,A[0]=kt(f,14)+1,I[0]=kt(f,1),kt(f,3)!=0?0:!f.h)}function Ei(f,m){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+kt(m,A)+1}function Ti(f,m){return 120<m?m-120:1<=(A=((A=I3[m-1])>>4)*f+(8-(15&A)))?A:1;var A}function jn(f,m,A){var I=et(A),M=f[m+=255&I].g-8;return 0<M&&(ct(A,A.u+8),I=et(A),m+=f[m].value,m+=I&(1<<M)-1),ct(A,A.u+f[m].g),f[m].value}function di(f,m,A){return A.g+=f.g,A.value+=f.value<<m>>>0,t(8>=A.g),f.g}function Un(f,m,A){var I=f.xc;return t((m=I==0?0:f.vc[f.md*(A>>I)+(m>>I)])<f.Wb),f.Ya[m]}function Po(f,m,A,I){var M=f.ab,B=f.c*m,U=f.C;m=U+m;var q=A,$=I;for(I=f.Ta,A=f.Ua;0<M--;){var Q=f.gc[M],ut=U,xt=m,Z=q,ht=$,bt=($=I,q=A,Q.Ea);switch(t(ut<xt),t(xt<=Q.nc),Q.hc){case 2:ri(Z,ht,(xt-ut)*bt,$,q);break;case 0:var Lt=ut,wt=xt,Dt=$,Mt=q,qt=(fe=Q).Ea;Lt==0&&(oh(Z,ht,null,null,1,Dt,Mt),ne(Z,ht+1,0,0,qt-1,Dt,Mt+1),ht+=qt,Mt+=qt,++Lt);for(var Ut=1<<fe.b,ge=Ut-1,ae=yt(qt,fe.b),Fe=fe.K,fe=fe.w+(Lt>>fe.b)*ae;Lt<wt;){var Je=Fe,_i=fe,Ve=1;for(Fc(Z,ht,Dt,Mt-qt,1,Dt,Mt);Ve<qt;){var de=(Ve&~ge)+Ut;de>qt&&(de=qt),(0,lh[Je[_i++]>>8&15])(Z,ht+ +Ve,Dt,Mt+Ve-qt,de-Ve,Dt,Mt+Ve),Ve=de}ht+=qt,Mt+=qt,++Lt&ge||(fe+=ae)}xt!=Q.nc&&i($,q-bt,$,q+(xt-ut-1)*bt,bt);break;case 1:for(bt=Z,wt=ht,qt=(Z=Q.Ea)-(Mt=Z&~(Dt=(ht=1<<Q.b)-1)),Lt=yt(Z,Q.b),Ut=Q.K,Q=Q.w+(ut>>Q.b)*Lt;ut<xt;){for(ge=Ut,ae=Q,Fe=new zt,fe=wt+Mt,Je=wt+Z;wt<fe;)ee(ge[ae++],Fe),ch(Fe,bt,wt,ht,$,q),wt+=ht,q+=ht;wt<Je&&(ee(ge[ae++],Fe),ch(Fe,bt,wt,qt,$,q),wt+=qt,q+=qt),++ut&Dt||(Q+=Lt)}break;case 3:if(Z==$&&ht==q&&0<Q.b){for(wt=$,Z=bt=q+(xt-ut)*bt-(Mt=(xt-ut)*yt(Q.Ea,Q.b)),ht=$,Dt=q,Lt=[],Mt=(qt=Mt)-1;0<=Mt;--Mt)Lt[Mt]=ht[Dt+Mt];for(Mt=qt-1;0<=Mt;--Mt)wt[Z+Mt]=Lt[Mt];cd(Q,ut,xt,$,bt,$,q)}else cd(Q,ut,xt,Z,ht,$,q)}q=I,$=A}$!=A&&i(I,A,q,$,B)}function Us(f,m){var A=f.V,I=f.Ba+f.c*f.C,M=m-f.C;if(t(m<=f.l.o),t(16>=M),0<M){var B=f.l,U=f.Ta,q=f.Ua,$=B.width;if(Po(f,M,A,I),M=q=[q],t((A=f.C)<(I=m)),t(B.v<B.va),I>B.o&&(I=B.o),A<B.j){var Q=B.j-A;A=B.j,M[0]+=Q*$}if(A>=I?A=0:(M[0]+=4*B.v,B.ka=A-B.j,B.U=B.va-B.v,B.T=I-A,A=1),A){if(q=q[0],11>(A=f.ca).S){var ut=A.f.RGBA,xt=(I=A.S,M=B.U,B=B.T,Q=ut.eb,ut.A),Z=B;for(ut=ut.fb+f.Ma*ut.A;0<Z--;){var ht=U,bt=q,Lt=M,wt=Q,Dt=ut;switch(I){case fd:uh(ht,bt,Lt,wt,Dt);break;case dd:Ca(ht,bt,Lt,wt,Dt);break;case Em:Ca(ht,bt,Lt,wt,Dt),fh(wt,Dt,0,Lt,1,0);break;case hv:Hl(ht,bt,Lt,wt,Dt);break;case pd:me(ht,bt,Lt,wt,Dt,1);break;case Tm:me(ht,bt,Lt,wt,Dt,1),fh(wt,Dt,0,Lt,1,0);break;case gd:me(ht,bt,Lt,wt,Dt,0);break;case md:me(ht,bt,Lt,wt,Dt,0),fh(wt,Dt,1,Lt,1,0);break;case Sm:Ra(ht,bt,Lt,wt,Dt);break;case Im:Ra(ht,bt,Lt,wt,Dt),iv(wt,Dt,Lt,1,0);break;case fv:Na(ht,bt,Lt,wt,Dt);break;default:t(0)}q+=$,ut+=xt}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=A.height)}}f.C=m,t(f.C<=f.i)}function zi(f){var m;if(0<f.ua)return 0;for(m=0;m<f.Wb;++m){var A=f.Ya[m].G,I=f.Ya[m].H;if(0<A[1][I[1]+0].g||0<A[2][I[2]+0].g||0<A[3][I[3]+0].g)return 0}return 1}function Nr(f,m,A,I,M,B){if(f.Z!=0){var U=f.qd,q=f.rd;for(t(Da[f.Z]!=null);m<A;++m)Da[f.Z](U,q,I,M,I,M,B),U=I,q=M,M+=B;f.qd=U,f.rd=q}}function ar(f,m){var A=f.l.ma,I=A.Z==0||A.Z==1?f.l.j:f.C;if(I=f.C<I?I:f.C,t(m<=f.l.o),m>I){var M=f.l.width,B=A.ca,U=A.tb+M*I,q=f.V,$=f.Ba+f.c*I,Q=f.gc;t(f.ab==1),t(Q[0].hc==3),to(Q[0],I,m,q,$,B,U),Nr(A,I,m,B,U,M)}f.C=f.Ma=m}function Hi(f,m,A,I,M,B,U){var q=f.$/I,$=f.$%I,Q=f.m,ut=f.s,xt=A+f.$,Z=xt;M=A+I*M;var ht=A+I*B,bt=280+ut.ua,Lt=f.Pb?q:16777216,wt=0<ut.ua?ut.Wa:null,Dt=ut.wc,Mt=xt<ht?Un(ut,$,q):null;t(f.C<B),t(ht<=M);var qt=!1;t:for(;;){for(;qt||xt<ht;){var Ut=0;if(q>=Lt){var ge=xt-A;t((Lt=f).Pb),Lt.wd=Lt.m,Lt.xd=ge,0<Lt.s.ua&&Tt(Lt.s.Wa,Lt.s.vb),Lt=q+k3}if($&Dt||(Mt=Un(ut,$,q)),t(Mt!=null),Mt.Qb&&(m[xt]=Mt.qb,qt=!0),!qt)if(tt(Q),Mt.jc){Ut=Q,ge=m;var ae=xt,Fe=Mt.pd[et(Ut)&zl-1];t(Mt.jc),256>Fe.g?(ct(Ut,Ut.u+Fe.g),ge[ae]=Fe.value,Ut=0):(ct(Ut,Ut.u+Fe.g-256),t(256<=Fe.value),Ut=Fe.value),Ut==0&&(qt=!0)}else Ut=jn(Mt.G[0],Mt.H[0],Q);if(Q.h)break;if(qt||256>Ut){if(!qt)if(Mt.nd)m[xt]=(Mt.qb|Ut<<8)>>>0;else{if(tt(Q),qt=jn(Mt.G[1],Mt.H[1],Q),tt(Q),ge=jn(Mt.G[2],Mt.H[2],Q),ae=jn(Mt.G[3],Mt.H[3],Q),Q.h)break;m[xt]=(ae<<24|qt<<16|Ut<<8|ge)>>>0}if(qt=!1,++xt,++$>=I&&($=0,++q,U!=null&&q<=B&&!(q%16)&&U(f,q),wt!=null))for(;Z<xt;)Ut=m[Z++],wt.X[(506832829*Ut&4294967295)>>>wt.Mb]=Ut}else if(280>Ut){if(Ut=Ei(Ut-256,Q),ge=jn(Mt.G[4],Mt.H[4],Q),tt(Q),ge=Ti(I,ge=Ei(ge,Q)),Q.h)break;if(xt-A<ge||M-xt<Ut)break t;for(ae=0;ae<Ut;++ae)m[xt+ae]=m[xt+ae-ge];for(xt+=Ut,$+=Ut;$>=I;)$-=I,++q,U!=null&&q<=B&&!(q%16)&&U(f,q);if(t(xt<=M),$&Dt&&(Mt=Un(ut,$,q)),wt!=null)for(;Z<xt;)Ut=m[Z++],wt.X[(506832829*Ut&4294967295)>>>wt.Mb]=Ut}else{if(!(Ut<bt))break t;for(qt=Ut-280,t(wt!=null);Z<xt;)Ut=m[Z++],wt.X[(506832829*Ut&4294967295)>>>wt.Mb]=Ut;Ut=xt,t(!(qt>>>(ge=wt).Xa)),m[Ut]=ge.X[qt],qt=!0}qt||t(Q.h==st(Q))}if(f.Pb&&Q.h&&xt<M)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Tt(f.s.vb,f.s.Wa);else{if(Q.h)break t;U?.(f,q>B?B:q),f.a=0,f.$=xt-A}return 1}return f.a=3,0}function ii(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var m=f.Wa;m!=null&&(m.X=null),f.vb=null,t(f!=null)}function qs(){var f=new ue;return f==null?null:(f.a=0,f.xb=gv,De("Predictor","VP8LPredictors"),De("Predictor","VP8LPredictors_C"),De("PredictorAdd","VP8LPredictorsAdd"),De("PredictorAdd","VP8LPredictorsAdd_C"),ri=Xt,ch=oe,uh=Ne,Ca=Be,Ra=le,Na=he,Hl=je,P.VP8LMapColor32b=Zs,P.VP8LMapColor8b=ah,f)}function Lr(f,m,A,I,M){var B=1,U=[f],q=[m],$=I.m,Q=I.s,ut=null,xt=0;t:for(;;){if(A)for(;B&&kt($,1);){var Z=U,ht=q,bt=I,Lt=1,wt=bt.m,Dt=bt.gc[bt.ab],Mt=kt(wt,2);if(bt.Oc&1<<Mt)B=0;else{switch(bt.Oc|=1<<Mt,Dt.hc=Mt,Dt.Ea=Z[0],Dt.nc=ht[0],Dt.K=[null],++bt.ab,t(4>=bt.ab),Mt){case 0:case 1:Dt.b=kt(wt,3)+2,Lt=Lr(yt(Dt.Ea,Dt.b),yt(Dt.nc,Dt.b),0,bt,Dt.K),Dt.K=Dt.K[0];break;case 3:var qt,Ut=kt(wt,8)+1,ge=16<Ut?0:4<Ut?1:2<Ut?2:3;if(Z[0]=yt(Dt.Ea,ge),Dt.b=ge,qt=Lt=Lr(Ut,1,0,bt,Dt.K)){var ae,Fe=Ut,fe=Dt,Je=1<<(8>>fe.b),_i=s(Je);if(_i==null)qt=0;else{var Ve=fe.K[0],de=fe.w;for(_i[0]=fe.K[0][0],ae=1;ae<1*Fe;++ae)_i[ae]=It(Ve[de+ae],_i[ae-1]);for(;ae<4*Je;++ae)_i[ae]=0;fe.K[0]=null,fe.K[0]=_i,qt=1}}Lt=qt;break;case 2:break;default:t(0)}B=Lt}}if(U=U[0],q=q[0],B&&kt($,1)&&!(B=1<=(xt=kt($,4))&&11>=xt)){I.a=3;break t}var Jt;if(Jt=B)e:{var oi,Le,Ze,On=I,Oi=U,ur=q,Qn=xt,Wi=A,hr=On.m,bi=On.s,en=[null],mn=1,Zn=0,yn=P3[Qn];n:for(;;){if(Wi&&kt(hr,1)){var Di=kt(hr,3)+2,Es=yt(Oi,Di),ai=yt(ur,Di),_r=Es*ai;if(!Lr(Es,ai,0,On,en))break n;for(en=en[0],bi.xc=Di,oi=0;oi<_r;++oi){var An=en[oi]>>8&65535;en[oi]=An,An>=mn&&(mn=An+1)}}if(hr.h)break n;for(Le=0;5>Le;++Le){var wi=dv[Le];!Le&&0<Qn&&(wi+=1<<Qn),Zn<wi&&(Zn=wi)}var Ur=o(mn*yn,N),fr=mn,qr=o(fr,ft);if(qr==null)var zr=null;else t(65536>=fr),zr=qr;var br=s(Zn);if(zr==null||br==null||Ur==null){On.a=1;break n}var Hr=Ur;for(oi=Ze=0;oi<mn;++oi){var In=zr[oi],$r=In.G,Ts=In.H,Wl=0,jo=1,Mi=0;for(Le=0;5>Le;++Le){wi=dv[Le],$r[Le]=Hr,Ts[Le]=Ze,!Le&&0<Qn&&(wi+=1<<Qn);r:{var bd,Rm=wi,wd=On,gh=br,Y3=Hr,J3=Ze,Nm=0,Ma=wd.m,X3=kt(Ma,1);if(r(gh,0,0,Rm),X3){var Q3=kt(Ma,1)+1,Z3=kt(Ma,1),xv=kt(Ma,Z3==0?1:8);gh[xv]=1,Q3==2&&(gh[xv=kt(Ma,8)]=1);var Ad=1}else{var Sv=s(19),Ev=kt(Ma,4)+4;if(19<Ev){wd.a=3;var xd=0;break r}for(bd=0;bd<Ev;++bd)Sv[T3[bd]]=kt(Ma,3);var Lm=void 0,mh=void 0,Tv=wd,tP=Sv,Sd=Rm,Iv=gh,Om=0,Fa=Tv.m,Pv=8,kv=o(128,N);i:for(;C(kv,0,7,tP,19);){if(kt(Fa,1)){var eP=2+2*kt(Fa,3);if((Lm=2+kt(Fa,eP))>Sd)break i}else Lm=Sd;for(mh=0;mh<Sd&&Lm--;){tt(Fa);var Cv=kv[0+(127&et(Fa))];ct(Fa,Fa.u+Cv.g);var Bc=Cv.value;if(16>Bc)Iv[mh++]=Bc,Bc!=0&&(Pv=Bc);else{var nP=Bc==16,Rv=Bc-16,iP=S3[Rv],Nv=kt(Fa,x3[Rv])+iP;if(mh+Nv>Sd)break i;for(var rP=nP?Pv:0;0<Nv--;)Iv[mh++]=rP}}Om=1;break i}Om||(Tv.a=3),Ad=Om}(Ad=Ad&&!Ma.h)&&(Nm=C(Y3,J3,8,gh,Rm)),Ad&&Nm!=0?xd=Nm:(wd.a=3,xd=0)}if(xd==0)break n;if(jo&&E3[Le]==1&&(jo=Hr[Ze].g==0),Wl+=Hr[Ze].g,Ze+=xd,3>=Le){var yh,Dm=br[0];for(yh=1;yh<wi;++yh)br[yh]>Dm&&(Dm=br[yh]);Mi+=Dm}}if(In.nd=jo,In.Qb=0,jo&&(In.qb=($r[3][Ts[3]+0].value<<24|$r[1][Ts[1]+0].value<<16|$r[2][Ts[2]+0].value)>>>0,Wl==0&&256>$r[0][Ts[0]+0].value&&(In.Qb=1,In.qb+=$r[0][Ts[0]+0].value<<8)),In.jc=!In.Qb&&6>Mi,In.jc){var Ed,Uo=In;for(Ed=0;Ed<zl;++Ed){var Va=Ed,Ba=Uo.pd[Va],Td=Uo.G[0][Uo.H[0]+Va];256<=Td.value?(Ba.g=Td.g+256,Ba.value=Td.value):(Ba.g=0,Ba.value=0,Va>>=di(Td,8,Ba),Va>>=di(Uo.G[1][Uo.H[1]+Va],16,Ba),Va>>=di(Uo.G[2][Uo.H[2]+Va],0,Ba),di(Uo.G[3][Uo.H[3]+Va],24,Ba))}}}bi.vc=en,bi.Wb=mn,bi.Ya=zr,bi.yc=Ur,Jt=1;break e}Jt=0}if(!(B=Jt)){I.a=3;break t}if(0<xt){if(Q.ua=1<<xt,!j(Q.Wa,xt)){I.a=1,B=0;break t}}else Q.ua=0;var Mm=I,Lv=U,sP=q,Fm=Mm.s,Vm=Fm.xc;if(Mm.c=Lv,Mm.i=sP,Fm.md=yt(Lv,Vm),Fm.wc=Vm==0?-1:(1<<Vm)-1,A){I.xb=M3;break t}if((ut=s(U*q))==null){I.a=1,B=0;break t}B=(B=Hi(I,ut,0,U,q,q,null))&&!$.h;break t}return B?(M!=null?M[0]=ut:(t(ut==null),t(A)),I.$=0,A||ii(Q)):ii(Q),B}function vs(f,m){var A=f.c*f.i,I=A+m+16*m;return t(f.c<=m),f.V=s(I),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+m,1)}function zs(f,m){var A=f.C,I=m-A,M=f.V,B=f.Ba+f.c*A;for(t(m<=f.l.o);0<I;){var U=16<I?16:I,q=f.l.ma,$=f.l.width,Q=$*U,ut=q.ca,xt=q.tb+$*A,Z=f.Ta,ht=f.Ua;Po(f,U,M,B),sv(Z,ht,ut,xt,Q),Nr(q,A,A+U,ut,xt,$),I-=U,M+=U*f.c,A+=U}t(A==m),f.C=f.Ma=m}function ko(){this.ub=this.yd=this.td=this.Rb=0}function Co(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Hs(){this.Yb=(function(){var f=[];return(function m(A,I,M){for(var B=M[I],U=0;U<B&&(A.push(M.length>I+1?[]:0),!(M.length<I+1));U++)m(A[U],I+1,M)})(f,0,[3,11]),f})()}function Pl(){this.jb=s(3),this.Wc=a([4,8],Hs),this.Xc=a([4,17],Hs)}function va(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ii(){this.ld=this.La=this.dd=this.tc=0}function Or(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ii),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new $s}function Rl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Nl(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new ko,this.Kc=new Co,this.ed=new va,this.Qa=new Xu,this.Ic=this.$c=this.Aa=0,this.D=new Cl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,_a),this.Pa=new Pl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rl),this.Hd=0,this.rb=Array(new Or),this.sb=0,this.wa=Array(new Ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=a([4,2],Ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $s(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ll(){var f=new Nl;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,dh||(dh=_s)),f}function $n(f,m,A){return f.a==0&&(f.a=m,f.sc=A,f.cb=0),0}function Ol(f,m,A){return 3<=A&&f[m+0]==157&&f[m+1]==1&&f[m+2]==42}function Oc(f,m){if(f==null)return 0;if(f.a=0,f.sc="OK",m==null)return $n(f,2,"null VP8Io passed to VP8GetHeaders()");var A=m.data,I=m.w,M=m.ha;if(4>M)return $n(f,7,"Truncated header.");var B=A[I+0]|A[I+1]<<8|A[I+2]<<16,U=f.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return $n(f,3,"Incorrect keyframe parameters.");if(!U.yd)return $n(f,4,"Frame not displayable.");I+=3,M-=3;var q=f.Kc;if(U.Rb){if(7>M)return $n(f,7,"cannot parse picture header");if(!Ol(A,I,M))return $n(f,3,"Bad code word");q.c=16383&(A[I+4]<<8|A[I+3]),q.Td=A[I+4]>>6,q.i=16383&(A[I+6]<<8|A[I+5]),q.Ud=A[I+6]>>6,I+=7,M-=7,f.za=q.c+15>>4,f.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,r((B=f.Pa).jb,0,255,B.jb.length),t((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,r(B.Zb,0,0,B.Zb.length),r(B.Lb,0,0,B.Lb)}if(U.ub>M)return $n(f,7,"bad partition length");gt(B=f.m,A,I,U.ub),I+=U.ub,M-=U.ub,U.Rb&&(q.Ld=ot(B),q.Kd=ot(B)),q=f.Qa;var $,Q=f.Pa;if(t(B!=null),t(q!=null),q.Cb=ot(B),q.Cb){if(q.Bb=ot(B),ot(B)){for(q.Fb=ot(B),$=0;4>$;++$)q.Zb[$]=ot(B)?at(B,7):0;for($=0;4>$;++$)q.Lb[$]=ot(B)?at(B,6):0}if(q.Bb)for($=0;3>$;++$)Q.jb[$]=ot(B)?mt(B,8):255}else q.Bb=0;if(B.Ka)return $n(f,3,"cannot parse segment header");if((q=f.ed).zd=ot(B),q.Tb=mt(B,6),q.wb=mt(B,3),q.Pc=ot(B),q.Pc&&ot(B)){for(Q=0;4>Q;++Q)ot(B)&&(q.vd[Q]=at(B,6));for(Q=0;4>Q;++Q)ot(B)&&(q.od[Q]=at(B,6))}if(f.L=q.Tb==0?0:q.zd?1:2,B.Ka)return $n(f,3,"cannot parse filter header");var ut=M;if(M=$=I,I=$+ut,q=ut,f.Xb=(1<<mt(f.m,2))-1,ut<3*(Q=f.Xb))A=7;else{for($+=3*Q,q-=3*Q,ut=0;ut<Q;++ut){var xt=A[M+0]|A[M+1]<<8|A[M+2]<<16;xt>q&&(xt=q),gt(f.Jc[+ut],A,$,xt),$+=xt,q-=xt,M+=3}gt(f.Jc[+Q],A,$,q),A=$<I?0:5}if(A!=0)return $n(f,A,"cannot parse partitions");for(A=mt($=f.m,7),M=ot($)?at($,4):0,I=ot($)?at($,4):0,q=ot($)?at($,4):0,Q=ot($)?at($,4):0,$=ot($)?at($,4):0,ut=f.Qa,xt=0;4>xt;++xt){if(ut.Cb){var Z=ut.Zb[xt];ut.Fb||(Z+=A)}else{if(0<xt){f.pb[xt]=f.pb[0];continue}Z=A}var ht=f.pb[xt];ht.Sc[0]=Pm[Ue(Z+M,127)],ht.Sc[1]=km[Ue(Z+0,127)],ht.Eb[0]=2*Pm[Ue(Z+I,127)],ht.Eb[1]=101581*km[Ue(Z+q,127)]>>16,8>ht.Eb[1]&&(ht.Eb[1]=8),ht.Qc[0]=Pm[Ue(Z+Q,117)],ht.Qc[1]=km[Ue(Z+$,127)],ht.lc=Z+$}if(!U.Rb)return $n(f,4,"Not a key frame.");for(ot(B),U=f.Pa,A=0;4>A;++A){for(M=0;8>M;++M)for(I=0;3>I;++I)for(q=0;11>q;++q)Q=dt(B,O3[A][M][I][q])?mt(B,8):N3[A][M][I][q],U.Wc[A][M].Yb[I][q]=Q;for(M=0;17>M;++M)U.Xc[A][M]=U.Wc[A][D3[M]]}return f.kc=ot(B),f.kc&&(f.Bd=mt(B,8)),f.cb=1}function _s(f,m,A,I,M,B,U){var q=m[M].Yb[A];for(A=0;16>M;++M){if(!dt(f,q[A+0]))return M;for(;!dt(f,q[A+1]);)if(q=m[++M].Yb[0],A=0,M==16)return 16;var $=m[M+1].Yb;if(dt(f,q[A+2])){var Q=f,ut=0;if(dt(Q,(Z=q)[(xt=A)+3]))if(dt(Q,Z[xt+6])){for(q=0,xt=2*(ut=dt(Q,Z[xt+8]))+(Z=dt(Q,Z[xt+9+ut])),ut=0,Z=C3[xt];Z[q];++q)ut+=ut+dt(Q,Z[q]);ut+=3+(8<<xt)}else dt(Q,Z[xt+7])?(ut=7+2*dt(Q,165),ut+=dt(Q,145)):ut=5+dt(Q,159);else ut=dt(Q,Z[xt+4])?3+dt(Q,Z[xt+5]):2;q=$[2]}else ut=1,q=$[1];$=U+R3[M],0>(Q=f).b&&lt(Q);var xt,Z=Q.b,ht=(xt=Q.Ca>>1)-(Q.I>>Z)>>31;--Q.b,Q.Ca+=ht,Q.Ca|=1,Q.I-=(xt+1&ht)<<Z,B[$]=((ut^ht)-ht)*I[(0<M)+0]}return 16}function Ws(f){var m=f.rb[f.sb-1];m.la=0,m.Na=0,r(f.zc,0,0,f.zc.length),f.ja=0}function gr(f,m,A,I,M){M=f[m+A+32*I]+(M>>3),f[m+A+32*I]=-256&M?0>M?0:255:M}function Ro(f,m,A,I,M,B){gr(f,m,0,A,I+M),gr(f,m,1,A,I+B),gr(f,m,2,A,I-B),gr(f,m,3,A,I-M)}function pn(f){return(20091*f>>16)+f}function lr(f,m,A,I){var M,B=0,U=s(16);for(M=0;4>M;++M){var q=f[m+0]+f[m+8],$=f[m+0]-f[m+8],Q=(35468*f[m+4]>>16)-pn(f[m+12]),ut=pn(f[m+4])+(35468*f[m+12]>>16);U[B+0]=q+ut,U[B+1]=$+Q,U[B+2]=$-Q,U[B+3]=q-ut,B+=4,m++}for(M=B=0;4>M;++M)q=(f=U[B+0]+4)+U[B+8],$=f-U[B+8],Q=(35468*U[B+4]>>16)-pn(U[B+12]),gr(A,I,0,0,q+(ut=pn(U[B+4])+(35468*U[B+12]>>16))),gr(A,I,1,0,$+Q),gr(A,I,2,0,$-Q),gr(A,I,3,0,q-ut),B++,I+=32}function ba(f,m,A,I){var M=f[m+0]+4,B=35468*f[m+4]>>16,U=pn(f[m+4]),q=35468*f[m+1]>>16;Ro(A,I,0,M+U,f=pn(f[m+1]),q),Ro(A,I,1,M+B,f,q),Ro(A,I,2,M-B,f,q),Ro(A,I,3,M-U,f,q)}function wa(f,m,A,I,M){lr(f,m,A,I),M&&lr(f,m+16,A,I+4)}function Dc(f,m,A,I){$l(f,m+0,A,I,1),$l(f,m+32,A,I+128,1)}function $e(f,m,A,I){var M;for(f=f[m+0]+4,M=0;4>M;++M)for(m=0;4>m;++m)gr(A,I,m,M,f)}function No(f,m,A,I){f[m+0]&&cn(f,m+0,A,I),f[m+16]&&cn(f,m+16,A,I+4),f[m+32]&&cn(f,m+32,A,I+128),f[m+48]&&cn(f,m+48,A,I+128+4)}function Gs(f,m,A,I){var M,B=s(16);for(M=0;4>M;++M){var U=f[m+0+M]+f[m+12+M],q=f[m+4+M]+f[m+8+M],$=f[m+4+M]-f[m+8+M],Q=f[m+0+M]-f[m+12+M];B[0+M]=U+q,B[8+M]=U-q,B[4+M]=Q+$,B[12+M]=Q-$}for(M=0;4>M;++M)U=(f=B[0+4*M]+3)+B[3+4*M],q=B[1+4*M]+B[2+4*M],$=B[1+4*M]-B[2+4*M],Q=f-B[3+4*M],A[I+0]=U+q>>3,A[I+16]=Q+$>>3,A[I+32]=U-q>>3,A[I+48]=Q-$>>3,I+=64}function mr(f,m,A){var I,M=m-32,B=jr,U=255-f[M-1];for(I=0;I<A;++I){var q,$=B,Q=U+f[m-1];for(q=0;q<A;++q)f[m+q]=$[Q+f[M+q]];m+=32}}function Dl(f,m){mr(f,m,4)}function Mc(f,m){mr(f,m,8)}function Qu(f,m){mr(f,m,16)}function Zu(f,m){var A;for(A=0;16>A;++A)i(f,m+32*A,f,m-32,16)}function Ml(f,m){var A;for(A=16;0<A;--A)r(f,m,f[m-1],16),m+=32}function Lo(f,m,A){var I;for(I=0;16>I;++I)r(m,A+32*I,f,16)}function yr(f,m){var A,I=16;for(A=0;16>A;++A)I+=f[m-1+32*A]+f[m+A-32];Lo(I>>5,f,m)}function is(f,m){var A,I=8;for(A=0;16>A;++A)I+=f[m-1+32*A];Lo(I>>4,f,m)}function Ks(f,m){var A,I=8;for(A=0;16>A;++A)I+=f[m+A-32];Lo(I>>4,f,m)}function Aa(f,m){Lo(128,f,m)}function Se(f,m,A){return f+2*m+A+2>>2}function Ys(f,m){var A,I=m-32;for(I=new Uint8Array([Se(f[I-1],f[I+0],f[I+1]),Se(f[I+0],f[I+1],f[I+2]),Se(f[I+1],f[I+2],f[I+3]),Se(f[I+2],f[I+3],f[I+4])]),A=0;4>A;++A)i(f,m+32*A,I,0,I.length)}function th(f,m){var A=f[m-1],I=f[m-1+32],M=f[m-1+64],B=f[m-1+96];Nt(f,m+0,16843009*Se(f[m-1-32],A,I)),Nt(f,m+32,16843009*Se(A,I,M)),Nt(f,m+64,16843009*Se(I,M,B)),Nt(f,m+96,16843009*Se(M,B,B))}function eh(f,m){var A,I=4;for(A=0;4>A;++A)I+=f[m+A-32]+f[m-1+32*A];for(I>>=3,A=0;4>A;++A)r(f,m+32*A,I,4)}function nh(f,m){var A=f[m-1+0],I=f[m-1+32],M=f[m-1+64],B=f[m-1-32],U=f[m+0-32],q=f[m+1-32],$=f[m+2-32],Q=f[m+3-32];f[m+0+96]=Se(I,M,f[m-1+96]),f[m+1+96]=f[m+0+64]=Se(A,I,M),f[m+2+96]=f[m+1+64]=f[m+0+32]=Se(B,A,I),f[m+3+96]=f[m+2+64]=f[m+1+32]=f[m+0+0]=Se(U,B,A),f[m+3+64]=f[m+2+32]=f[m+1+0]=Se(q,U,B),f[m+3+32]=f[m+2+0]=Se($,q,U),f[m+3+0]=Se(Q,$,q)}function Pi(f,m){var A=f[m+1-32],I=f[m+2-32],M=f[m+3-32],B=f[m+4-32],U=f[m+5-32],q=f[m+6-32],$=f[m+7-32];f[m+0+0]=Se(f[m+0-32],A,I),f[m+1+0]=f[m+0+32]=Se(A,I,M),f[m+2+0]=f[m+1+32]=f[m+0+64]=Se(I,M,B),f[m+3+0]=f[m+2+32]=f[m+1+64]=f[m+0+96]=Se(M,B,U),f[m+3+32]=f[m+2+64]=f[m+1+96]=Se(B,U,q),f[m+3+64]=f[m+2+96]=Se(U,q,$),f[m+3+96]=Se(q,$,$)}function bs(f,m){var A=f[m-1+0],I=f[m-1+32],M=f[m-1+64],B=f[m-1-32],U=f[m+0-32],q=f[m+1-32],$=f[m+2-32],Q=f[m+3-32];f[m+0+0]=f[m+1+64]=B+U+1>>1,f[m+1+0]=f[m+2+64]=U+q+1>>1,f[m+2+0]=f[m+3+64]=q+$+1>>1,f[m+3+0]=$+Q+1>>1,f[m+0+96]=Se(M,I,A),f[m+0+64]=Se(I,A,B),f[m+0+32]=f[m+1+96]=Se(A,B,U),f[m+1+32]=f[m+2+96]=Se(B,U,q),f[m+2+32]=f[m+3+96]=Se(U,q,$),f[m+3+32]=Se(q,$,Q)}function ih(f,m){var A=f[m+0-32],I=f[m+1-32],M=f[m+2-32],B=f[m+3-32],U=f[m+4-32],q=f[m+5-32],$=f[m+6-32],Q=f[m+7-32];f[m+0+0]=A+I+1>>1,f[m+1+0]=f[m+0+64]=I+M+1>>1,f[m+2+0]=f[m+1+64]=M+B+1>>1,f[m+3+0]=f[m+2+64]=B+U+1>>1,f[m+0+32]=Se(A,I,M),f[m+1+32]=f[m+0+96]=Se(I,M,B),f[m+2+32]=f[m+1+96]=Se(M,B,U),f[m+3+32]=f[m+2+96]=Se(B,U,q),f[m+3+64]=Se(U,q,$),f[m+3+96]=Se(q,$,Q)}function xa(f,m){var A=f[m-1+0],I=f[m-1+32],M=f[m-1+64],B=f[m-1+96];f[m+0+0]=A+I+1>>1,f[m+2+0]=f[m+0+32]=I+M+1>>1,f[m+2+32]=f[m+0+64]=M+B+1>>1,f[m+1+0]=Se(A,I,M),f[m+3+0]=f[m+1+32]=Se(I,M,B),f[m+3+32]=f[m+1+64]=Se(M,B,B),f[m+3+64]=f[m+2+64]=f[m+0+96]=f[m+1+96]=f[m+2+96]=f[m+3+96]=B}function ws(f,m){var A=f[m-1+0],I=f[m-1+32],M=f[m-1+64],B=f[m-1+96],U=f[m-1-32],q=f[m+0-32],$=f[m+1-32],Q=f[m+2-32];f[m+0+0]=f[m+2+32]=A+U+1>>1,f[m+0+32]=f[m+2+64]=I+A+1>>1,f[m+0+64]=f[m+2+96]=M+I+1>>1,f[m+0+96]=B+M+1>>1,f[m+3+0]=Se(q,$,Q),f[m+2+0]=Se(U,q,$),f[m+1+0]=f[m+3+32]=Se(A,U,q),f[m+1+32]=f[m+3+64]=Se(I,A,U),f[m+1+64]=f[m+3+96]=Se(M,I,A),f[m+1+96]=Se(B,M,I)}function Sa(f,m){var A;for(A=0;8>A;++A)i(f,m+32*A,f,m-32,8)}function Dr(f,m){var A;for(A=0;8>A;++A)r(f,m,f[m-1],8),m+=32}function rs(f,m,A){var I;for(I=0;8>I;++I)r(m,A+32*I,f,8)}function Oo(f,m){var A,I=8;for(A=0;8>A;++A)I+=f[m+A-32]+f[m-1+32*A];rs(I>>4,f,m)}function Fl(f,m){var A,I=4;for(A=0;8>A;++A)I+=f[m+A-32];rs(I>>3,f,m)}function bn(f,m){var A,I=4;for(A=0;8>A;++A)I+=f[m-1+32*A];rs(I>>3,f,m)}function Vl(f,m){rs(128,f,m)}function Do(f,m,A){var I=f[m-A],M=f[m+0],B=3*(M-I)+xm[1020+f[m-2*A]-f[m+A]],U=hd[112+(B+4>>3)];f[m-A]=jr[255+I+hd[112+(B+3>>3)]],f[m+0]=jr[255+M-U]}function Js(f,m,A,I){var M=f[m+0],B=f[m+A];return as[255+f[m-2*A]-f[m-A]]>I||as[255+B-M]>I}function Ea(f,m,A,I){return 4*as[255+f[m-A]-f[m+0]]+as[255+f[m-2*A]-f[m+A]]<=I}function Mo(f,m,A,I,M){var B=f[m-3*A],U=f[m-2*A],q=f[m-A],$=f[m+0],Q=f[m+A],ut=f[m+2*A],xt=f[m+3*A];return 4*as[255+q-$]+as[255+U-Q]>I?0:as[255+f[m-4*A]-B]<=M&&as[255+B-U]<=M&&as[255+U-q]<=M&&as[255+xt-ut]<=M&&as[255+ut-Q]<=M&&as[255+Q-$]<=M}function Xs(f,m,A,I){var M=2*I+1;for(I=0;16>I;++I)Ea(f,m+I,A,M)&&Do(f,m+I,A)}function Qs(f,m,A,I){var M=2*I+1;for(I=0;16>I;++I)Ea(f,m+I*A,1,M)&&Do(f,m+I*A,1)}function vr(f,m,A,I){var M;for(M=3;0<M;--M)Xs(f,m+=4*A,A,I)}function Bl(f,m,A,I){var M;for(M=3;0<M;--M)Qs(f,m+=4,A,I)}function As(f,m,A,I,M,B,U,q){for(B=2*B+1;0<M--;){if(Mo(f,m,A,B,U))if(Js(f,m,A,q))Do(f,m,A);else{var $=f,Q=m,ut=A,xt=$[Q-2*ut],Z=$[Q-ut],ht=$[Q+0],bt=$[Q+ut],Lt=$[Q+2*ut],wt=27*(Mt=xm[1020+3*(ht-Z)+xm[1020+xt-bt]])+63>>7,Dt=18*Mt+63>>7,Mt=9*Mt+63>>7;$[Q-3*ut]=jr[255+$[Q-3*ut]+Mt],$[Q-2*ut]=jr[255+xt+Dt],$[Q-ut]=jr[255+Z+wt],$[Q+0]=jr[255+ht-wt],$[Q+ut]=jr[255+bt-Dt],$[Q+2*ut]=jr[255+Lt-Mt]}m+=I}}function cr(f,m,A,I,M,B,U,q){for(B=2*B+1;0<M--;){if(Mo(f,m,A,B,U))if(Js(f,m,A,q))Do(f,m,A);else{var $=f,Q=m,ut=A,xt=$[Q-ut],Z=$[Q+0],ht=$[Q+ut],bt=hd[112+(4+(Lt=3*(Z-xt))>>3)],Lt=hd[112+(Lt+3>>3)],wt=bt+1>>1;$[Q-2*ut]=jr[255+$[Q-2*ut]+wt],$[Q-ut]=jr[255+xt+Lt],$[Q+0]=jr[255+Z-bt],$[Q+ut]=jr[255+ht-wt]}m+=I}}function jl(f,m,A,I,M,B){As(f,m,A,1,16,I,M,B)}function Ta(f,m,A,I,M,B){As(f,m,1,A,16,I,M,B)}function ss(f,m,A,I,M,B){var U;for(U=3;0<U;--U)cr(f,m+=4*A,A,1,16,I,M,B)}function Ul(f,m,A,I,M,B){var U;for(U=3;0<U;--U)cr(f,m+=4,1,A,16,I,M,B)}function v(f,m,A,I,M,B,U,q){As(f,m,M,1,8,B,U,q),As(A,I,M,1,8,B,U,q)}function O(f,m,A,I,M,B,U,q){As(f,m,1,M,8,B,U,q),As(A,I,1,M,8,B,U,q)}function X(f,m,A,I,M,B,U,q){cr(f,m+4*M,M,1,8,B,U,q),cr(A,I+4*M,M,1,8,B,U,q)}function rt(f,m,A,I,M,B,U,q){cr(f,m+4,1,M,8,B,U,q),cr(A,I+4,1,M,8,B,U,q)}function pt(){this.ba=new an,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function se(){this.ua=0,this.Wa=new At,this.vb=new At,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ft,this.yc=new N}function ue(){this.xb=this.a=0,this.l=new $s,this.ca=new an,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new se,this.ab=0,this.gc=o(4,Bt),this.Oc=0}function _e(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $s,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ee(f,m,A,I,M,B,U){for(f=f==null?0:f[m+0],m=0;m<U;++m)M[B+m]=f+A[I+m]&255,f=M[B+m]}function Qe(f,m,A,I,M,B,U){var q;if(f==null)Ee(null,null,A,I,M,B,U);else for(q=0;q<U;++q)M[B+q]=f[m+q]+A[I+q]&255}function ln(f,m,A,I,M,B,U){if(f==null)Ee(null,null,A,I,M,B,U);else{var q,$=f[m+0],Q=$,ut=$;for(q=0;q<U;++q)Q=ut+($=f[m+q])-Q,ut=A[I+q]+(-256&Q?0>Q?0:255:Q)&255,Q=$,M[B+q]=ut}}function Wn(f,m,A,I){var M=m.width,B=m.o;if(t(f!=null&&m!=null),0>A||0>=I||A+I>B)return null;if(!f.Cc){if(f.ga==null){var U;if(f.ga=new _e,(U=f.ga==null)||(U=m.width*m.o,t(f.Gb.length==0),f.Gb=s(U),f.Uc=0,f.Gb==null?U=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,U=1),U=!U),!U){U=f.ga;var q=f.Fa,$=f.P,Q=f.qc,ut=f.mb,xt=f.nb,Z=$+1,ht=Q-1,bt=U.l;if(t(q!=null&&ut!=null&&m!=null),Da[0]=null,Da[1]=Ee,Da[2]=Qe,Da[3]=ln,U.ca=ut,U.tb=xt,U.c=m.width,U.i=m.height,t(0<U.c&&0<U.i),1>=Q)m=0;else if(U.$a=3&q[$+0],U.Z=q[$+0]>>2&3,U.Lc=q[$+0]>>4&3,$=q[$+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||$)m=0;else if(bt.put=ve,bt.ac=qi,bt.bc=Ln,bt.ma=U,bt.width=m.width,bt.height=m.height,bt.Da=m.Da,bt.v=m.v,bt.va=m.va,bt.j=m.j,bt.o=m.o,U.$a)t:{t(U.$a==1),m=qs();e:for(;;){if(m==null){m=0;break t}if(t(U!=null),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,Et(m.m,q,Z,ht),!Lr(U.c,U.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&zi(m.s)?(U.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(U.ic=0,m=vs(m,U.c)),!m))break e;m=1;break t}U.mc=null,m=0}else m=ht>=U.c*U.i;U=!m}if(U)return null;f.ga.Lc!=1?f.Ga=0:I=B-A}t(f.ga!=null),t(A+I<=B);t:{if(m=(q=f.ga).c,B=q.l.o,q.$a==0){if(Z=f.rc,ht=f.Vc,bt=f.Fa,$=f.P+1+A*m,Q=f.mb,ut=f.nb+A*m,t($<=f.P+f.qc),q.Z!=0)for(t(Da[q.Z]!=null),U=0;U<I;++U)Da[q.Z](Z,ht,bt,$,Q,ut,m),Z=Q,ht=ut,ut+=m,$+=m;else for(U=0;U<I;++U)i(Q,ut,bt,$,m),Z=Q,ht=ut,ut+=m,$+=m;f.rc=Z,f.Vc=ht}else{if(t(q.mc!=null),m=A+I,t((U=q.mc)!=null),t(m<=U.i),U.C>=m)m=1;else if(q.ic||En(),q.ic){q=U.V,Z=U.Ba,ht=U.c;var Lt=U.i,wt=(bt=1,$=U.$/ht,Q=U.$%ht,ut=U.m,xt=U.s,U.$),Dt=ht*Lt,Mt=ht*m,qt=xt.wc,Ut=wt<Mt?Un(xt,Q,$):null;t(wt<=Dt),t(m<=Lt),t(zi(xt));e:for(;;){for(;!ut.h&&wt<Mt;){if(Q&qt||(Ut=Un(xt,Q,$)),t(Ut!=null),tt(ut),256>(Lt=jn(Ut.G[0],Ut.H[0],ut)))q[Z+wt]=Lt,++wt,++Q>=ht&&(Q=0,++$<=m&&!($%16)&&ar(U,$));else{if(!(280>Lt)){bt=0;break e}Lt=Ei(Lt-256,ut);var ge,ae=jn(Ut.G[4],Ut.H[4],ut);if(tt(ut),!(wt>=(ae=Ti(ht,ae=Ei(ae,ut)))&&Dt-wt>=Lt)){bt=0;break e}for(ge=0;ge<Lt;++ge)q[Z+wt+ge]=q[Z+wt+ge-ae];for(wt+=Lt,Q+=Lt;Q>=ht;)Q-=ht,++$<=m&&!($%16)&&ar(U,$);wt<Mt&&Q&qt&&(Ut=Un(xt,Q,$))}t(ut.h==st(ut))}ar(U,$>m?m:$);break e}!bt||ut.h&&wt<Dt?(bt=0,U.a=ut.h?5:3):U.$=wt,m=bt}else m=Hi(U,U.V,U.Ba,U.c,U.i,m,zs);if(!m){I=0;break t}}A+I>=B&&(f.Cc=1),I=1}if(!I)return null;if(f.Cc&&((I=f.ga)!=null&&(I.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*M}function gn(f,m,A,I,M,B){for(;0<M--;){var U,q=f,$=m+(A?1:0),Q=f,ut=m+(A?0:3);for(U=0;U<I;++U){var xt=Q[ut+4*U];xt!=255&&(xt*=32897,q[$+4*U+0]=q[$+4*U+0]*xt>>23,q[$+4*U+1]=q[$+4*U+1]*xt>>23,q[$+4*U+2]=q[$+4*U+2]*xt>>23)}m+=B}}function Jn(f,m,A,I,M){for(;0<I--;){var B;for(B=0;B<A;++B){var U=f[m+2*B+0],q=15&(Q=f[m+2*B+1]),$=4369*q,Q=(240&Q|Q>>4)*$>>16;f[m+2*B+0]=(240&U|U>>4)*$>>16&240|(15&U|U<<4)*$>>16>>4&15,f[m+2*B+1]=240&Q|q}m+=M}}function Gn(f,m,A,I,M,B,U,q){var $,Q,ut=255;for(Q=0;Q<M;++Q){for($=0;$<I;++$){var xt=f[m+$];B[U+4*$]=xt,ut&=xt}m+=A,U+=q}return ut!=255}function Xn(f,m,A,I,M){var B;for(B=0;B<M;++B)A[I+B]=f[m+B]>>8}function En(){fh=gn,iv=Jn,rv=Gn,sv=Xn}function Ni(f,m,A){P[f]=function(I,M,B,U,q,$,Q,ut,xt,Z,ht,bt,Lt,wt,Dt,Mt,qt){var Ut,ge=qt-1>>1,ae=q[$+0]|Q[ut+0]<<16,Fe=xt[Z+0]|ht[bt+0]<<16;t(I!=null);var fe=3*ae+Fe+131074>>2;for(m(I[M+0],255&fe,fe>>16,Lt,wt),B!=null&&(fe=3*Fe+ae+131074>>2,m(B[U+0],255&fe,fe>>16,Dt,Mt)),Ut=1;Ut<=ge;++Ut){var Je=q[$+Ut]|Q[ut+Ut]<<16,_i=xt[Z+Ut]|ht[bt+Ut]<<16,Ve=ae+Je+Fe+_i+524296,de=Ve+2*(Je+Fe)>>3;fe=de+ae>>1,ae=(Ve=Ve+2*(ae+_i)>>3)+Je>>1,m(I[M+2*Ut-1],255&fe,fe>>16,Lt,wt+(2*Ut-1)*A),m(I[M+2*Ut-0],255&ae,ae>>16,Lt,wt+(2*Ut-0)*A),B!=null&&(fe=Ve+Fe>>1,ae=de+_i>>1,m(B[U+2*Ut-1],255&fe,fe>>16,Dt,Mt+(2*Ut-1)*A),m(B[U+2*Ut+0],255&ae,ae>>16,Dt,Mt+(2*Ut+0)*A)),ae=Je,Fe=_i}1&qt||(fe=3*ae+Fe+131074>>2,m(I[M+qt-1],255&fe,fe>>16,Lt,wt+(qt-1)*A),B!=null&&(fe=3*Fe+ae+131074>>2,m(B[U+qt-1],255&fe,fe>>16,Dt,Mt+(qt-1)*A)))}}function ql(){ls[fd]=F3,ls[dd]=mv,ls[hv]=V3,ls[pd]=yv,ls[gd]=vv,ls[Sm]=_v,ls[fv]=B3,ls[Em]=mv,ls[Tm]=yv,ls[md]=vv,ls[Im]=_v}function Mr(f){return f&-16384?0>f?0:255:f>>j3}function d(f,m){return Mr((19077*f>>8)+(26149*m>>8)-14234)}function x(f,m,A){return Mr((19077*f>>8)-(6419*m>>8)-(13320*A>>8)+8708)}function R(f,m){return Mr((19077*f>>8)+(33050*m>>8)-17685)}function z(f,m,A,I,M){I[M+0]=d(f,A),I[M+1]=x(f,m,A),I[M+2]=R(f,m)}function vt(f,m,A,I,M){I[M+0]=R(f,m),I[M+1]=x(f,m,A),I[M+2]=d(f,A)}function St(f,m,A,I,M){var B=x(f,m,A);m=B<<3&224|R(f,m)>>3,I[M+0]=248&d(f,A)|B>>5,I[M+1]=m}function Gt(f,m,A,I,M){var B=240&R(f,m)|15;I[M+0]=240&d(f,A)|x(f,m,A)>>4,I[M+1]=B}function Ye(f,m,A,I,M){I[M+0]=255,z(f,m,A,I,M+1)}function Kn(f,m,A,I,M){vt(f,m,A,I,M),I[M+3]=255}function ze(f,m,A,I,M){z(f,m,A,I,M),I[M+3]=255}function Ue(f,m){return 0>f?0:f>m?m:f}function Tn(f,m,A){P[f]=function(I,M,B,U,q,$,Q,ut,xt){for(var Z=ut+(-2&xt)*A;ut!=Z;)m(I[M+0],B[U+0],q[$+0],Q,ut),m(I[M+1],B[U+0],q[$+0],Q,ut+A),M+=2,++U,++$,ut+=2*A;1&xt&&m(I[M+0],B[U+0],q[$+0],Q,ut)}}function Fr(f,m,A){return A==0?f==0?m==0?6:5:m==0?4:0:A}function $i(f,m,A,I,M){switch(f>>>30){case 3:$l(m,A,I,M,0);break;case 2:os(m,A,I,M);break;case 1:cn(m,A,I,M)}}function Li(f,m){var A,I,M=m.M,B=m.Nb,U=f.oc,q=f.pc+40,$=f.oc,Q=f.pc+584,ut=f.oc,xt=f.pc+600;for(A=0;16>A;++A)U[q+32*A-1]=129;for(A=0;8>A;++A)$[Q+32*A-1]=129,ut[xt+32*A-1]=129;for(0<M?U[q-1-32]=$[Q-1-32]=ut[xt-1-32]=129:(r(U,q-32-1,127,21),r($,Q-32-1,127,9),r(ut,xt-32-1,127,9)),I=0;I<f.za;++I){var Z=m.ya[m.aa+I];if(0<I){for(A=-1;16>A;++A)i(U,q+32*A-4,U,q+32*A+12,4);for(A=-1;8>A;++A)i($,Q+32*A-4,$,Q+32*A+4,4),i(ut,xt+32*A-4,ut,xt+32*A+4,4)}var ht=f.Gd,bt=f.Hd+I,Lt=Z.ad,wt=Z.Hc;if(0<M&&(i(U,q-32,ht[bt].y,0,16),i($,Q-32,ht[bt].f,0,8),i(ut,xt-32,ht[bt].ea,0,8)),Z.Za){var Dt=U,Mt=q-32+16;for(0<M&&(I>=f.za-1?r(Dt,Mt,ht[bt].y[15],4):i(Dt,Mt,ht[bt+1].y,0,4)),A=0;4>A;A++)Dt[Mt+128+A]=Dt[Mt+256+A]=Dt[Mt+384+A]=Dt[Mt+0+A];for(A=0;16>A;++A,wt<<=2)Dt=U,Mt=q+wv[A],Ss[Z.Ob[A]](Dt,Mt),$i(wt,Lt,16*+A,Dt,Mt)}else if(Dt=Fr(I,M,Z.Ob[0]),Oa[Dt](U,q),wt!=0)for(A=0;16>A;++A,wt<<=2)$i(wt,Lt,16*+A,U,q+wv[A]);for(A=Z.Gc,Dt=Fr(I,M,Z.Dd),Bo[Dt]($,Q),Bo[Dt](ut,xt),wt=Lt,Dt=$,Mt=Q,255&(Z=0|A)&&(170&Z?eo(wt,256,Dt,Mt):wn(wt,256,Dt,Mt)),Z=ut,wt=xt,255&(A>>=8)&&(170&A?eo(Lt,320,Z,wt):wn(Lt,320,Z,wt)),M<f.Ub-1&&(i(ht[bt].y,0,U,q+480,16),i(ht[bt].f,0,$,Q+224,8),i(ht[bt].ea,0,ut,xt+224,8)),A=8*B*f.B,ht=f.sa,bt=f.ta+16*I+16*B*f.R,Lt=f.qa,Z=f.ra+8*I+A,wt=f.Ha,Dt=f.Ia+8*I+A,A=0;16>A;++A)i(ht,bt+A*f.R,U,q+32*A,16);for(A=0;8>A;++A)i(Lt,Z+A*f.B,$,Q+32*A,8),i(wt,Dt+A*f.B,ut,xt+32*A,8)}}function xs(f,m,A,I,M,B,U,q,$){var Q=[0],ut=[0],xt=0,Z=$!=null?$.kd:0,ht=$??new Ot;if(f==null||12>A)return 7;ht.data=f,ht.w=m,ht.ha=A,m=[m],A=[A],ht.gb=[ht.gb];t:{var bt=m,Lt=A,wt=ht.gb;if(t(f!=null),t(Lt!=null),t(wt!=null),wt[0]=0,12<=Lt[0]&&!e(f,bt[0],"RIFF")){if(e(f,bt[0]+8,"WEBP")){wt=3;break t}var Dt=G(f,bt[0]+4);if(12>Dt||4294967286<Dt){wt=3;break t}if(Z&&Dt>Lt[0]-8){wt=7;break t}wt[0]=Dt,bt[0]+=12,Lt[0]-=12}wt=0}if(wt!=0)return wt;for(Dt=0<ht.gb[0],A=A[0];;){t:{var Mt=f;Lt=m,wt=A;var qt=Q,Ut=ut,ge=bt=[0];if((fe=xt=[xt])[0]=0,8>wt[0])wt=7;else{if(!e(Mt,Lt[0],"VP8X")){if(G(Mt,Lt[0]+4)!=10){wt=3;break t}if(18>wt[0]){wt=7;break t}var ae=G(Mt,Lt[0]+8),Fe=1+K(Mt,Lt[0]+12);if(2147483648<=Fe*(Mt=1+K(Mt,Lt[0]+15))){wt=3;break t}ge!=null&&(ge[0]=ae),qt!=null&&(qt[0]=Fe),Ut!=null&&(Ut[0]=Mt),Lt[0]+=18,wt[0]-=18,fe[0]=1}wt=0}}if(xt=xt[0],bt=bt[0],wt!=0)return wt;if(Lt=!!(2&bt),!Dt&&xt)return 3;if(B!=null&&(B[0]=!!(16&bt)),U!=null&&(U[0]=Lt),q!=null&&(q[0]=0),U=Q[0],bt=ut[0],xt&&Lt&&$==null){wt=0;break}if(4>A){wt=7;break}if(Dt&&xt||!Dt&&!xt&&!e(f,m[0],"ALPH")){A=[A],ht.na=[ht.na],ht.P=[ht.P],ht.Sa=[ht.Sa];t:{ae=f,wt=m,Dt=A;var fe=ht.gb;qt=ht.na,Ut=ht.P,ge=ht.Sa,Fe=22,t(ae!=null),t(Dt!=null),Mt=wt[0];var Je=Dt[0];for(t(qt!=null),t(ge!=null),qt[0]=null,Ut[0]=null,ge[0]=0;;){if(wt[0]=Mt,Dt[0]=Je,8>Je){wt=7;break t}var _i=G(ae,Mt+4);if(4294967286<_i){wt=3;break t}var Ve=8+_i+1&-2;if(Fe+=Ve,0<fe&&Fe>fe){wt=3;break t}if(!e(ae,Mt,"VP8 ")||!e(ae,Mt,"VP8L")){wt=0;break t}if(Je[0]<Ve){wt=7;break t}e(ae,Mt,"ALPH")||(qt[0]=ae,Ut[0]=Mt+8,ge[0]=_i),Mt+=Ve,Je-=Ve}}if(A=A[0],ht.na=ht.na[0],ht.P=ht.P[0],ht.Sa=ht.Sa[0],wt!=0)break}A=[A],ht.Ja=[ht.Ja],ht.xa=[ht.xa];t:if(fe=f,wt=m,Dt=A,qt=ht.gb[0],Ut=ht.Ja,ge=ht.xa,ae=wt[0],Mt=!e(fe,ae,"VP8 "),Fe=!e(fe,ae,"VP8L"),t(fe!=null),t(Dt!=null),t(Ut!=null),t(ge!=null),8>Dt[0])wt=7;else{if(Mt||Fe){if(fe=G(fe,ae+4),12<=qt&&fe>qt-12){wt=3;break t}if(Z&&fe>Dt[0]-8){wt=7;break t}Ut[0]=fe,wt[0]+=8,Dt[0]-=8,ge[0]=Fe}else ge[0]=5<=Dt[0]&&fe[ae+0]==47&&!(fe[ae+4]>>5),Ut[0]=Dt[0];wt=0}if(A=A[0],ht.Ja=ht.Ja[0],ht.xa=ht.xa[0],m=m[0],wt!=0)break;if(4294967286<ht.Ja)return 3;if(q==null||Lt||(q[0]=ht.xa?2:1),U=[U],bt=[bt],ht.xa){if(5>A){wt=7;break}q=U,Z=bt,Lt=B,f==null||5>A?f=0:5<=A&&f[m+0]==47&&!(f[m+4]>>5)?(Dt=[0],fe=[0],qt=[0],Et(Ut=new J,f,m,A),ns(Ut,Dt,fe,qt)?(q!=null&&(q[0]=Dt[0]),Z!=null&&(Z[0]=fe[0]),Lt!=null&&(Lt[0]=qt[0]),f=1):f=0):f=0}else{if(10>A){wt=7;break}q=bt,f==null||10>A||!Ol(f,m+3,A-3)?f=0:(Z=f[m+0]|f[m+1]<<8|f[m+2]<<16,Lt=16383&(f[m+7]<<8|f[m+6]),f=16383&(f[m+9]<<8|f[m+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ht.Ja||!Lt||!f?f=0:(U&&(U[0]=Lt),q&&(q[0]=f),f=1))}if(!f||(U=U[0],bt=bt[0],xt&&(Q[0]!=U||ut[0]!=bt)))return 3;$!=null&&($[0]=ht,$.offset=m-$.w,t(4294967286>m-$.w),t($.offset==$.ha-A));break}return wt==0||wt==7&&xt&&$==null?(B!=null&&(B[0]|=ht.na!=null&&0<ht.na.length),I!=null&&(I[0]=U),M!=null&&(M[0]=bt),0):wt}function rh(f,m,A){var I=m.width,M=m.height,B=0,U=0,q=I,$=M;if(m.Da=f!=null&&0<f.Da,m.Da&&(q=f.cd,$=f.bd,B=f.v,U=f.j,11>A||(B&=-2,U&=-2),0>B||0>U||0>=q||0>=$||B+q>I||U+$>M))return 0;if(m.v=B,m.j=U,m.va=B+q,m.o=U+$,m.U=q,m.T=$,m.da=f!=null&&0<f.da,m.da){if(!Ct(q,$,A=[f.ib],B=[f.hb]))return 0;m.ib=A[0],m.hb=B[0]}return m.ob=f!=null&&f.ob,m.Kb=f==null||!f.Sd,m.da&&(m.ob=m.ib<3*I/4&&m.hb<3*M/4,m.Kb=0),1}function sh(f){if(f==null)return 2;if(11>f.S){var m=f.f.RGBA;m.fb+=(f.height-1)*m.A,m.A=-m.A}else m=f.f.kb,f=f.height,m.O+=(f-1)*m.fa,m.fa=-m.fa,m.N+=(f-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(f-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(f-1)*m.lb,m.lb=-m.lb);return 0}function Ia(f,m,A,I){if(I==null||0>=f||0>=m)return 2;if(A!=null){if(A.Da){var M=A.cd,B=A.bd,U=-2&A.v,q=-2&A.j;if(0>U||0>q||0>=M||0>=B||U+M>f||q+B>m)return 2;f=M,m=B}if(A.da){if(!Ct(f,m,M=[A.ib],B=[A.hb]))return 2;f=M[0],m=B[0]}}I.width=f,I.height=m;t:{var $=I.width,Q=I.height;if(f=I.S,0>=$||0>=Q||!(f>=fd&&13>f))f=2;else{if(0>=I.Rd&&I.sd==null){U=B=M=m=0;var ut=(q=$*Av[f])*Q;if(11>f||(B=(Q+1)/2*(m=($+1)/2),f==12&&(U=(M=$)*Q)),(Q=s(ut+2*B+U))==null){f=1;break t}I.sd=Q,11>f?(($=I.f.RGBA).eb=Q,$.fb=0,$.A=q,$.size=ut):(($=I.f.kb).y=Q,$.O=0,$.fa=q,$.Fd=ut,$.f=Q,$.N=0+ut,$.Ab=m,$.Cd=B,$.ea=Q,$.W=0+ut+B,$.Db=m,$.Ed=B,f==12&&($.F=Q,$.J=0+ut+2*B),$.Tc=U,$.lb=M)}if(m=1,M=I.S,B=I.width,U=I.height,M>=fd&&13>M)if(11>M)f=I.f.RGBA,m&=(q=Math.abs(f.A))*(U-1)+B<=f.size,m&=q>=B*Av[M],m&=f.eb!=null;else{f=I.f.kb,q=(B+1)/2,ut=(U+1)/2,$=Math.abs(f.fa),Q=Math.abs(f.Ab);var xt=Math.abs(f.Db),Z=Math.abs(f.lb),ht=Z*(U-1)+B;m&=$*(U-1)+B<=f.Fd,m&=Q*(ut-1)+q<=f.Cd,m=(m&=xt*(ut-1)+q<=f.Ed)&$>=B&Q>=q&xt>=q,m&=f.y!=null,m&=f.f!=null,m&=f.ea!=null,M==12&&(m&=Z>=B,m&=ht<=f.Tc,m&=f.F!=null)}else m=0;f=m?0:2}}return f!=0||A!=null&&A.fd&&(f=sh(I)),f}var zl=64,Vr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Br=24,Pa=32,Fo=8,ka=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(f){return f},P.Predictor2=function(f,m,A){return m[A+0]},P.Predictor3=function(f,m,A){return m[A+1]},P.Predictor4=function(f,m,A){return m[A-1]},P.Predictor5=function(f,m,A){return Rt(Rt(f,m[A+1]),m[A+0])},P.Predictor6=function(f,m,A){return Rt(f,m[A-1])},P.Predictor7=function(f,m,A){return Rt(f,m[A+0])},P.Predictor8=function(f,m,A){return Rt(m[A-1],m[A+0])},P.Predictor9=function(f,m,A){return Rt(m[A+0],m[A+1])},P.Predictor10=function(f,m,A){return Rt(Rt(f,m[A-1]),Rt(m[A+0],m[A+1]))},P.Predictor11=function(f,m,A){var I=m[A+0];return 0>=Ht(I>>24&255,f>>24&255,(m=m[A-1])>>24&255)+Ht(I>>16&255,f>>16&255,m>>16&255)+Ht(I>>8&255,f>>8&255,m>>8&255)+Ht(255&I,255&f,255&m)?I:f},P.Predictor12=function(f,m,A){var I=m[A+0];return(Yt((f>>24&255)+(I>>24&255)-((m=m[A-1])>>24&255))<<24|Yt((f>>16&255)+(I>>16&255)-(m>>16&255))<<16|Yt((f>>8&255)+(I>>8&255)-(m>>8&255))<<8|Yt((255&f)+(255&I)-(255&m)))>>>0},P.Predictor13=function(f,m,A){var I=m[A-1];return($t((f=Rt(f,m[A+0]))>>24&255,I>>24&255)<<24|$t(f>>16&255,I>>16&255)<<16|$t(f>>8&255,I>>8&255)<<8|$t(255&f,255&I))>>>0};var oh=P.PredictorAdd0;P.PredictorAdd1=ne,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var Fc=P.PredictorAdd2;ie("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ie("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var ri,cd=P.ColorIndexInverseTransform,Zs=P.MapARGB,to=P.VP8LColorIndexInverseTransformAlpha,ah=P.MapAlpha,lh=P.VP8LPredictorsAdd=[];lh.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var ch,uh,Ca,Ra,Na,Hl,La,$l,os,eo,cn,wn,si,vi,Vo,hh,Vc,ud,X2,Q2,Z2,tv,ev,nv,fh,iv,rv,sv,ov=s(511),av=s(2041),lv=s(225),cv=s(767),uv=0,xm=av,hd=lv,jr=cv,as=ov,fd=0,dd=1,hv=2,pd=3,gd=4,Sm=5,fv=6,Em=7,Tm=8,md=9,Im=10,x3=[2,3,7],S3=[3,3,11],dv=[280,256,256,256,40],E3=[0,1,1,1,0],T3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],I3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],P3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k3=8,Pm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],km=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dh=null,C3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],R3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],N3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],L3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],D3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],Ss=[],Bo=[],M3=1,gv=2,Da=[],ls=[];Ni("UpsampleRgbLinePair",z,3),Ni("UpsampleBgrLinePair",vt,3),Ni("UpsampleRgbaLinePair",ze,4),Ni("UpsampleBgraLinePair",Kn,4),Ni("UpsampleArgbLinePair",Ye,4),Ni("UpsampleRgba4444LinePair",Gt,2),Ni("UpsampleRgb565LinePair",St,2);var F3=P.UpsampleRgbLinePair,V3=P.UpsampleBgrLinePair,mv=P.UpsampleRgbaLinePair,yv=P.UpsampleBgraLinePair,vv=P.UpsampleArgbLinePair,_v=P.UpsampleRgba4444LinePair,B3=P.UpsampleRgb565LinePair,yd=16,vd=1<<yd-1,ph=-227,Cm=482,j3=6,bv=0,U3=s(256),q3=s(256),z3=s(256),H3=s(256),$3=s(Cm-ph),W3=s(Cm-ph);Tn("YuvToRgbRow",z,3),Tn("YuvToBgrRow",vt,3),Tn("YuvToRgbaRow",ze,4),Tn("YuvToBgraRow",Kn,4),Tn("YuvToArgbRow",Ye,4),Tn("YuvToRgba4444Row",Gt,2),Tn("YuvToRgb565Row",St,2);var wv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_d=[0,2,8],G3=[8,7,6,4,4,2,2,2,1,1,1,1],K3=1;this.WebPDecodeRGBA=function(f,m,A,I,M){var B=dd,U=new pt,q=new an;U.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var $=q.width,Q=q.height,ut=new we;if(ut==null||f==null)var xt=2;else t(ut!=null),xt=xs(f,m,A,ut.width,ut.height,ut.Pd,ut.Qd,ut.format,null);if(xt!=0?$=0:($!=null&&($[0]=ut.width[0]),Q!=null&&(Q[0]=ut.height[0]),$=1),$){q.width=q.width[0],q.height=q.height[0],I!=null&&(I[0]=q.width),M!=null&&(M[0]=q.height);t:{if(I=new $s,(M=new Ot).data=f,M.w=m,M.ha=A,M.kd=1,m=[0],t(M!=null),((f=xs(M.data,M.w,M.ha,null,null,null,m,null,M))==0||f==7)&&m[0]&&(f=4),(m=f)==0){if(t(U!=null),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=ve,I.ac=qi,I.bc=Ln,I.ma=U,M.xa){if((f=qs())==null){U=1;break t}if((function(Z,ht){var bt=[0],Lt=[0],wt=[0];e:for(;;){if(Z==null)return 0;if(ht==null)return Z.a=2,0;if(Z.l=ht,Z.a=0,Et(Z.m,ht.data,ht.w,ht.ha),!ns(Z.m,bt,Lt,wt)){Z.a=3;break e}if(Z.xb=gv,ht.width=bt[0],ht.height=Lt[0],!Lr(bt[0],Lt[0],1,Z,null))break e;return 1}return t(Z.a!=0),0})(f,I)){if(I=(m=Ia(I.width,I.height,U.Oa,U.ba))==0){e:{I=f;n:for(;;){if(I==null){I=0;break e}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((A=I.l)!=null),t((M=A.ma)!=null),I.xb!=0){if(I.ca=M.ba,I.tb=M.tb,t(I.ca!=null),!rh(M.Oa,A,pd)){I.a=2;break n}if(!vs(I,A.width)||A.da)break n;if((A.da||Ie(I.ca.S))&&En(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&En()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!j(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Hi(I,I.V,I.Ba,I.c,I.i,A.o,Us))break n;M.Dc=I.Ma,I=1;break e}t(I.a!=0),I=0}I=!I}I&&(m=f.a)}else m=f.a}else{if((f=new Ll)==null){U=1;break t}if(f.Fa=M.na,f.P=M.P,f.qc=M.Sa,Oc(f,I)){if((m=Ia(I.width,I.height,U.Oa,U.ba))==0){if(f.Aa=0,A=U.Oa,t((M=f)!=null),A!=null){if(0<($=0>($=A.Md)?0:100<$?255:255*$/100)){for(Q=ut=0;4>Q;++Q)12>(xt=M.pb[Q]).lc&&(xt.ia=$*G3[0>xt.lc?0:xt.lc]>>3),ut|=xt.ia;ut&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=A.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(Z,ht){if(Z==null)return 0;if(ht==null)return $n(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Oc(Z,ht))return 0;if(t(Z.cb),ht.ac==null||ht.ac(ht)){ht.ob&&(Z.L=0);var bt=_d[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ht.v-bt>>4,Z.zb=ht.j-bt>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ht.o+15+bt>>4,Z.Hb=ht.va+15+bt>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Lt=Z.ed;for(bt=0;4>bt;++bt){var wt;if(Z.Qa.Cb){var Dt=Z.Qa.Lb[bt];Z.Qa.Fb||(Dt+=Lt.Tb)}else Dt=Lt.Tb;for(wt=0;1>=wt;++wt){var Mt=Z.gd[bt][wt],qt=Dt;if(Lt.Pc&&(qt+=Lt.vd[0],wt&&(qt+=Lt.od[0])),0<(qt=0>qt?0:63<qt?63:qt)){var Ut=qt;0<Lt.wb&&(Ut=4<Lt.wb?Ut>>2:Ut>>1)>9-Lt.wb&&(Ut=9-Lt.wb),1>Ut&&(Ut=1),Mt.dd=Ut,Mt.tc=2*qt+Ut,Mt.ld=40<=qt?2:15<=qt?1:0}else Mt.tc=0;Mt.La=wt}}}bt=0}else $n(Z,6,"Frame setup failed"),bt=Z.a;if(bt=bt==0){if(bt){Z.$c=0,0<Z.Aa||(Z.Ic=K3);e:{bt=Z.Ic,Lt=4*(Ut=Z.za);var ge=32*Ut,ae=Ut+1,Fe=0<Z.L?Ut*(0<Z.Aa?2:1):0,fe=(Z.Aa==2?2:1)*Ut;if((Mt=Lt+832+(wt=3*(16*bt+_d[Z.L])/2*ge)+(Dt=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Mt)bt=0;else{if(Mt>Z.Vb){if(Z.Vb=0,Z.Ec=s(Mt),Z.Fc=0,Z.Ec==null){bt=$n(Z,1,"no memory during frame initialization.");break e}Z.Vb=Mt}Mt=Z.Ec,qt=Z.Fc,Z.Ac=Mt,Z.Bc=qt,qt+=Lt,Z.Gd=o(ge,Rl),Z.Hd=0,Z.rb=o(ae+1,Or),Z.sb=1,Z.wa=Fe?o(Fe,Ii):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Ut),t(!0),Z.oc=Mt,Z.pc=qt,qt+=832,Z.ya=o(fe,kl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Ut),Z.R=16*Ut,Z.B=8*Ut,Ut=(ge=_d[Z.L])*Z.R,ge=ge/2*Z.B,Z.sa=Mt,Z.ta=qt+Ut,Z.qa=Z.sa,Z.ra=Z.ta+16*bt*Z.R+ge,Z.Ha=Z.qa,Z.Ia=Z.ra+8*bt*Z.B+ge,Z.$c=0,qt+=wt,Z.mb=Dt?Mt:null,Z.nb=Dt?qt:null,t(qt+Dt<=Z.Fc+Z.Vb),Ws(Z),r(Z.Ac,Z.Bc,0,Lt),bt=1}}if(bt){if(ht.ka=0,ht.y=Z.sa,ht.O=Z.ta,ht.f=Z.qa,ht.N=Z.ra,ht.ea=Z.Ha,ht.Vd=Z.Ia,ht.fa=Z.R,ht.Rc=Z.B,ht.F=null,ht.J=0,!uv){for(bt=-255;255>=bt;++bt)ov[255+bt]=0>bt?-bt:bt;for(bt=-1020;1020>=bt;++bt)av[1020+bt]=-128>bt?-128:127<bt?127:bt;for(bt=-112;112>=bt;++bt)lv[112+bt]=-16>bt?-16:15<bt?15:bt;for(bt=-255;510>=bt;++bt)cv[255+bt]=0>bt?0:255<bt?255:bt;uv=1}La=Gs,$l=wa,eo=Dc,cn=$e,wn=No,os=ba,si=jl,vi=Ta,Vo=v,hh=O,Vc=ss,ud=Ul,X2=X,Q2=rt,Z2=Xs,tv=Qs,ev=vr,nv=Bl,Ss[0]=eh,Ss[1]=Dl,Ss[2]=Ys,Ss[3]=th,Ss[4]=nh,Ss[5]=bs,Ss[6]=Pi,Ss[7]=ih,Ss[8]=ws,Ss[9]=xa,Oa[0]=yr,Oa[1]=Qu,Oa[2]=Zu,Oa[3]=Ml,Oa[4]=is,Oa[5]=Ks,Oa[6]=Aa,Bo[0]=Oo,Bo[1]=Mc,Bo[2]=Sa,Bo[3]=Dr,Bo[4]=bn,Bo[5]=Fl,Bo[6]=Vl,bt=1}else bt=0}bt&&(bt=(function(Je,_i){for(Je.M=0;Je.M<Je.Va;++Je.M){var Ve,de=Je.Jc[Je.M&Je.Xb],Jt=Je.m,oi=Je;for(Ve=0;Ve<oi.za;++Ve){var Le=Jt,Ze=oi,On=Ze.Ac,Oi=Ze.Bc+4*Ve,ur=Ze.zc,Qn=Ze.ya[Ze.aa+Ve];if(Ze.Qa.Bb?Qn.$b=dt(Le,Ze.Pa.jb[0])?2+dt(Le,Ze.Pa.jb[2]):dt(Le,Ze.Pa.jb[1]):Qn.$b=0,Ze.kc&&(Qn.Ad=dt(Le,Ze.Bd)),Qn.Za=!dt(Le,145)+0,Qn.Za){var Wi=Qn.Ob,hr=0;for(Ze=0;4>Ze;++Ze){var bi,en=ur[0+Ze];for(bi=0;4>bi;++bi){en=L3[On[Oi+bi]][en];for(var mn=pv[dt(Le,en[0])];0<mn;)mn=pv[2*mn+dt(Le,en[mn])];en=-mn,On[Oi+bi]=en}i(Wi,hr,On,Oi,4),hr+=4,ur[0+Ze]=en}}else en=dt(Le,156)?dt(Le,128)?1:3:dt(Le,163)?2:0,Qn.Ob[0]=en,r(On,Oi,en,4),r(ur,0,en,4);Qn.Dd=dt(Le,142)?dt(Le,114)?dt(Le,183)?1:3:2:0}if(oi.m.Ka)return $n(Je,7,"Premature end-of-partition0 encountered.");for(;Je.ja<Je.za;++Je.ja){if(oi=de,Le=(Jt=Je).rb[Jt.sb-1],On=Jt.rb[Jt.sb+Jt.ja],Ve=Jt.ya[Jt.aa+Jt.ja],Oi=Jt.kc?Ve.Ad:0)Le.la=On.la=0,Ve.Za||(Le.Na=On.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var Zn,yn;if(Le=On,On=oi,Oi=Jt.Pa.Xc,ur=Jt.ya[Jt.aa+Jt.ja],Qn=Jt.pb[ur.$b],Ze=ur.ad,Wi=0,hr=Jt.rb[Jt.sb-1],en=bi=0,r(Ze,Wi,0,384),ur.Za)var Di=0,Es=Oi[3];else{mn=s(16);var ai=Le.Na+hr.Na;if(ai=dh(On,Oi[1],ai,Qn.Eb,0,mn,0),Le.Na=hr.Na=(0<ai)+0,1<ai)La(mn,0,Ze,Wi);else{var _r=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)Ze[Wi+mn]=_r}Di=1,Es=Oi[0]}var An=15&Le.la,wi=15&hr.la;for(mn=0;4>mn;++mn){var Ur=1&wi;for(_r=yn=0;4>_r;++_r)An=An>>1|(Ur=(ai=dh(On,Es,ai=Ur+(1&An),Qn.Sc,Di,Ze,Wi))>Di)<<7,yn=yn<<2|(3<ai?3:1<ai?2:Ze[Wi+0]!=0),Wi+=16;An>>=4,wi=wi>>1|Ur<<7,bi=(bi<<8|yn)>>>0}for(Es=An,Di=wi>>4,Zn=0;4>Zn;Zn+=2){for(yn=0,An=Le.la>>4+Zn,wi=hr.la>>4+Zn,mn=0;2>mn;++mn){for(Ur=1&wi,_r=0;2>_r;++_r)ai=Ur+(1&An),An=An>>1|(Ur=0<(ai=dh(On,Oi[2],ai,Qn.Qc,0,Ze,Wi)))<<3,yn=yn<<2|(3<ai?3:1<ai?2:Ze[Wi+0]!=0),Wi+=16;An>>=2,wi=wi>>1|Ur<<5}en|=yn<<4*Zn,Es|=An<<4<<Zn,Di|=(240&wi)<<Zn}Le.la=Es,hr.la=Di,ur.Hc=bi,ur.Gc=en,ur.ia=43690&en?0:Qn.ia,Oi=!(bi|en)}if(0<Jt.L&&(Jt.wa[Jt.Y+Jt.ja]=Jt.gd[Ve.$b][Ve.Za],Jt.wa[Jt.Y+Jt.ja].La|=!Oi),oi.Ka)return $n(Je,7,"Premature end-of-file encountered.")}if(Ws(Je),Jt=_i,oi=1,Ve=(de=Je).D,Le=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Ve.M=de.M,Ve.uc=Le,Li(de,Ve),oi=1,Ve=(yn=de.D).Nb,Le=(en=_d[de.L])*de.R,On=en/2*de.B,mn=16*Ve*de.R,_r=8*Ve*de.B,Oi=de.sa,ur=de.ta-Le+mn,Qn=de.qa,Ze=de.ra-On+_r,Wi=de.Ha,hr=de.Ia-On+_r,wi=(An=yn.M)==0,bi=An>=de.Va-1,de.Aa==2&&Li(de,yn),yn.uc)for(Ur=(ai=de).D.M,t(ai.D.uc),yn=ai.yb;yn<ai.Hb;++yn){Di=yn,Es=Ur;var fr=(qr=(Mi=ai).D).Nb;Zn=Mi.R;var qr=qr.wa[qr.Y+Di],zr=Mi.sa,br=Mi.ta+16*fr*Zn+16*Di,Hr=qr.dd,In=qr.tc;if(In!=0)if(t(3<=In),Mi.L==1)0<Di&&tv(zr,br,Zn,In+4),qr.La&&nv(zr,br,Zn,In),0<Es&&Z2(zr,br,Zn,In+4),qr.La&&ev(zr,br,Zn,In);else{var $r=Mi.B,Ts=Mi.qa,Wl=Mi.ra+8*fr*$r+8*Di,jo=Mi.Ha,Mi=Mi.Ia+8*fr*$r+8*Di;fr=qr.ld,0<Di&&(vi(zr,br,Zn,In+4,Hr,fr),hh(Ts,Wl,jo,Mi,$r,In+4,Hr,fr)),qr.La&&(ud(zr,br,Zn,In,Hr,fr),Q2(Ts,Wl,jo,Mi,$r,In,Hr,fr)),0<Es&&(si(zr,br,Zn,In+4,Hr,fr),Vo(Ts,Wl,jo,Mi,$r,In+4,Hr,fr)),qr.La&&(Vc(zr,br,Zn,In,Hr,fr),X2(Ts,Wl,jo,Mi,$r,In,Hr,fr))}}if(de.ia&&alert("todo:DitherRow"),Jt.put!=null){if(yn=16*An,An=16*(An+1),wi?(Jt.y=de.sa,Jt.O=de.ta+mn,Jt.f=de.qa,Jt.N=de.ra+_r,Jt.ea=de.Ha,Jt.W=de.Ia+_r):(yn-=en,Jt.y=Oi,Jt.O=ur,Jt.f=Qn,Jt.N=Ze,Jt.ea=Wi,Jt.W=hr),bi||(An-=en),An>Jt.o&&(An=Jt.o),Jt.F=null,Jt.J=null,de.Fa!=null&&0<de.Fa.length&&yn<An&&(Jt.J=Wn(de,Jt,yn,An-yn),Jt.F=de.mb,Jt.F==null&&Jt.F.length==0)){oi=$n(de,3,"Could not decode alpha data.");break e}yn<Jt.j&&(en=Jt.j-yn,yn=Jt.j,t(!(1&en)),Jt.O+=de.R*en,Jt.N+=de.B*(en>>1),Jt.W+=de.B*(en>>1),Jt.F!=null&&(Jt.J+=Jt.width*en)),yn<An&&(Jt.O+=Jt.v,Jt.N+=Jt.v>>1,Jt.W+=Jt.v>>1,Jt.F!=null&&(Jt.J+=Jt.v),Jt.ka=yn-Jt.j,Jt.U=Jt.va-Jt.v,Jt.T=An-yn,oi=Jt.put(Jt))}Ve+1!=de.Ic||bi||(i(de.sa,de.ta-Le,Oi,ur+16*de.R,Le),i(de.qa,de.ra-On,Qn,Ze+8*de.B,On),i(de.Ha,de.Ia-On,Wi,hr+8*de.B,On))}if(!oi)return $n(Je,6,"Output aborted.")}return 1})(Z,ht)),ht.bc!=null&&ht.bc(ht),bt&=1}return bt?(Z.cb=0,bt):0})(f,I)||(m=f.a)}}else m=f.a}m==0&&U.Oa!=null&&U.Oa.fd&&(m=sh(U.ba))}U=m}B=U!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var Av=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,F){for(var S="",C=0;C<4;C++)S+=String.fromCharCode(P[F++]);return S}function u(P,F){return P[F+0]|P[F+1]<<8}function h(P,F){return(P[F+0]|P[F+1]<<8|P[F+2]<<16)>>>0}function g(P,F){return(P[F+0]|P[F+1]<<8|P[F+2]<<16|P[F+3]<<24)>>>0}new l;var p=[0],y=[0],b=[],w=new l,_=n,E=(function(P,F){var S={},C=0,N=!1,nt=0,ft=0;if(S.frames=[],!(function(V,J){for(var et=0;et<4;et++)if(V[J+et]!="RIFF".charCodeAt(et))return!0;return!1})(P,F)){for(g(P,F+=4),F+=8;F<P.length;){var gt=c(P,F),mt=g(P,F+=4);F+=4;var at=mt+(1&mt);switch(gt){case"VP8 ":case"VP8L":S.frames[C]===void 0&&(S.frames[C]={}),(kt=S.frames[C]).src_off=N?ft:F-8,kt.src_size=nt+mt+8,C++,N&&(N=!1,nt=0,ft=0);break;case"VP8X":(kt=S.header={}).feature_flags=P[F];var Et=F+4;kt.canvas_width=1+h(P,Et),Et+=3,kt.canvas_height=1+h(P,Et),Et+=3;break;case"ALPH":N=!0,nt=at+8,ft=F-8;break;case"ANIM":(kt=S.header).bgcolor=g(P,F),Et=F+4,kt.loop_count=u(P,Et),Et+=2;break;case"ANMF":var jt,kt;(kt=S.frames[C]={}).offset_x=2*h(P,F),F+=3,kt.offset_y=2*h(P,F),F+=3,kt.width=1+h(P,F),F+=3,kt.height=1+h(P,F),F+=3,kt.duration=h(P,F),F+=3,jt=P[F++],kt.dispose=1&jt,kt.blend=jt>>1&1}gt!="ANMF"&&(F+=at)}return S}})(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var k=E.header?E.header:null,D=E.frames?E.frames:null;if(k){k.loop_counter=k.loop_count,p=[k.canvas_height],y=[k.canvas_width];for(var W=0;W<D.length&&D[W].blend!=0;W++);}var it=D[0],L=w.WebPDecodeRGBA(_,it.src_off,it.src_size,y,p);it.rgba=L,it.imgwidth=y[0],it.imgheight=p[0];for(var T=0;T<y[0]*p[0]*4;T++)b[T]=L[T];return this.width=y,this.height=p,this.data=b,this}(function(n){var t,e,i,r,s,o,a,l,c,u=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=V;Object.defineProperty(this,"pdf",{get:function(){return J}});var et=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return et},set:function(G){et=!!G}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(G){st=!!G}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(G){isNaN(G)||(ct=G)}});var tt=0;Object.defineProperty(this,"posY",{get:function(){return tt},set:function(G){isNaN(G)||(tt=G)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(G){var j;typeof G=="number"?j=[G,G,G,G]:((j=new Array(4))[0]=G[0],j[1]=G.length>=2?G[1]:j[0],j[2]=G.length>=3?G[2]:j[0],j[3]=G.length>=4?G[3]:j[1]),c.margin=j}});var lt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return lt},set:function(G){lt=G}});var ot=0;Object.defineProperty(this,"lastBreak",{get:function(){return ot},set:function(G){ot=G}});var dt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return dt},set:function(G){dt=G}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(G){G instanceof u&&(c=G)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(G){c.path=G}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(G){Nt=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var j;j=g(G),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var j=g(G);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var H=null,K=null;Object.defineProperty(this,"fontFaces",{get:function(){return K},set:function(G){H=null,K=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var j;if(this.ctx.font=G,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(G))!==null){var Tt=j[1];j[2];var At=j[3],Ct=j[4];j[5];var yt=j[6],It=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ct)[2];Ct=Math.floor(It==="px"?parseFloat(Ct)*this.pdf.internal.scaleFactor:It==="em"?parseFloat(Ct)*this.pdf.getFontSize():parseFloat(Ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ct);var _t=(function(oe){var ie,Ne,Be=[],le=oe.trim();if(le==="")return C1;if(le in bw)return[bw[le]];for(;le!=="";){switch(Ne=null,ie=(le=Aw(le)).charAt(0)){case'"':case"'":Ne=mU(le.substring(1),ie);break;default:Ne=yU(le)}if(Ne===null||(Be.push(Ne[0]),(le=Aw(Ne[1]))!==""&&le.charAt(0)!==","))return C1;le=le.replace(/^,/,"")}return Be})(yt);if(this.fontFaces){var zt=(function(oe,ie){if(H===null){var Ne=(function(Be){var le=[];return Object.keys(Be).forEach(function(he){Be[he].forEach(function(je){var me=null;switch(je){case"bold":me={family:he,weight:"bold"};break;case"italic":me={family:he,style:"italic"};break;case"bolditalic":me={family:he,weight:"bold",style:"italic"};break;case"":case"normal":me={family:he}}me!==null&&(me.ref={name:he,style:je},le.push(me))})}),le})(oe.getFontList());H=(function(Be){for(var le={},he=0;he<Be.length;++he){var je=k1(Be[he]),me=je.family,De=je.stretch,Ie=je.style,Bn=je.weight;le[me]=le[me]||{},le[me][De]=le[me][De]||{},le[me][De][Ie]=le[me][De][Ie]||{},le[me][De][Ie][Bn]=je}return le})(Ne.concat(ie))}return H})(this.pdf,this.fontFaces),Rt=_t.map(function(oe){return{family:oe,stretch:"normal",weight:At,style:Tt}}),Yt=(function(oe,ie,Ne){for(var Be=(Ne=Ne||{}).defaultFontFamily||"times",le=Object.assign({},gU,Ne.genericFontFamilies||{}),he=null,je=null,me=0;me<ie.length;++me)if(le[(he=k1(ie[me])).family]&&(he.family=le[he.family]),oe.hasOwnProperty(he.family)){je=oe[he.family];break}if(!(je=je||oe[Be]))throw new Error("Could not find a font-family for the rule '"+ww(he)+"' and default family '"+Be+"'.");if(je=(function(De,Ie){if(Ie[De])return Ie[De];var Bn=X0[De],Nn=Bn<=X0.normal?-1:1,an=_w(Ie,uI,Bn,Nn);if(!an)throw new Error("Could not find a matching font-stretch value for "+De);return an})(he.stretch,je),je=(function(De,Ie){if(Ie[De])return Ie[De];for(var Bn=cI[De],Nn=0;Nn<Bn.length;++Nn)if(Ie[Bn[Nn]])return Ie[Bn[Nn]];throw new Error("Could not find a matching font-style for "+De)})(he.style,je),!(je=(function(De,Ie){if(Ie[De])return Ie[De];if(De===400&&Ie[500])return Ie[500];if(De===500&&Ie[400])return Ie[400];var Bn=pU[De],Nn=_w(Ie,hI,Bn,De<400?-1:1);if(!Nn)throw new Error("Could not find a matching font-weight for value "+De);return Nn})(he.weight,je)))throw new Error("Failed to resolve a font for the rule '"+ww(he)+"'.");return je})(zt,Rt);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var $t="";(At==="bold"||parseInt(At,10)>=700||Tt==="bold")&&($t="bold"),Tt==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var Ht="",ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xt=0;Xt<_t.length;Xt++){if(this.pdf.internal.getFont(_t[Xt],$t,{noFallback:!0,disableWarning:!0})!==void 0){Ht=_t[Xt];break}if($t==="bolditalic"&&this.pdf.internal.getFont(_t[Xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=_t[Xt],$t="bold";else if(this.pdf.internal.getFont(_t[Xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=_t[Xt],$t="normal";break}}if(Ht===""){for(var ee=0;ee<_t.length;ee++)if(ne[_t[ee]]){Ht=ne[_t[ee]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,kt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,kt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){D.call(this,"fill",!1)},h.prototype.stroke=function(){D.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,J){if(isNaN(V)||isNaN(J))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var et=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"mt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(V,J)},h.prototype.closePath=function(){var V=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&_n(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){V=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,J){if(isNaN(V)||isNaN(J))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var et=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"lt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(et.x,et.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,J,et,st){if(isNaN(et)||isNaN(st)||isNaN(V)||isNaN(J))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(et,st)),tt=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"qct",x1:tt.x,y1:tt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},h.prototype.bezierCurveTo=function(V,J,et,st,ct,tt){if(isNaN(ct)||isNaN(tt)||isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var lt=this.ctx.transform.applyToPoint(new o(ct,tt)),ot=this.ctx.transform.applyToPoint(new o(V,J)),dt=this.ctx.transform.applyToPoint(new o(et,st));this.path.push({type:"bct",x1:ot.x,y1:ot.y,x2:dt.x,y2:dt.y,x:lt.x,y:lt.y}),this.ctx.lastPoint=new o(lt.x,lt.y)},h.prototype.arc=function(V,J,et,st,ct,tt){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st)||isNaN(ct))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(tt=!!tt,!this.ctx.transform.isIdentity){var lt=this.ctx.transform.applyToPoint(new o(V,J));V=lt.x,J=lt.y;var ot=this.ctx.transform.applyToPoint(new o(0,et)),dt=this.ctx.transform.applyToPoint(new o(0,0));et=Math.sqrt(Math.pow(ot.x-dt.x,2)+Math.pow(ot.y-dt.y,2))}Math.abs(ct-st)>=2*Math.PI&&(st=0,ct=2*Math.PI),this.path.push({type:"arc",x:V,y:J,radius:et,startAngle:st,endAngle:ct,counterclockwise:tt})},h.prototype.arcTo=function(V,J,et,st,ct){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,J,et,st){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,J),this.lineTo(V+et,J),this.lineTo(V+et,J+st),this.lineTo(V,J+st),this.lineTo(V,J),this.lineTo(V+et,J),this.lineTo(V,J)},h.prototype.fillRect=function(V,J,et,st){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,J,et,st),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},h.prototype.strokeRect=function(V,J,et,st){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(V,J,et,st),this.stroke())},h.prototype.clearRect=function(V,J,et,st){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,J,et,st))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("Q");this.pdf.setPage(J),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var J,et,st,ct;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))J=0,et=0,st=0,ct=0;else{var tt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(tt!==null)J=parseInt(tt[1]),et=parseInt(tt[2]),st=parseInt(tt[3]),ct=1;else if((tt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)J=parseInt(tt[1]),et=parseInt(tt[2]),st=parseInt(tt[3]),ct=parseFloat(tt[4]);else{if(ct=1,typeof V=="string"&&V.charAt(0)!=="#"){var lt=new nI(V);V=lt.ok?lt.toHex():"#000000"}V.length===4?(J=V.substring(1,2),J+=J,et=V.substring(2,3),et+=et,st=V.substring(3,4),st+=st):(J=V.substring(1,3),et=V.substring(3,5),st=V.substring(5,7)),J=parseInt(J,16),et=parseInt(et,16),st=parseInt(st,16)}}return{r:J,g:et,b:st,a:ct,style:V}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,J,et,st){if(isNaN(J)||isNaN(et)||typeof V!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!p.call(this)){var ct=at(this.ctx.transform.rotation),tt=this.ctx.transform.scaleX;C.call(this,{text:V,x:J,y:et,scale:tt,angle:ct,align:this.textAlign,maxWidth:st})}},h.prototype.strokeText=function(V,J,et,st){if(isNaN(J)||isNaN(et)||typeof V!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){st=isNaN(st)?void 0:st;var ct=at(this.ctx.transform.rotation),tt=this.ctx.transform.scaleX;C.call(this,{text:V,x:J,y:et,scale:tt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:st})}},h.prototype.measureText=function(V){if(typeof V!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,et=this.pdf.internal.scaleFactor,st=J.internal.getFontSize(),ct=J.getStringUnitWidth(V)*st/J.internal.scaleFactor;return new function(tt){var lt=(tt=tt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return lt}}),this}({width:ct*=Math.round(96*et/72*1e4)/1e4})},h.prototype.scale=function(V,J){if(isNaN(V)||isNaN(J))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var et=new l(V,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(et)},h.prototype.rotate=function(V){if(isNaN(V))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(V,J){if(isNaN(V)||isNaN(J))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var et=new l(1,0,0,1,V,J);this.ctx.transform=this.ctx.transform.multiply(et)},h.prototype.transform=function(V,J,et,st,ct,tt){if(isNaN(V)||isNaN(J)||isNaN(et)||isNaN(st)||isNaN(ct)||isNaN(tt))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var lt=new l(V,J,et,st,ct,tt);this.ctx.transform=this.ctx.transform.multiply(lt)},h.prototype.setTransform=function(V,J,et,st,ct,tt){V=isNaN(V)?1:V,J=isNaN(J)?0:J,et=isNaN(et)?0:et,st=isNaN(st)?1:st,ct=isNaN(ct)?0:ct,tt=isNaN(tt)?0:tt,this.ctx.transform=new l(V,J,et,st,ct,tt)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,J,et,st,ct,tt,lt,ot,dt){var Nt=this.pdf.getImageProperties(V),H=1,K=1,G=1,j=1;st!==void 0&&ot!==void 0&&(G=ot/st,j=dt/ct,H=Nt.width/st*ot/st,K=Nt.height/ct*dt/ct),tt===void 0&&(tt=J,lt=et,J=0,et=0),st!==void 0&&ot===void 0&&(ot=st,dt=ct),st===void 0&&ot===void 0&&(ot=Nt.width,dt=Nt.height);for(var Tt,At=this.ctx.transform.decompose(),Ct=at(At.rotate.shx),yt=new l,It=(yt=(yt=(yt=yt.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new a(tt-J*G,lt-et*j,st*H,ct*K)),_t=w.call(this,It),zt=[],Rt=0;Rt<_t.length;Rt+=1)zt.indexOf(_t[Rt])===-1&&zt.push(_t[Rt]);if(k(zt),this.autoPaging)for(var Yt=zt[0],$t=zt[zt.length-1],Ht=Yt;Ht<$t+1;Ht++){this.pdf.setPage(Ht);var ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Ht===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ie=Ht===1?0:ee+(Ht-2)*oe;if(this.ctx.clip_path.length!==0){var Ne=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Tt,this.posX+this.margin[3],-ie+Xt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Ne}var Be=JSON.parse(JSON.stringify(It));Be=E([Be],this.posX+this.margin[3],-ie+Xt+this.ctx.prevPageLastElemOffset)[0];var le=(Ht>Yt||Ht<$t)&&b.call(this);le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,oe,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,Ct),le&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",It.x,It.y,It.w,It.h,null,null,Ct)};var w=function(V,J,et){var st=[];J=J||this.pdf.internal.pageSize.width,et=et||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":st.push(Math.floor((V.y+ct)/et)+1);break;case"arc":st.push(Math.floor((V.y+ct-V.radius)/et)+1),st.push(Math.floor((V.y+ct+V.radius)/et)+1);break;case"qct":var tt=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);st.push(Math.floor((tt.y+ct)/et)+1),st.push(Math.floor((tt.y+tt.h+ct)/et)+1);break;case"bct":var lt=jt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);st.push(Math.floor((lt.y+ct)/et)+1),st.push(Math.floor((lt.y+lt.h+ct)/et)+1);break;case"rect":st.push(Math.floor((V.y+ct)/et)+1),st.push(Math.floor((V.y+V.h+ct)/et)+1)}for(var ot=0;ot<st.length;ot+=1)for(;this.pdf.internal.getNumberOfPages()<st[ot];)_.call(this);return st},_=function(){var V=this.fillStyle,J=this.strokeStyle,et=this.font,st=this.lineCap,ct=this.lineWidth,tt=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=J,this.font=et,this.lineCap=st,this.lineWidth=ct,this.lineJoin=tt},E=function(V,J,et){for(var st=0;st<V.length;st++)switch(V[st].type){case"bct":V[st].x2+=J,V[st].y2+=et;case"qct":V[st].x1+=J,V[st].y1+=et;default:V[st].x+=J,V[st].y+=et}return V},k=function(V){return V.sort(function(J,et){return J-et})},D=function(V,J){for(var et,st,ct=this.fillStyle,tt=this.strokeStyle,lt=this.lineCap,ot=this.lineWidth,dt=Math.abs(ot*this.ctx.transform.scaleX),Nt=this.lineJoin,H=JSON.parse(JSON.stringify(this.path)),K=JSON.parse(JSON.stringify(this.path)),G=[],j=0;j<K.length;j++)if(K[j].x!==void 0)for(var Tt=w.call(this,K[j]),At=0;At<Tt.length;At+=1)G.indexOf(Tt[At])===-1&&G.push(Tt[At]);for(var Ct=0;Ct<G.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<G[Ct];)_.call(this);if(k(G),this.autoPaging)for(var yt=G[0],It=G[G.length-1],_t=yt;_t<It+1;_t++){this.pdf.setPage(_t),this.fillStyle=ct,this.strokeStyle=tt,this.lineCap=lt,this.lineWidth=dt,this.lineJoin=Nt;var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=_t===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=_t===1?0:Yt+(_t-2)*$t;if(this.ctx.clip_path.length!==0){var ne=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(et,this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset),W.call(this,V,!0),this.path=ne}if(st=JSON.parse(JSON.stringify(H)),this.path=E(st,this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset),J===!1||_t===0){var Xt=(_t>yt||_t<It)&&b.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,$t,null).clip().discardPath()),W.call(this,V,J),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ot}else this.lineWidth=dt,W.call(this,V,J),this.lineWidth=ot;this.path=H},W=function(V,J){if((V!=="stroke"||J||!y.call(this))&&(V==="stroke"||J||!p.call(this))){for(var et,st,ct=[],tt=this.path,lt=0;lt<tt.length;lt++){var ot=tt[lt];switch(ot.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:ot,deltas:[],abs:[]});break;case"lt":var dt=ct.length;if(tt[lt-1]&&!isNaN(tt[lt-1].x)&&(et=[ot.x-tt[lt-1].x,ot.y-tt[lt-1].y],dt>0)){for(;dt>=0;dt--)if(ct[dt-1].close!==!0&&ct[dt-1].begin!==!0){ct[dt-1].deltas.push(et),ct[dt-1].abs.push(ot);break}}break;case"bct":et=[ot.x1-tt[lt-1].x,ot.y1-tt[lt-1].y,ot.x2-tt[lt-1].x,ot.y2-tt[lt-1].y,ot.x-tt[lt-1].x,ot.y-tt[lt-1].y],ct[ct.length-1].deltas.push(et);break;case"qct":var Nt=tt[lt-1].x+2/3*(ot.x1-tt[lt-1].x),H=tt[lt-1].y+2/3*(ot.y1-tt[lt-1].y),K=ot.x+2/3*(ot.x1-ot.x),G=ot.y+2/3*(ot.y1-ot.y),j=ot.x,Tt=ot.y;et=[Nt-tt[lt-1].x,H-tt[lt-1].y,K-tt[lt-1].x,G-tt[lt-1].y,j-tt[lt-1].x,Tt-tt[lt-1].y],ct[ct.length-1].deltas.push(et);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(ot)}}st=J?null:V==="stroke"?"stroke":"fill";for(var At=!1,Ct=0;Ct<ct.length;Ct++)if(ct[Ct].arc)for(var yt=ct[Ct].abs,It=0;It<yt.length;It++){var _t=yt[It];_t.type==="arc"?T.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,J,!At):N.call(this,_t.x,_t.y),At=!0}else if(ct[Ct].close===!0)this.pdf.internal.out("h"),At=!1;else if(ct[Ct].begin!==!0){var zt=ct[Ct].start.x,Rt=ct[Ct].start.y;nt.call(this,ct[Ct].deltas,zt,Rt),At=!0}st&&P.call(this,st),J&&F.call(this)}},it=function(V){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,et=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-et;case"top":return V+J-et;case"hanging":return V+J-2*et;case"middle":return V+J/2-et;default:return V}},L=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(J,et){this.colorStops.push([J,et])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(V,J,et,st,ct,tt,lt,ot,dt){for(var Nt=gt.call(this,et,st,ct,tt),H=0;H<Nt.length;H++){var K=Nt[H];H===0&&(dt?S.call(this,K.x1+V,K.y1+J):N.call(this,K.x1+V,K.y1+J)),ft.call(this,V,J,K.x2,K.y2,K.x3,K.y3,K.x4,K.y4)}ot?F.call(this):P.call(this,lt)},P=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(V,J){this.pdf.internal.out(e(V)+" "+i(J)+" m")},C=function(V){var J;switch(V.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var et=this.pdf.getTextDimensions(V.text),st=it.call(this,V.y),ct=L.call(this,st)-et.h,tt=this.ctx.transform.applyToPoint(new o(V.x,st)),lt=this.ctx.transform.decompose(),ot=new l;ot=(ot=(ot=ot.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale);for(var dt,Nt,H,K=this.ctx.transform.applyToRectangle(new a(V.x,st,et.w,et.h)),G=ot.applyToRectangle(new a(V.x,ct,et.w,et.h)),j=w.call(this,G),Tt=[],At=0;At<j.length;At+=1)Tt.indexOf(j[At])===-1&&Tt.push(j[At]);if(k(Tt),this.autoPaging)for(var Ct=Tt[0],yt=Tt[Tt.length-1],It=Ct;It<yt+1;It++){this.pdf.setPage(It);var _t=It===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],Yt=Rt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],Ht=$t-this.margin[3],ne=It===1?0:zt+(It-2)*Yt;if(this.ctx.clip_path.length!==0){var Xt=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-1*ne+_t),W.call(this,"fill",!0),this.path=Xt}var ee=E([JSON.parse(JSON.stringify(G))],this.posX+this.margin[3],-ne+_t+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*V.scale),H=this.lineWidth,this.lineWidth=H*V.scale);var oe=this.autoPaging!=="text";if(oe||ee.y+ee.h<=Rt){if(oe||ee.y>=_t&&ee.x<=$t){var ie=oe?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||$t-ee.x)[0],Ne=E([JSON.parse(JSON.stringify(K))],this.posX+this.margin[3],-ne+_t+this.ctx.prevPageLastElemOffset)[0],Be=oe&&(It>Ct||It<yt)&&b.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Yt,null).clip().discardPath()),this.pdf.text(ie,Ne.x,Ne.y,{angle:V.angle,align:J,renderingMode:V.renderingMode}),Be&&this.pdf.restoreGraphicsState()}}else ee.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-ee.y);V.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=H)}else V.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*V.scale),H=this.lineWidth,this.lineWidth=H*V.scale),this.pdf.text(V.text,tt.x+this.posX,tt.y+this.posY,{angle:V.angle,align:J,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=H)},N=function(V,J,et,st){et=et||0,st=st||0,this.pdf.internal.out(e(V+et)+" "+i(J+st)+" l")},nt=function(V,J,et){return this.pdf.lines(V,J,et,null,null)},ft=function(V,J,et,st,ct,tt,lt,ot){this.pdf.internal.out([t(r(et+V)),t(s(st+J)),t(r(ct+V)),t(s(tt+J)),t(r(lt+V)),t(s(ot+J)),"c"].join(" "))},gt=function(V,J,et,st){for(var ct=2*Math.PI,tt=Math.PI/2;J>et;)J-=ct;var lt=Math.abs(et-J);lt<ct&&st&&(lt=ct-lt);for(var ot=[],dt=st?-1:1,Nt=J;lt>1e-5;){var H=Nt+dt*Math.min(lt,tt);ot.push(mt.call(this,V,Nt,H)),lt-=Math.abs(H-Nt),Nt=H}return ot},mt=function(V,J,et){var st=(et-J)/2,ct=V*Math.cos(st),tt=V*Math.sin(st),lt=ct,ot=-tt,dt=lt*lt+ot*ot,Nt=dt+lt*ct+ot*tt,H=4/3*(Math.sqrt(2*dt*Nt)-Nt)/(lt*tt-ot*ct),K=lt-H*ot,G=ot+H*lt,j=K,Tt=-G,At=st+J,Ct=Math.cos(At),yt=Math.sin(At);return{x1:V*Math.cos(J),y1:V*Math.sin(J),x2:K*Ct-G*yt,y2:K*yt+G*Ct,x3:j*Ct-Tt*yt,y3:j*yt+Tt*Ct,x4:V*Math.cos(et),y4:V*Math.sin(et)}},at=function(V){return 180*V/Math.PI},Et=function(V,J,et,st,ct,tt){var lt=V+.5*(et-V),ot=J+.5*(st-J),dt=ct+.5*(et-ct),Nt=tt+.5*(st-tt),H=Math.min(V,ct,lt,dt),K=Math.max(V,ct,lt,dt),G=Math.min(J,tt,ot,Nt),j=Math.max(J,tt,ot,Nt);return new a(H,G,K-H,j-G)},jt=function(V,J,et,st,ct,tt,lt,ot){var dt,Nt,H,K,G,j,Tt,At,Ct,yt,It,_t,zt,Rt,Yt=et-V,$t=st-J,Ht=ct-et,ne=tt-st,Xt=lt-ct,ee=ot-tt;for(Nt=0;Nt<41;Nt++)Ct=(Tt=(H=V+(dt=Nt/40)*Yt)+dt*((G=et+dt*Ht)-H))+dt*(G+dt*(ct+dt*Xt-G)-Tt),yt=(At=(K=J+dt*$t)+dt*((j=st+dt*ne)-K))+dt*(j+dt*(tt+dt*ee-j)-At),Nt==0?(It=Ct,_t=yt,zt=Ct,Rt=yt):(It=Math.min(It,Ct),_t=Math.min(_t,yt),zt=Math.max(zt,Ct),Rt=Math.max(Rt,yt));return new a(Math.round(It),Math.round(_t),Math.round(zt-It),Math.round(Rt-_t))},kt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,J,et=(V=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:J}));this.prevLineDash!==et&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=et)}}})(pe.API),(function(n){var t=function(o){var a,l,c,u,h,g,p,y,b,w;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(w=h%85))/85)-(b=h%85))/85)-(y=h%85))/85)-(p=h%85))/85)%85,l.push(g+33,p+33,y+33,b+33,w+33)):l.push(122);return(function(_,E){for(var k=E;k>0;k--)_.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(o){var a,l,c,u,h,g=String,p="length",y=255,b="charCodeAt",w="slice",_="replace";for(o[w](-2),o=o[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[w](o[p]%5||5))[p];h>u;u+=5)l=52200625*(o[b](u)-33)+614125*(o[b](u+1)-33)+7225*(o[b](u+2)-33)+85*(o[b](u+3)-33)+(o[b](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(E,k){for(var D=k;D>0;D--)E.pop()})(c,a[p]),g.fromCharCode.apply(g,c)},i=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=H0(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(pe.API),(function(n){n.loadFile=function(t,e,i){return(function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(l,c,u){var h=new XMLHttpRequest,g=0,p=function(y){var b=y.length,w=[],_=String.fromCharCode;for(g=0;g<b;g+=1)w.push(_(255&y.charCodeAt(g)));return w.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return p(h.responseText)})(r,s,o)}catch{}return a})(t,e,i)},n.loadImageFile=n.loadFile})(pe.API),(function(n){function t(){return(Te.html2canvas?Promise.resolve(Te.html2canvas):wp(()=>import("./html2canvas.esm-B0tyYwQk.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Te.DOMPurify?Promise.resolve(Te.DOMPurify):wp(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=_n(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var y=u[p],b=y.src.find(function(w){return w.format==="truetype"});b&&c.addFont(b.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,h).then(function(g){return c.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),g=c.call(h,a,l);return o.convert(g,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,pe.getPageSize=function(a,l,c){if(_n(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,b=0,w=0;if(p.hasOwnProperty(g))b=p[g][1]/h,w=p[g][0]/h;else try{b=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>b&&(y=w,w=b,b=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>w&&(y=w,w=b,b=y)}return{width:w,height:b,unit:l,k:h,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(k1):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}})(pe.API),pe.API.addJS=function(n){return Sw=n,this.internal.events.subscribe("postPutResources",function(){Hd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Sw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hd!==void 0&&xw!==void 0&&this.internal.out("/Names <</JavaScript "+Hd+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=e.internal.newObject();u.push(h);var g=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])})(pe.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=(function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,b={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=p,t.indexOf(h.charCodeAt(w+1))!==-1){g=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),b={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:g,numcomponents:h.charCodeAt(w+9)};break}p=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return b})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}})(pe.API),pe.API.processPNG=function(n,t,e,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,s=tU(n,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;r=c&&l===1?(function(T){for(var P=T.width,F=T.height,S=T.data,C=T.palette,N=T.depth,nt=!1,ft=[],gt=[],mt=void 0,at=!1,Et=0,jt=0;jt<C.length;jt++){var kt=P5(C[jt],4),V=kt[0],J=kt[1],et=kt[2],st=kt[3];ft.push(V,J,et),st!=null&&(st===0?(Et++,gt.length<1&&gt.push(jt)):st<255&&(at=!0))}if(at||Et>1){nt=!0,gt=void 0;var ct=P*F;mt=new Uint8Array(ct);for(var tt=new DataView(S.buffer),lt=0;lt<ct;lt++){var ot=R1(tt,lt,N),dt=P5(C[ot],4)[3];mt[lt]=dt}}else Et===0&&(gt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:nt?8:void 0,colorBytes:S,alphaBytes:mt,needSMask:nt,palette:ft,mask:gt}})(s):l===2||l===4?(function(T){for(var P=T.data,F=T.width,S=T.height,C=T.channels,N=T.depth,nt=C===2?"DeviceGray":"DeviceRGB",ft=C-1,gt=F*S,mt=ft,at=gt*mt,Et=1*gt,jt=Math.ceil(at*N/8),kt=Math.ceil(Et*N/8),V=new Uint8Array(jt),J=new Uint8Array(kt),et=new DataView(P.buffer),st=new DataView(V.buffer),ct=new DataView(J.buffer),tt=!1,lt=0;lt<gt;lt++){for(var ot=lt*C,dt=0;dt<mt;dt++)Lw(st,R1(et,ot+dt,N),lt*mt+dt,N);var Nt=R1(et,ot+mt,N);Nt<(1<<N)-1&&(tt=!0),Lw(ct,Nt,1*lt,N)}return{colorSpace:nt,colorsPerPixel:ft,sMaskBitsPerComponent:tt?N:void 0,colorBytes:V,alphaBytes:J,needSMask:tt}})(s):(function(T){var P=T.data,F=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(S){for(var C=S.length,N=new Uint8Array(2*C),nt=new DataView(N.buffer,N.byteOffset,N.byteLength),ft=0;ft<C;ft++)nt.setUint16(2*ft,S[ft],!1);return N})(P):P,needSMask:!1}})(s);var h,g,p,y=r,b=y.colorSpace,w=y.colorsPerPixel,_=y.sMaskBitsPerComponent,E=y.colorBytes,k=y.alphaBytes,D=y.needSMask,W=y.palette,it=y.mask,L=null;return i!==pe.API.image_compression.NONE&&typeof H0=="function"?(L=(function(T){var P;switch(T){case pe.API.image_compression.FAST:P=11;break;case pe.API.image_compression.MEDIUM:P=13;break;case pe.API.image_compression.SLOW:P=14;break;default:P=12}return P})(i),h=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(o),n=Pw(E,Math.ceil(o*w*u/8),w,u,i),D&&(p=Pw(k,Math.ceil(o*_/8),1,_,i))):(h=void 0,g=void 0,n=E,D&&(p=k)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:n,index:t,filter:h,decodeParameters:g,transparency:it,palette:W,sMask:p,predictor:L,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:_,colorSpace:b}}},(function(n){n.processGIF89A=function(t,e,i,r){var s=new wU(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new N1(100).encode(c,100);return n.processJPEG.call(this,u,e,i,r)},n.processGIF87A=n.processGIF89A})(pe.API),Is.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Is.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){xn.log("bit decode error:"+e)}},Is.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}e!==0&&(this.pos+=4-e)}},Is.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Is.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Is.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},Is.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,c=(o>>11)/t*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Is.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Is.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},Is.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,r){var s=new Is(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new N1(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}})(pe.API),Dw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,r){var s=new Dw(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new N1(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}})(pe.API),pe.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],h=i[c+1],g=i[c+2],p=i[c+3];s[a++]=u,s[a++]=h,s[a++]=g,o[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},pe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zc=pe.API,$d=zc.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,g=0,p=n.length,y=0,b=a[0]||l,w=[];for(e=0;e<p;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?w.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(g=h&&_n(c[i])==="object"&&!isNaN(parseInt(c[i][y],10))?c[i][y]/u:0,w.push((a[i]||b)/l+g)),y=i;return w},Ew=zc.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return zc.processArabic&&(n=zc.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:$d.apply(this,arguments).reduce(function(s,o){return s+o},0)},Tw=function(n,t,e,i){for(var r=[],s=0,o=n.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;r.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(n.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(n.slice(l,s)),r},Iw=function(n,t,e){e||(e={});var i,r,s,o,a,l,c,u=[],h=[u],g=e.textIndent||0,p=0,y=0,b=n.split(" "),w=$d.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?b[0].length+2:e.lineIndent||0){var _=Array(l).join(" "),E=[];b.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(W,it){return(it&&W.length?`
`:"")+W})):E.push(D[0])}),b=E,l=Ew.apply(this,[_,e])}for(s=0,o=b.length;s<o;s++){var k=0;if(i=b[s],l&&i[0]==`
`&&(i=i.substr(1),k=1),g+p+(y=(r=$d.apply(this,[i,e])).reduce(function(D,W){return D+W},0))>t||k){if(y>t){for(a=Tw.apply(this,[i,r,t-(g+p),t]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);y=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(D,W){return D+W},0)}else u=[i];h.push(u),g=y+l,p=w}else u.push(i),g+=p+y,p=w}return c=l?function(D,W){return(W?_:"")+D.join(" ")}:function(D){return D.join(" ")},h.map(c)},zc.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return h.metadata[g]?{widths:h.metadata[g].widths||{0:1},kerning:h.metadata[g].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(Iw.apply(this,[i[a],o,s]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[e[s]]=t[s],r[t[s]]=e[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=n.__fontmetrics__.compress=function(g){var p,y,b,w,_=["{"];for(var E in g){if(p=g[E],isNaN(parseInt(E,10))?y="'"+E+"'":(E=parseInt(E,10),y=(y=o(E).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof p=="number")p<0?(b=o(p).slice(3),w="-"):(b=o(p).slice(2),w=""),b=w+b.slice(0,-1)+r[b.slice(-1)];else{if(_n(p)!=="object")throw new Error("Don't know what to do with value type "+_n(p)+".");b=a(p)}_.push(y+b)}return _.push("}"),_.join("")},l=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,b,w,_={},E=1,k=_,D=[],W="",it="",L=g.length-1,T=1;T<L;T+=1)(w=g[T])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(D.push([k,b]),k={},b=void 0):w=="}"?((y=D.pop())[0][y[1]]=k,b=void 0,k=y[0]):w=="-"?E=-1:b===void 0?i.hasOwnProperty(w)?(W+=i[w],b=parseInt(W,16)*E,E=1,W=""):W+=w:i.hasOwnProperty(w)?(it+=i[w],k[b]=parseInt(it,16)*E,E=1,b=void 0,it=""):it+=w;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var p=g.font,y=h.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])})(pe.API),(function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Ip(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])})(pe),pe.API.addSvgAsImage=function(n,t,e,i,r,s,o,a){if(isNaN(t)||isNaN(e))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Te.canvg?Promise.resolve(Te.canvg):wp(()=>import("./index.es-Cmw1PwbW.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,e,i,r,o,a)})},pe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},pe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function g(y,b){var w,_=!1;for(w=0;w<y.length;w+=1)y[w]===b&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var p=a.length;for(h=0;h<p;h+=1)e[a[h]].value=e[a[h]].defaultValue,e[a[h]].explicitSet=!1}if(_n(n)==="object"){for(r in n)if(s=n[r],g(a,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&g(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?b.push("/"+y+" /"+e[y].value):b.push("/"+y+" "+e[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(pe.API),(function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,g=s.length;h<g;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(s){var o,a,l,c,u,h,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(s).sort(function(p,y){return p-y})).length;h<g;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",y=0;y<g.length;y++)p+=String.fromCharCode(g[y]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var w=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Zc(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Zc(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Zc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var y=c();u({data:g,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Zc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Zc(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},g=h.pdfEscape,p=h.activeFontKey,y=h.fonts,b=p,w="",_=0,E="",k=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(E=a,b=p,Array.isArray(a)&&(E=a[0]),_=0;_<E.length;_+=1)y[b].metadata.hasOwnProperty("cmap")&&(o=y[b].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),o||E[_].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?w+=E[_]:w+="";var D="";return parseInt(b.slice(1))<14||k==="WinAnsiEncoding"?D=g(w,b).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(D=e(w,y[b])),h.isHex=!0,{text:D,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])})(pe),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(pe.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,h=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,k=0;this.__bidiEngine__={};var D=function(S){var C=S.charCodeAt(),N=C>>8,nt=b[N];return nt!==void 0?h[256*nt+(255&C)]:N===252||N===253?"AL":_.test(N)?"L":N===8?"R":"N"},W=function(S){for(var C,N=0;N<S.length;N++){if((C=D(S.charAt(N)))==="L")return!1;if(C==="R")return!0}return!1},it=function(S,C,N,nt){var ft,gt,mt,at,Et=C[nt];switch(Et){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(Et="AN");break;case"AL":E=!0,Et="R";break;case"WS":case"BN":Et="N";break;case"CS":nt<1||nt+1>=C.length||(ft=N[nt-1])!=="EN"&&ft!=="AN"||(gt=C[nt+1])!=="EN"&&gt!=="AN"?Et="N":E&&(gt="AN"),Et=gt===ft?gt:"N";break;case"ES":Et=(ft=nt>0?N[nt-1]:"B")==="EN"&&nt+1<C.length&&C[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&N[nt-1]==="EN"){Et="EN";break}if(E){Et="N";break}for(mt=nt+1,at=C.length;mt<at&&C[mt]==="ET";)mt++;Et=mt<at&&C[mt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(at=C.length,mt=nt+1;mt<at&&C[mt]==="NSM";)mt++;if(mt<at){var jt=S[nt],kt=jt>=1425&&jt<=2303||jt===64286;if(ft=C[mt],kt&&(ft==="R"||ft==="AL")){Et="R";break}}}Et=nt<1||(ft=C[nt-1])==="B"?"N":N[nt-1];break;case"B":E=!1,r=!0,Et=k;break;case"S":s=!0,Et="N"}return Et},L=function(S,C,N){var nt=S.split("");return N&&T(nt,N,{hiLevel:k}),nt.reverse(),C&&C.reverse(),nt.join("")},T=function(S,C,N){var nt,ft,gt,mt,at,Et=-1,jt=S.length,kt=0,V=[],J=k?p:g,et=[];for(E=!1,r=!1,s=!1,ft=0;ft<jt;ft++)et[ft]=D(S[ft]);for(gt=0;gt<jt;gt++){if(at=kt,V[gt]=it(S,et,V,gt),nt=240&(kt=J[at][y[V[gt]]]),kt&=15,C[gt]=mt=J[kt][5],nt>0)if(nt===16){for(ft=Et;ft<gt;ft++)C[ft]=1;Et=-1}else Et=-1;if(J[kt][6])Et===-1&&(Et=gt);else if(Et>-1){for(ft=Et;ft<gt;ft++)C[ft]=mt;Et=-1}et[gt]==="B"&&(C[gt]=0),N.hiLevel|=mt}s&&(function(st,ct,tt){for(var lt=0;lt<tt;lt++)if(st[lt]==="S"){ct[lt]=k;for(var ot=lt-1;ot>=0&&st[ot]==="WS";ot--)ct[ot]=k}})(et,C,jt)},P=function(S,C,N,nt,ft){if(!(ft.hiLevel<S)){if(S===1&&k===1&&!r)return C.reverse(),void(N&&N.reverse());for(var gt,mt,at,Et,jt=C.length,kt=0;kt<jt;){if(nt[kt]>=S){for(at=kt+1;at<jt&&nt[at]>=S;)at++;for(Et=kt,mt=at-1;Et<mt;Et++,mt--)gt=C[Et],C[Et]=C[mt],C[mt]=gt,N&&(gt=N[Et],N[Et]=N[mt],N[mt]=gt);kt=at}kt++}}},F=function(S,C,N){var nt=S.split(""),ft={hiLevel:k};return N||(N=[]),T(nt,N,ft),(function(gt,mt,at){if(at.hiLevel!==0&&u)for(var Et,jt=0;jt<gt.length;jt++)mt[jt]===1&&(Et=w.indexOf(gt[jt]))>=0&&(gt[jt]=w[Et+1])})(nt,N,ft),P(2,nt,C,N,ft),P(1,nt,C,N,ft),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(S,C,N){if((function(ft,gt){if(gt)for(var mt=0;mt<ft.length;mt++)gt[mt]=mt;a===void 0&&(a=W(ft)),c===void 0&&(c=W(ft))})(S,C),o||!l||c)if(o&&l&&a^c)k=a?1:0,S=L(S,C,N);else if(!o&&l&&c)k=a?1:0,S=F(S,C,N),S=L(S,C);else if(!o||a||l||c){if(o&&!l&&a^c)S=L(S,C),a?(k=0,S=F(S,C,N)):(k=1,S=F(S,C,N),S=L(S,C));else if(o&&a&&!l&&c)k=1,S=F(S,C,N),S=L(S,C);else if(!o&&!l&&a^c){var nt=u;a?(k=1,S=F(S,C,N),k=0,u=!1,S=F(S,C,N),u=nt):(k=0,S=F(S,C,N),S=L(S,C),k=1,u=!1,S=F(S,C,N),u=nt,S=L(S,C))}}else k=0,S=F(S,C,N);else k=a?1:0,S=F(S,C,N);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([e.doBidiReorder(r[a])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])})(pe),pe.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new wl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new MU(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new AU(this.contents),this.head=new SU(this),this.name=new kU(this),this.cmap=new dI(this),this.toUnicode={},this.hhea=new EU(this),this.maxp=new CU(this),this.hmtx=new RU(this),this.post=new IU(this),this.os2=new TU(this),this.loca=new DU(this),this.glyf=new NU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var Bs,wl=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,a,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n})(),AU=(function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,a,l,c,u,h,g,p,y,b;for(b in p=Object.keys(e).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),o=Math.floor(h/l),u=16*p-h,(r=new wl).writeInt(this.scalarType),r.writeShort(p),r.writeShort(h),r.writeShort(o),r.writeShort(u),s=16*p,c=r.pos+s,a=null,y=[],e)for(g=e[b],r.writeString(b),r.writeInt(n(g)),r.writeInt(c),r.writeInt(g.length),y=y.concat(g),b==="head"&&(a=c),c+=g.length;c%4;)y.push(0),c++;return r.write(y),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=pI.call(e);e.length%4;)e.push(0);for(s=new wl(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t})(),xU={}.hasOwnProperty,Io=function(n,t){for(var e in t)xU.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};Bs=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var SU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new wl).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),Mw=(function(){function n(t,e){var i,r,s,o,a,l,c,u,h,g,p,y,b,w,_,E,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,s=(function(){var D,W;for(W=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)W.push(t.readUInt16());return W})(),t.pos+=2,b=(function(){var D,W;for(W=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)W.push(t.readUInt16());return W})(),c=(function(){var D,W;for(W=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)W.push(t.readUInt16());return W})(),u=(function(){var D,W;for(W=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)W.push(t.readUInt16());return W})(),r=(this.length-t.pos+this.offset)/2,a=(function(){var D,W;for(W=[],l=D=0;0<=r?D<r:D>r;l=0<=r?++D:--D)W.push(t.readUInt16());return W})(),l=_=0,k=s.length;_<k;l=++_)for(w=s[l],i=E=y=b[l];y<=w?E<=w:E>=w;i=y<=w?++E:--E)u[l]===0?o=i+c[l]:(o=a[u[l]/2+(i-y)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}t.pos=h}return n.encode=function(t,e){var i,r,s,o,a,l,c,u,h,g,p,y,b,w,_,E,k,D,W,it,L,T,P,F,S,C,N,nt,ft,gt,mt,at,Et,jt,kt,V,J,et,st,ct,tt,lt,ot,dt,Nt,H;switch(nt=new wl,o=Object.keys(t).sort(function(K,G){return K-G}),e){case"macroman":for(b=0,w=(function(){var K=[];for(y=0;y<256;++y)K.push(0);return K})(),E={0:0},s={},ft=0,Et=o.length;ft<Et;ft++)E[ot=t[r=o[ft]]]==null&&(E[ot]=++b),s[r]={old:t[r],new:E[t[r]]},w[r]=E[t[r]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(w),{charMap:s,subtable:nt.data,maxGlyphID:b+1};case"unicode":for(C=[],h=[],k=0,E={},i={},_=c=null,gt=0,jt=o.length;gt<jt;gt++)E[W=t[r=o[gt]]]==null&&(E[W]=++k),i[r]={old:W,new:E[W]},a=E[W]-r,_!=null&&a===c||(_&&h.push(_),C.push(r),c=a),_=r;for(_&&h.push(_),h.push(65535),C.push(65535),F=2*(P=C.length),T=2*Math.pow(Math.log(P)/Math.LN2,2),g=Math.log(T/2)/Math.LN2,L=2*P-T,l=[],it=[],p=[],y=mt=0,kt=C.length;mt<kt;y=++mt){if(S=C[y],u=h[y],S===65535){l.push(0),it.push(0);break}if(S-(N=i[S].new)>=32768)for(l.push(0),it.push(2*(p.length+P-y)),r=at=S;S<=u?at<=u:at>=u;r=S<=u?++at:--at)p.push(i[r].new);else l.push(N-S),it.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*P+2*p.length),nt.writeUInt16(0),nt.writeUInt16(F),nt.writeUInt16(T),nt.writeUInt16(g),nt.writeUInt16(L),tt=0,V=h.length;tt<V;tt++)r=h[tt],nt.writeUInt16(r);for(nt.writeUInt16(0),lt=0,J=C.length;lt<J;lt++)r=C[lt],nt.writeUInt16(r);for(dt=0,et=l.length;dt<et;dt++)a=l[dt],nt.writeUInt16(a);for(Nt=0,st=it.length;Nt<st;Nt++)D=it[Nt],nt.writeUInt16(D);for(H=0,ct=p.length;H<ct;H++)b=p[H],nt.writeUInt16(b);return{charMap:i,subtable:nt.data,maxGlyphID:k+1}}},n})(),dI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)e=new Mw(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var i,r;return e==null&&(e="macroman"),i=Mw.encode(t,e),(r=new wl).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n})(),EU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),TU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),IU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="post",n.prototype.parse=function(t){var e,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},n})(),PU=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="name",n.prototype.parse=function(t){var e,i,r,s,o,a,l,c,u,h,g;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),i=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=u=0,h=i.length;u<h;s=++u)r=i[s],t.pos=r.offset,c=t.readString(r.length),o=new PU(c,r),l[g=r.nameID]==null&&(l[g]=[]),l[r.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),CU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),RU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,i,r,s,o,a,l;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],e=c=0;0<=r?c<r:c>r;e=0<=r?++c:--c)u.push(t.readInt16());return u})(),this.widths=(function(){var c,u,h,g;for(g=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],g.push(s.advance);return g}).call(this),i=this.widths[this.widths.length-1],l=[],e=o=0;0<=r?o<r:o>r;e=0<=r?++o:--o)l.push(this.widths.push(i));return l},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),pI=[].slice,NU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,i,r,s,o,a,l,c,u,h;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,i=s.indexOf(t),(r=s.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,o=(a=new wl(e.read(r))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=o===-1?new OU(a,c,h,l,u):new LU(a,o,c,h,l,u),this.cache[t]))},n.prototype.encode=function(t,e,i){var r,s,o,a,l;for(o=[],s=[],a=0,l=e.length;a<l;a++)r=t[e[a]],s.push(o.length),r&&(o=o.concat(r.encode(i)));return s.push(o.length),{table:o,offsets:s}},n})(),LU=(function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),OU=(function(){function n(t,e,i,r,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new wl(pI.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),DU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Io(n,Bs),n.prototype.tag="loca",n.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,o=0;o<i.length;++o)if(i[o]=r,s<e.length&&e[s]==o){++s,i[o]=r;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(r+=l)}for(var c=new Array(4*i.length),u=0;u<i.length;++u)c[4*u+3]=255&i[u],c[4*u+2]=(65280&i[u])>>8,c[4*u+1]=(16711680&i[u])>>16,c[4*u]=(4278190080&i[u])>>24;return c},n})(),MU=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))i=l[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,a,l,c,u,h,g,p,y,b,w,_;for(r in i=dI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},_=i.charMap)p[(l=_[r]).old]=l.new;for(y in g=i.maxGlyphID,o)y in p||(p[y]=g++);return u=(function(E){var k,D;for(k in D={},E)D[E[k]]=k;return D})(p),h=Object.keys(u).sort(function(E,k){return E-k}),b=(function(){var E,k,D;for(D=[],E=0,k=h.length;E<k;E++)a=h[E],D.push(u[a]);return D})(),s=this.font.glyf.encode(o,b,p),c=this.font.loca.encode(s.offsets,b),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},n})();pe.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+(function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)i=e[a],c.push(t.convert(i));return c})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t})();function gI(n,t,e,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,a=r.internal.getFontSize()/o,l=r.getLineHeightFactor?r.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,h="",g=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(h=typeof n=="string"?n.split(u):n,g=h.length||1),e+=a*(2-s),i.valign==="middle"?e-=g/2*c:i.valign==="bottom"&&(e-=g*c),i.halign==="center"||i.halign==="right"){var p=a;if(i.halign==="center"&&(p*=.5),h&&g>=1){for(var y=0;y<h.length;y++)r.text(h[y],t-r.getStringUnitWidth(h[y])*p,e),e+=c;return r}t-=r.getStringUnitWidth(n)*p}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var Fw={},mu=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Fw=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var u=n.unifyColor(t.fillColor);u&&(i=this.jsPDFDocument).setFillColor.apply(i,u),u=n.unifyColor(t.textColor),u&&(r=this.jsPDFDocument).setTextColor.apply(r,u),u=n.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,s){return this.jsPDFDocument.rect(t,e,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Fw||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Q0=function(n,t){return Q0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},Q0(n,t)};function mI(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Q0(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var yI=(function(n){mI(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t})(Array);function FU(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function VU(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function gg(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function vI(n,t,e,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=_I(r,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,o)}function _I(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function vm(n,t){var e,i,r,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function bI(n,t){var e=vm(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function BU(n,t,e,i,r){var s={},o=1.3333333333333333,a=L1(t,function(k){return r.getComputedStyle(k).backgroundColor});a!=null&&(s.fillColor=a);var l=L1(t,function(k){return r.getComputedStyle(k).color});l!=null&&(s.textColor=l);var c=UU(i,e);c&&(s.cellPadding=c);var u="borderTopColor",h=o*e,g=i.borderTopWidth;if(i.borderBottomWidth===g&&i.borderRightWidth===g&&i.borderLeftWidth===g){var p=(parseFloat(g)||0)/h;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/h,right:(parseFloat(i.borderRightWidth)||0)/h,bottom:(parseFloat(i.borderBottomWidth)||0)/h,left:(parseFloat(i.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var y=L1(t,function(k){return r.getComputedStyle(k)[u]});y!=null&&(s.lineColor=y);var b=["left","right","center","justify"];b.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),b=["middle","bottom","top"],b.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var w=parseInt(i.fontSize||"");isNaN(w)||(s.fontSize=w/o);var _=jU(i);_&&(s.fontStyle=_);var E=(i.fontFamily||"").toLowerCase();return n.indexOf(E)!==-1&&(s.font=E),s}function jU(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function L1(n,t){var e=wI(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function wI(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:wI(n.parentElement,t):e}function UU(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(a){return parseInt(a||"0")/i}),o=vm(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function AI(n,t,e,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var a;typeof t=="string"?a=e.document.querySelector(t):a=t;var l=Object.keys(n.getFontList()),c=n.scaleFactor(),u=[],h=[],g=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:g};for(var p=0;p<a.rows.length;p++){var y=a.rows[p],b=(o=(s=y?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=qU(l,c,e,y,i,r);w&&(b==="thead"?u.push(w):b==="tfoot"?g.push(w):h.push(w))}return{head:u,body:h,foot:g}}function qU(n,t,e,i,r,s){for(var o=new yI(i),a=0;a<i.cells.length;a++){var l=i.cells[a],c=e.getComputedStyle(l);if(r||c.display!=="none"){var u=void 0;s&&(u=BU(n,l,t,c,e)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:zU(l)})}}var h=e.getComputedStyle(i);if(o.length>0&&(r||h.display!=="none"))return o}function zU(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function HU(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function na(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function xI(n,t){var e=new mu(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();HU(r,i,t);var s=na({},r,i,t),o;typeof window<"u"&&(o=window);var a=$U(r,i,t),l=WU(r,i,t),c=GU(e,s),u=YU(e,s,o);return{id:t.tableId,content:u,hooks:l,styles:a,settings:c}}function $U(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var c=n[l],u=t[l],h=e[l];i.columnStyles=na({},c,u,h)}else{var g=[n,t,e],p=g.map(function(y){return y[l]||{}});i[l]=na({},p[0],p[1],p[2])}},s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];r(a)}return i}function WU(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var a=o[s];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function GU(n,t){var e,i,r,s,o,a,l,c,u,h,g,p,y=vm(t.margin,40/n.scaleFactor()),b=(e=KU(n,t.startY))!==null&&e!==void 0?e:y.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var E=(s=t.useCss)!==null&&s!==void 0?s:!1,k=t.theme||(E?"plain":"striped"),D=!!t.horizontalPageBreak,W=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:E,theme:k,startY:b,margin:y,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:_,showFoot:w,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:W,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function KU(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&e?.finalY!=null?e.finalY+20/i:null}function YU(n,t,e){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var a=AI(n,t.html,e,o,t.useCss)||{};i=a.head||i,r=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||JU(i,r,s);return{columns:l,head:i,body:r,foot:s}}function JU(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(i)?a=i[parseInt(s)]:a=i[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(i)?c=r.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};r.push(u)}}),r}var Z0=(function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n})(),XU=(function(n){mI(t,n);function t(e,i,r,s,o,a){var l=n.call(this,e,i,a)||this;return l.cell=r,l.row=s,l.column=o,l.section=s.section,l}return t})(Z0),QU=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,s,o){for(var a=0,l=e;a<l.length;a++){var c=l[a],u=new XU(t,this,i,r,s,o),h=c(u)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],h)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new Z0(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new Z0(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n})(),SI=(function(){function n(t,e,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof yI&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=e.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var a=e.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>r?c:r},0)},n})(),EI=(function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=vm(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),ZU=(function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n})();function tq(n,t){eq(n,t);var e=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=ty(e,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=ty(e,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),iq(t),rq(t,n),nq(t)}function eq(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=bI(n,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(n,u,c,s,l,null);var h=c.padding("horizontal");c.contentWidth=gg(c.text,c.styles,n)+h;var g=gg(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,n);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||i===!0)c.contentWidth>r?(c.minWidth=r,c.wrappedWidth=r):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/e;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function ty(n,t,e){for(var i=t,r=n.reduce(function(p,y){return p+y.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],a=o.wrappedWidth/r,l=i*a,c=o.width+l,u=e(o),h=c<u?u:c;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var g=n.filter(function(p){return t<0?p.width>e(p):!0});g.length&&(t=ty(g,t,e))}return t}function nq(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,a=n.columns;o<a.length;o++){var l=a[o],c=t[l.index];if(e>1)e--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,e=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=i.length-r,g=u.rowSpan>h?h:u.rowSpan;t[l.index]={cell:u,left:g,row:s}}}}}function iq(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,s=0,o=0,a=0;a<n.columns.length;a++){var l=n.columns[a];if(o-=1,o>1&&n.columns[a+1])s+=l.width,delete i.cells[l.index];else if(r){var c=r;delete i.cells[l.index],r=null,c.width=l.width+s}else{var c=i.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){r=c,s+=l.width;continue}c.width=l.width+s}}}function rq(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,a=n.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Vw(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Vw(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,u);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&e.count*e.height<g*c.rowSpan?e={height:g,count:c.rowSpan}:e&&e.count>0&&e.height>g&&(g=e.height),g>s.height&&(s.height=g)}}e.count--}}function Vw(n,t,e,i,r){return n.map(function(s){return sq(s,t,e,i,r)})}function sq(n,t,e,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=gg(n,e,i))return n;for(;t<gg(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function TI(n,t){var e=new mu(n),i=oq(t,e.scaleFactor()),r=new QU(t,i);return tq(e,r),e.applyStyles(e.userStyles),r}function oq(n,t){var e=n.content,i=lq(e.columns);if(e.head.length===0){var r=Bw(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=Bw(i,"foot");r&&e.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:O1("head",e.head,i,o,s,t),body:O1("body",e.body,i,o,s,t),foot:O1("foot",e.foot,i,o,s,t)}}function O1(n,t,e,i,r,s){var o={},a=t.map(function(l,c){for(var u=0,h={},g=0,p=0,y=0,b=e;y<b.length;y++){var w=b[y];if(o[w.index]==null||o[w.index].left===0)if(p===0){var _=void 0;Array.isArray(l)?_=l[w.index-g-u]:_=l[w.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=_?.styles||{});var k=cq(n,w,c,r,i,s,E),D=new EI(_,k,n);h[w.dataKey]=D,h[w.index]=D,p=D.colSpan-1,o[w.index]={left:D.rowSpan-1,times:p}}else p--,g++;else o[w.index].left--,p=o[w.index].times,u++}return new SI(l,c,n,h)});return a}function Bw(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=aq(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function aq(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function lq(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new ZU(r,t,e)})}function cq(n,t,e,i,r,s,o){var a=VU(i),l;n==="head"?l=r.headStyles:n==="body"?l=r.bodyStyles:n==="foot"&&(l=r.footStyles);var c=na({},a.table,a[n],r.styles,l),u=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},h=n==="body"?u:{},g=n==="body"&&e%2===0?na({},a.alternateRow,r.alternateRowStyles):{},p=FU(s),y=na({},p,c,g,h);return na(y,o)}function uq(n,t,e){var i;e===void 0&&(e={});var r=bI(n,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var p=t.columns.find(function(y){return y.dataKey===g||y.index===g});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(t.columns[p.index]),r-=p.wrappedWidth)});for(var c=!0,u=(i=e?.start)!==null&&i!==void 0?i:0;u<t.columns.length;){if(s.has(u)){u++;continue}var h=t.columns[u].wrappedWidth;if(c||r>=h)c=!1,o.push(u),a.push(t.columns[u]),r-=h;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function hq(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=uq(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function II(n,t){var e=t.settings,i=e.startY,r=e.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=i+r.bottom+o;if(e.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(g,p){return g+p.height},0);a+=c}var u=new mu(n);(e.pageBreak==="always"||e.startY!=null&&a>u.pageSize().height)&&(kI(u),s.y=r.top),t.callWillDrawPageHooks(u,s);var h=na({},s);t.startPageNumber=u.pageNumber(),e.horizontalPageBreak?fq(u,t,h,s):(u.applyStyles(u.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(g){return pa(u,t,g,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(g,p){var y=p===t.body.length-1;mg(u,t,g,y,h,s,t.columns)}),u.applyStyles(u.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(g){return pa(u,t,g,s,t.columns)})),vI(u,t,h,s),t.callEndPageHooks(u,s),t.finalY=s.y,n.lastAutoTable=t,u.applyStyles(u.userStyles)}function fq(n,t,e,i){var r=hq(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(c,u){n.applyStyles(n.userStyles),u>0?rf(n,t,e,i,c.columns,!0):jw(n,t,i,c.columns),dq(n,t,e,i,c.columns),D1(n,t,i,c.columns)});else for(var o=-1,a=r[0],l=function(){var c=o;if(a){n.applyStyles(n.userStyles);var u=a.columns;o>=0?rf(n,t,e,i,u,!0):jw(n,t,i,u),c=Uw(n,t,o+1,i,u),D1(n,t,i,u)}var h=c-o;r.slice(1).forEach(function(g){n.applyStyles(n.userStyles),rf(n,t,e,i,g.columns,!0),Uw(n,t,o+1,i,g.columns,h),D1(n,t,i,g.columns)}),o=c};o<t.body.length-1;)l()}function jw(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return pa(n,t,s,e,i)})}function dq(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;mg(n,t,s,a,e,i,r)})}function Uw(n,t,e,i,r,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),a=-1;return t.body.slice(e,o).forEach(function(l,c){var u=e+c===t.body.length-1,h=PI(n,t,u,i);l.canEntireRowFit(h,r)&&(pa(n,t,l,i,r),a=e+c)}),a}function D1(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return pa(n,t,s,e,i)})}function pq(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function gq(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,a=e.columns;o<a.length;o++){var l=a[o],c=n.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new EI(c.raw,c.styles,c.section);u=na(u,c),u.text=[];var h=pq(c,t,i);c.text.length>h&&(u.text=c.text.splice(h,c.text.length));var g=i.scaleFactor(),p=i.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>n.height&&(n.height=c.contentHeight),u.contentHeight=u.getContentHeight(g,p),u.contentHeight>s&&(s=u.contentHeight),r[l.index]=u}}var y=new SI(n.raw,-1,n.section,r,!0);y.height=s;for(var b=0,w=e.columns;b<w.length;b++){var l=w[b],u=y.cells[l.index];u&&(u.height=y.height);var c=n.cells[l.index];c&&(c.height=n.height)}return y}function mq(n,t,e,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,a=r-o;t.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,n),c=l<e;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(i.columns),h=t.getMaxCellHeight(i.columns)>a;return h?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||i.settings.rowPageBreak==="avoid")}function mg(n,t,e,i,r,s,o){var a=PI(n,t,i,s);if(e.canEntireRowFit(a,o))pa(n,t,e,s,o);else if(mq(n,e,a,t)){var l=gq(e,a,t,n);pa(n,t,e,s,o),rf(n,t,r,s,o),mg(n,t,l,i,r,s,o)}else rf(n,t,r,s,o),mg(n,t,e,i,r,s,o)}function pa(n,t,e,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var a=o[s],l=e.cells[a.index];if(!l){i.x+=a.width;continue}n.applyStyles(l.styles),l.x=i.x,l.y=i.y;var c=t.callCellHooks(n,t.hooks.willDrawCell,l,e,a,i);if(c===!1){i.x+=a.width;continue}yq(n,l,i);var u=l.getTextPos();gI(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,l,e,a,i),i.x+=a.width}i.y+=e.height}function yq(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=_I(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),vq(n,t,e,i.lineWidth))}function vq(n,t,e,i){var r,s,o,a;i.top&&(r=e.x,s=e.y,o=e.x+t.width,a=e.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,s,o,a)),i.bottom&&(r=e.x,s=e.y+t.height,o=e.x+t.width,a=e.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,s,o,a)),i.left&&(r=e.x,s=e.y,o=e.x,a=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.left,r,s,o,a)),i.right&&(r=e.x+t.width,s=e.y,o=e.x+t.width,a=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.right,r,s,o,a));function l(c,u,h,g,p){n.getDocument().setLineWidth(c),n.getDocument().line(u,h,g,p,"S")}}function PI(n,t,e,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function rf(n,t,e,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return pa(n,t,a,i,r)}),t.callEndPageHooks(n,i);var o=t.settings.margin;vI(n,t,e,i),kI(n),t.pageNumber++,i.x=o.left,i.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return pa(n,t,a,i,r)}),n.applyStyles(n.userStyles))}function kI(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function _q(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=xI(this,i),s=TI(this,r);return II(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){gI(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return mu.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){mu.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new mu(this),s=AI(r,t,window,e,!1),o=s.head,a=s.body,l=((i=o[0])===null||i===void 0?void 0:i.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var M1;function CI(n,t){var e=xI(n,t),i=TI(n,e);II(n,i)}try{if(typeof window<"u"&&window){var qw=window,zw=qw.jsPDF||((M1=qw.jspdf)===null||M1===void 0?void 0:M1.jsPDF);zw&&_q(zw)}}catch(n){console.error("Could not apply autoTable plugin",n)}const bq={class:"table-container"},wq={"aria-label":"Gym members table"},Aq=["aria-sort"],xq={key:0},Sq=["aria-sort"],Eq={key:0},Tq=["aria-sort"],Iq={key:0},Pq={class:"filters"},kq={class:"pagination"},Cq=["disabled"],Rq=["disabled"],F1=10,Nq={__name:"MembersTable",setup(n){const t=Zt([{id:1,name:"Alice Smith",level:"Gold",joined:"2023-04-15"},{id:2,name:"Bob Johnson",level:"Silver",joined:"2024-01-12"},{id:3,name:"Cathy Lee",level:"Bronze",joined:"2022-11-30"},{id:4,name:"Daniel Wong",level:"Gold",joined:"2023-08-20"},{id:5,name:"Eva Chen",level:"Silver",joined:"2023-09-03"},{id:6,name:"Frank Zhou",level:"Bronze",joined:"2022-10-15"},{id:7,name:"Grace Liu",level:"Gold",joined:"2023-07-10"},{id:8,name:"Henry Park",level:"Silver",joined:"2023-12-01"},{id:9,name:"Ivy Brown",level:"Bronze",joined:"2024-02-17"},{id:10,name:"Jake Wilson",level:"Gold",joined:"2022-09-08"},{id:11,name:"Kelly Tan",level:"Silver",joined:"2024-03-14"},{id:12,name:"Leo Sun",level:"Gold",joined:"2024-05-02"},{id:13,name:"Mina Park",level:"Bronze",joined:"2023-03-22"}]),e=Zt(""),i=Zt(""),r=Zt(""),s=Zt(""),o=Zt("name"),a=Zt("asc"),l=Zt(1);ds([e,i,r,s],()=>{l.value=1});const c=zn(()=>{const _=e.value.trim().toLowerCase();return t.value.filter(E=>{const k=!_||[E.name,E.level,E.joined].some(L=>String(L).toLowerCase().includes(_)),D=!i.value||E.name.toLowerCase().includes(i.value.toLowerCase()),W=!r.value||E.level.toLowerCase().includes(r.value.toLowerCase()),it=!s.value||String(E.joined).toLowerCase().includes(s.value.toLowerCase());return k&&D&&W&&it})}),u=zn(()=>{const _=o.value,E=a.value;return[...c.value].sort((k,D)=>{const W=k[_],it=D[_],L=typeof W=="string"?W.toLowerCase():W,T=typeof it=="string"?it.toLowerCase():it;return L<T?E==="asc"?-1:1:L>T?E==="asc"?1:-1:0})}),h=zn(()=>Math.max(1,Math.ceil(u.value.length/F1))),g=zn(()=>{const _=(l.value-1)*F1;return u.value.slice(_,_+F1)});ds(h,_=>{l.value>_&&(l.value=_)});function p(_){o.value===_?a.value=a.value==="asc"?"desc":"asc":(o.value=_,a.value="asc")}function y(_){return o.value!==_?"none":a.value==="asc"?"ascending":"descending"}function b(){const _=u.value.map(E=>({Name:E.name,Level:E.level,Joined:E.joined}));xT("gym-members.csv",_)}function w(){const _=new pe({unit:"pt",format:"a4"});_.setFontSize(14),_.text("Gym Members",40,40),CI(_,{startY:60,head:[["Name","Level","Joined"]],body:u.value.map(E=>[E.name,E.level,E.joined]),styles:{fontSize:10}}),_.save("gym-members.pdf")}return(_,E)=>(Wt(),Kt("div",bq,[E[13]||(E[13]=Y("h2",null,"🏋️ Gym Members",-1)),rn(Y("input",{"onUpdate:modelValue":E[0]||(E[0]=k=>e.value=k),type:"text",placeholder:"Search member/level/join date...",class:"search-box","aria-label":"Search all columns"},null,512),[[Cn,e.value]]),Y("div",{class:"actions"},[Y("button",{type:"button",onClick:b,"aria-label":"Export members as CSV"},"Export CSV"),Y("button",{type:"button",onClick:w,"aria-label":"Export members as PDF"},"Export PDF")]),Y("table",wq,[E[12]||(E[12]=Y("caption",{class:"caption"}," Members list with level and joined date. Click a column header to sort. ",-1)),Y("thead",null,[Y("tr",null,[Y("th",{scope:"col",onClick:E[1]||(E[1]=k=>p("name")),"aria-sort":y("name")},[E[9]||(E[9]=sn(" Name ",-1)),o.value==="name"?(Wt(),Kt("span",xq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,Aq),Y("th",{scope:"col",onClick:E[2]||(E[2]=k=>p("level")),"aria-sort":y("level")},[E[10]||(E[10]=sn(" Level ",-1)),o.value==="level"?(Wt(),Kt("span",Eq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,Sq),Y("th",{scope:"col",onClick:E[3]||(E[3]=k=>p("joined")),"aria-sort":y("joined")},[E[11]||(E[11]=sn(" Joined ",-1)),o.value==="joined"?(Wt(),Kt("span",Iq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,Tq)]),Y("tr",Pq,[Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[4]||(E[4]=k=>i.value=k),placeholder:"Filter name…","aria-label":"Filter by name"},null,512),[[Cn,i.value]])]),Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[5]||(E[5]=k=>r.value=k),placeholder:"Filter level…","aria-label":"Filter by level"},null,512),[[Cn,r.value]])]),Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[6]||(E[6]=k=>s.value=k),placeholder:"Filter joined…","aria-label":"Filter by joined date"},null,512),[[Cn,s.value]])])])]),Y("tbody",null,[(Wt(!0),Kt(Ai,null,xl(g.value,k=>(Wt(),Kt("tr",{key:k.id},[Y("td",null,Qt(k.name),1),Y("td",null,Qt(k.level),1),Y("td",null,Qt(k.joined),1)]))),128))])]),Y("div",kq,[Y("button",{disabled:l.value===1,onClick:E[7]||(E[7]=k=>l.value--),"aria-label":"Previous page"},"Prev",8,Cq),Y("span",null,"Page "+Qt(l.value)+" / "+Qt(h.value),1),Y("button",{disabled:l.value===h.value,onClick:E[8]||(E[8]=k=>l.value++),"aria-label":"Next page"},"Next",8,Rq)])]))}},Lq=ts(Nq,[["__scopeId","data-v-e69debda"]]),Oq={class:"table-container"},Dq={"aria-label":"Gym classes table"},Mq=["aria-sort"],Fq={key:0},Vq=["aria-sort"],Bq={key:0},jq=["aria-sort"],Uq={key:0},qq={class:"filters"},zq={class:"pagination"},Hq=["disabled"],$q=["disabled"],V1=10,Wq={__name:"ClassesTable",setup(n){const t=Zt([{id:1,name:"Yoga Flow",instructor:"Anna",time:"Mon 9:00 AM",spots:12},{id:2,name:"Spin Class",instructor:"Brian",time:"Mon 6:00 PM",spots:10},{id:3,name:"Pilates Core",instructor:"Cindy",time:"Tue 7:00 AM",spots:8},{id:4,name:"Box Fit",instructor:"Daniel",time:"Tue 6:30 PM",spots:14},{id:5,name:"Zumba Dance",instructor:"Eva",time:"Wed 5:00 PM",spots:20},{id:6,name:"HIIT Express",instructor:"Frank",time:"Thu 8:00 AM",spots:9},{id:7,name:"Stretch & Relax",instructor:"Grace",time:"Fri 7:30 AM",spots:11},{id:8,name:"Power Pump",instructor:"Henry",time:"Fri 6:00 PM",spots:15},{id:9,name:"Core Balance",instructor:"Ivy",time:"Sat 10:00 AM",spots:13},{id:10,name:"Cardio Burn",instructor:"Jack",time:"Sun 9:00 AM",spots:16},{id:11,name:"Mobility Flow",instructor:"Kate",time:"Sun 4:00 PM",spots:12},{id:12,name:"Strength 101",instructor:"Leo",time:"Wed 7:00 PM",spots:18}]),e=Zt(""),i=Zt(""),r=Zt(""),s=Zt(""),o=Zt("name"),a=Zt("asc"),l=Zt(1);ds([e,i,r,s],()=>{l.value=1});const c=zn(()=>{const _=e.value.trim().toLowerCase();return t.value.filter(E=>{const k=!_||[E.name,E.instructor,E.time].some(L=>String(L).toLowerCase().includes(_)),D=!i.value||E.name.toLowerCase().includes(i.value.toLowerCase()),W=!r.value||E.instructor.toLowerCase().includes(r.value.toLowerCase()),it=!s.value||E.time.toLowerCase().includes(s.value.toLowerCase());return k&&D&&W&&it})}),u=zn(()=>{const _=o.value,E=a.value;return[...c.value].sort((k,D)=>{const W=k[_],it=D[_],L=typeof W=="string"?W.toLowerCase():W,T=typeof it=="string"?it.toLowerCase():it;return L<T?E==="asc"?-1:1:L>T?E==="asc"?1:-1:0})}),h=zn(()=>Math.max(1,Math.ceil(u.value.length/V1))),g=zn(()=>{const _=(l.value-1)*V1;return u.value.slice(_,_+V1)});ds(h,_=>{l.value>_&&(l.value=_)});function p(_){o.value===_?a.value=a.value==="asc"?"desc":"asc":(o.value=_,a.value="asc")}function y(_){return o.value!==_?"none":a.value==="asc"?"ascending":"descending"}function b(){const _=u.value.map(E=>({Class:E.name,Instructor:E.instructor,Time:E.time,Spots:E.spots}));xT("gym-classes.csv",_)}function w(){const _=new pe({unit:"pt",format:"a4"});_.setFontSize(14),_.text("Gym Classes",40,40),CI(_,{startY:60,head:[["Class","Instructor","Time","Spots"]],body:u.value.map(E=>[E.name,E.instructor,E.time,String(E.spots)]),styles:{fontSize:10}}),_.save("gym-classes.pdf")}return(_,E)=>(Wt(),Kt("div",Oq,[E[15]||(E[15]=Y("h2",null,"🧘 Gym Classes",-1)),rn(Y("input",{"onUpdate:modelValue":E[0]||(E[0]=k=>e.value=k),type:"text",placeholder:"Search class/instructor/time...",class:"search-box","aria-label":"Search all columns"},null,512),[[Cn,e.value]]),Y("div",{class:"actions"},[Y("button",{type:"button",onClick:b,"aria-label":"Export classes as CSV"},"Export CSV"),Y("button",{type:"button",onClick:w,"aria-label":"Export classes as PDF"},"Export PDF")]),Y("table",Dq,[E[14]||(E[14]=Y("caption",{class:"caption"}," Class timetable with instructor, time and remaining spots. Click a column header to sort. ",-1)),Y("thead",null,[Y("tr",null,[Y("th",{scope:"col",onClick:E[1]||(E[1]=k=>p("name")),"aria-sort":y("name")},[E[9]||(E[9]=sn(" Class ",-1)),o.value==="name"?(Wt(),Kt("span",Fq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,Mq),Y("th",{scope:"col",onClick:E[2]||(E[2]=k=>p("instructor")),"aria-sort":y("instructor")},[E[10]||(E[10]=sn(" Instructor ",-1)),o.value==="instructor"?(Wt(),Kt("span",Bq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,Vq),Y("th",{scope:"col",onClick:E[3]||(E[3]=k=>p("time")),"aria-sort":y("time")},[E[11]||(E[11]=sn(" Time ",-1)),o.value==="time"?(Wt(),Kt("span",Uq,Qt(a.value==="asc"?"▲":"▼"),1)):ke("",!0)],8,jq),E[12]||(E[12]=Y("th",{scope:"col"},"Spots",-1))]),Y("tr",qq,[Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[4]||(E[4]=k=>i.value=k),placeholder:"Filter class…","aria-label":"Filter by class"},null,512),[[Cn,i.value]])]),Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[5]||(E[5]=k=>r.value=k),placeholder:"Filter instructor…","aria-label":"Filter by instructor"},null,512),[[Cn,r.value]])]),Y("th",null,[rn(Y("input",{"onUpdate:modelValue":E[6]||(E[6]=k=>s.value=k),placeholder:"Filter time…","aria-label":"Filter by time"},null,512),[[Cn,s.value]])]),E[13]||(E[13]=Y("th",null,null,-1))])]),Y("tbody",null,[(Wt(!0),Kt(Ai,null,xl(g.value,k=>(Wt(),Kt("tr",{key:k.id},[Y("td",null,Qt(k.name),1),Y("td",null,Qt(k.instructor),1),Y("td",null,Qt(k.time),1),Y("td",null,Qt(k.spots),1)]))),128))])]),Y("div",zq,[Y("button",{disabled:l.value===1,onClick:E[7]||(E[7]=k=>l.value--),"aria-label":"Previous page"},"Prev",8,Hq),Y("span",null,"Page "+Qt(l.value)+" / "+Qt(h.value),1),Y("button",{disabled:l.value===h.value,onClick:E[8]||(E[8]=k=>l.value++),"aria-label":"Next page"},"Next",8,$q)])]))}},Gq=ts(Wq,[["__scopeId","data-v-e36001c2"]]),Kq={class:"map-container"},Yq={class:"head"},Jq={class:"controls"},Xq={class:"chk"},Qq={key:0,class:"error"},Zq={class:"legend"},tz={__name:"MapView",setup(n){const t=Zt(""),e=Zt(3),i=Zt(!1),r=Zt(0),s=Zt(null);let o=null,a=null,l=null,c=null,u=null,h=null;const g=[];let p=null,y=null;const b={lat:-37.8136,lng:144.9631};function w(){g.forEach(L=>L.setMap&&L.setMap(null)),g.length=0,r.value=0}function _(L){if(!L?.geometry?.location)return;const T=new google.maps.Marker({position:L.geometry.location,map:o,title:L.name});T.addListener("click",()=>{const P=L.vicinity||L.formatted_address||"",F=L.rating?`⭐ ${L.rating}`:"",S=L.user_ratings_total?` (${L.user_ratings_total})`:"",C=F?`<div style="margin-top:4px">${F}${S}</div>`:"";a.setContent(`<div style="max-width:240px;line-height:1.35">
         <strong>${L.name}</strong>
         <div>${P}</div>
         ${C}
       </div>`),a.open(o,T)}),g.push(T),r.value=g.length}function E(L){if(!o)return;const T=new google.maps.places.PlacesService(o);let P=0;const F={location:L,radius:Math.round(e.value*1e3),type:"gym",openNow:i.value||!1};function S(C,N,nt){if(N!==google.maps.places.PlacesServiceStatus.OK||!C){P===0&&(t.value="Failed to fetch results from Places API: ensure Places API and billing are enabled, or check your quota.");return}C.forEach(_),P+=C.length,nt&&nt.hasNextPage&&setTimeout(()=>nt.nextPage(),400)}T.nearbySearch(F,S)}function k(L){const T=Math.round(e.value*1e3);h?(h.setCenter(L),h.setRadius(T),h.getMap()||h.setMap(o)):h=new google.maps.Circle({strokeColor:"#2b78ff",strokeOpacity:.5,strokeWeight:1.5,fillColor:"#2b78ff",fillOpacity:.08,map:o,center:L,radius:T,clickable:!1})}function D(L,T={markUser:!1,markSearch:!1}){o&&(T.markUser&&(c&&c.setMap(null),c=new google.maps.Marker({position:L,map:o,title:"You are here 🧍‍♂️",icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"})),T.markSearch&&(u&&u.setMap(null),u=new google.maps.Marker({position:L,map:o,title:"Search center",icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"})),o.setCenter(L),k(L),w(),E(L),l&&google.maps.event.removeListener(l),l=o.addListener("idle",()=>{k(o.getCenter()),clearTimeout(p),p=setTimeout(()=>{w(),E(o.getCenter())},500)}))}function W(){o&&(w(),E(o.getCenter()))}function it(){o&&D(o.getCenter(),{markUser:!1,markSearch:!0})}return ds(e,()=>{o&&(k(o.getCenter()),W())}),ds(i,()=>W()),To(()=>{if(!window.google||!window.google.maps){t.value="Google Maps failed to load. Check your API key and ensure libraries=places is included.";return}o=new google.maps.Map(document.getElementById("map"),{center:b,zoom:14,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0}),a=new google.maps.InfoWindow,s.value&&(y=new google.maps.places.Autocomplete(s.value,{fields:["geometry","name","formatted_address"]}),y.bindTo("bounds",o),y.addListener("place_changed",()=>{const L=y.getPlace();if(!L||!L.geometry){t.value="Selected place has no geometry. Try another search.";return}if(t.value="",L.geometry.viewport){o.fitBounds(L.geometry.viewport);const T=o.addListener("idle",()=>{o.getZoom()>16&&o.setZoom(16),google.maps.event.removeListener(T),D(L.geometry.location,{markSearch:!0})})}else o.setCenter(L.geometry.location),o.setZoom(15),D(L.geometry.location,{markSearch:!0})})),navigator.geolocation?navigator.geolocation.getCurrentPosition(L=>{const T={lat:L.coords.latitude,lng:L.coords.longitude};D(T,{markUser:!0})},()=>{t.value="Unable to access your location. Showing gyms near Melbourne CBD instead.",D(b,{markUser:!1})},{enableHighAccuracy:!0,timeout:8e3}):(t.value="Geolocation not supported. Showing gyms near Melbourne CBD instead.",D(b,{markUser:!1}))}),xy(()=>{l&&(google.maps.event.removeListener(l),l=null),clearTimeout(p),c&&c.setMap(null),u&&u.setMap(null),h&&h.setMap(null),w(),a&&a.close()}),(L,T)=>(Wt(),Kt("div",Kq,[Y("div",Yq,[T[5]||(T[5]=Y("h2",null,"💪 Find Nearby Gyms",-1)),Y("div",Jq,[Y("input",{ref_key:"searchInput",ref:s,type:"text",class:"search",placeholder:"Search suburb, address or landmark…","aria-label":"Search area"},null,512),Y("label",null,[T[3]||(T[3]=sn(" Radius: ",-1)),rn(Y("select",{"onUpdate:modelValue":T[0]||(T[0]=P=>e.value=P)},[...T[2]||(T[2]=[Y("option",{value:1},"1 km",-1),Y("option",{value:2},"2 km",-1),Y("option",{value:3},"3 km",-1),Y("option",{value:5},"5 km",-1)])],512),[[wu,e.value,void 0,{number:!0}]])]),Y("label",Xq,[rn(Y("input",{type:"checkbox","onUpdate:modelValue":T[1]||(T[1]=P=>i.value=P)},null,512),[[yC,i.value]]),T[4]||(T[4]=sn(" Open now ",-1))]),Y("button",{class:"btn",onClick:W},"Refresh"),Y("button",{class:"btn",onClick:it},"Search this area")])]),t.value?(Wt(),Kt("p",Qq,Qt(t.value),1)):ke("",!0),T[12]||(T[12]=Y("div",{id:"map"},null,-1)),Y("div",Zq,[T[6]||(T[6]=Y("span",{class:"dot user"},null,-1)),T[7]||(T[7]=sn(" You ",-1)),T[8]||(T[8]=Y("span",{class:"sep"},"•",-1)),T[9]||(T[9]=Y("span",{class:"dot gym"},null,-1)),sn(" Gyms ("+Qt(r.value)+") ",1),T[10]||(T[10]=Y("span",{class:"sep"},"•",-1)),T[11]||(T[11]=Y("span",{class:"ring"},null,-1)),sn(" Radius "+Qt(e.value)+" km ",1)])]))}},ez=ts(tz,[["__scopeId","data-v-aa0bb752"]]),nz={id:"main",class:"wrap",tabindex:"-1","aria-label":"Book a class page"},iz={key:0,role:"status","aria-live":"polite"},rz={key:1,class:"text-danger",role:"alert"},sz={key:3,class:"empty",role:"region","aria-labelledby":"emptyTitle"},oz=["aria-busy"],az={"aria-labelledby":"classTableTitle","aria-describedby":"tableHelp"},lz=["aria-busy"],cz={scope:"row"},uz=["disabled","aria-disabled","aria-label","onClick"],hz=["disabled","aria-disabled","title","aria-label","onClick"],fz={"aria-hidden":"true"},dz={key:0,class:"visually-hidden"},pz="https://australia-southeast2-week7-siyi.cloudfunctions.net/bookClass",gz="https://australia-southeast2-week7-siyi.cloudfunctions.net/cancelClass",mz={__name:"BookClasses",setup(n){const t=nm(),e=Zt([]),i=Zt(!0),r=Zt(""),s=Zt(""),o=Zt(!1),a=Zt(""),l=Zt(""),c=Zt(new Set),u=Zt(null);async function h(){i.value=!0,r.value="";try{const _=await cg(Ru(t,"classes"));e.value=_.docs.map(E=>({id:E.id,...E.data()}))}catch(_){console.error("loadClasses error:",_),r.value=_.message||"Failed to load classes."}finally{i.value=!1}}async function g(){c.value=new Set;const _=tl.currentUser;if(_)try{const E=H4(Ru(t,"bookings"),$4("userId","==",_.uid));(await cg(E)).forEach(D=>{const W=D.data();W?.classId&&c.value.add(W.classId)})}catch(E){console.error("loadMyBookings error:",E)}}async function p(){const _=[{id:"yoga",name:"Yoga Flow",time:"Mon 9:00 AM",capacity:12,enrolled:0},{id:"spin",name:"Spin Class",time:"Mon 6:00 PM",capacity:10,enrolled:0},{id:"pilates",name:"Pilates Core",time:"Tue 7:00 AM",capacity:8,enrolled:0},{id:"boxfit",name:"Box Fit",time:"Tue 6:30 PM",capacity:14,enrolled:0}];try{await Promise.all(_.map(E=>I2(fa(t,"classes",E.id),E,{merge:!0}))),await h(),o.value=!0,s.value="✅ Demo classes added successfully!"}catch(E){console.error(E),o.value=!1,s.value="❌ Failed to seed demo classes: "+E.message}}function y(_){return c.value.has(_)}async function b(_){const E=tl.currentUser;if(!E){o.value=!1,s.value="⚠️ Please log in first.";return}try{a.value=_,r.value="",o.value=!1,s.value="";const k=await E.getIdToken(),D=await fetch(pz,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:_,idToken:k})}),W=await D.json();if(!D.ok||W.ok===!1){const it=W.error||"Book failed";o.value=!1,it==="Already booked"?s.value="⚠️ You have already booked this class.":it==="Class is full"?s.value="⚠️ This class is full.":it==="Class not found"?s.value="⚠️ Class not found.":s.value="⚠️ Booking failed: "+it;return}o.value=!0,s.value=`🎉 Successfully booked “${W.class?.name??_}”!`,await h(),await g()}catch(k){o.value=!1,s.value="⚠️ Booking failed: "+(k.message||String(k))}finally{a.value=""}}async function w(_){const E=tl.currentUser;if(!E){o.value=!1,s.value="⚠️ Please log in first.";return}try{l.value=_,r.value="",o.value=!1,s.value="";const k=await E.getIdToken(),D=await fetch(gz,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:_,idToken:k})}),W=await D.json();if(!D.ok||W.ok===!1){const it=W.error||"Cancel failed";o.value=!1,it==="Not booked"?s.value="⚠️ You have not booked this class.":it==="Class not found"?s.value="⚠️ Class not found.":s.value="⚠️ Cancel failed: "+it;return}o.value=!0,s.value=`✅ Canceled booking for “${W.class?.name??_}”.`,await h(),await g()}catch(k){o.value=!1,s.value="⚠️ Cancel failed: "+(k.message||String(k))}finally{l.value=""}}return To(async()=>{await h(),await g(),oE(tl,async()=>{await g()});const _=document.getElementById("main");_&&_.focus()}),ds(s,async _=>{_&&(await qf(),u.value?.focus())}),(_,E)=>(Wt(),Kt(Ai,null,[E[6]||(E[6]=Y("a",{href:"#main",class:"skip-link"},"Skip to main content",-1)),Y("main",nz,[E[5]||(E[5]=Y("h1",null,"📅 Book a Class",-1)),i.value?(Wt(),Kt("p",iz,"Loading...")):ke("",!0),r.value?(Wt(),Kt("p",rz,Qt(r.value),1)):ke("",!0),s.value?(Wt(),Kt("p",{key:2,class:Fu({ok:o.value,err:!o.value}),role:"status","aria-live":"polite",tabindex:"-1",ref_key:"statusEl",ref:u},Qt(s.value),3)):ke("",!0),!i.value&&e.value.length===0?(Wt(),Kt("div",sz,[E[0]||(E[0]=Y("p",{id:"emptyTitle"},"No classes found in Firestore.",-1)),Y("button",{type:"button",onClick:p,"aria-label":"Insert demo classes"}," Seed demo classes ")])):(Wt(),Kt("div",{key:4,role:"region","aria-labelledby":"classTableTitle","aria-busy":i.value?"true":"false"},[E[3]||(E[3]=Y("h2",{id:"classTableTitle",class:"visually-hidden"},"Available classes",-1)),E[4]||(E[4]=Y("p",{id:"tableHelp",class:"visually-hidden"}," Use the Action column to book or cancel a class. Full classes are disabled. ",-1)),Y("table",az,[E[1]||(E[1]=Y("caption",{class:"caption"}," Class timetable with capacity and your booking status. Use the Action column to book or cancel. ",-1)),E[2]||(E[2]=Y("thead",null,[Y("tr",null,[Y("th",{scope:"col"},"Class"),Y("th",{scope:"col"},"Time"),Y("th",{scope:"col"},"Capacity"),Y("th",{scope:"col"},"Enrolled"),Y("th",{scope:"col"},"Action")])],-1)),Y("tbody",null,[(Wt(!0),Kt(Ai,null,xl(e.value,k=>(Wt(),Kt("tr",{key:k.id,"aria-busy":a.value===k.id||l.value===k.id?"true":"false"},[Y("th",cz,Qt(k.name),1),Y("td",null,Qt(k.time),1),Y("td",null,Qt(k.capacity),1),Y("td",null,Qt(k.enrolled),1),Y("td",null,[y(k.id)?(Wt(),Kt("button",{key:0,class:"btn-cancel",type:"button",disabled:l.value===k.id,"aria-disabled":l.value===k.id?"true":"false","aria-label":l.value===k.id?"Cancelling booking for "+(k.name||k.id):"Cancel booking for "+(k.name||k.id),onClick:D=>w(k.id)},Qt(l.value===k.id?"Cancelling...":"Cancel"),9,uz)):(Wt(),Kt("button",{key:1,type:"button",disabled:k.enrolled>=k.capacity||a.value===k.id,"aria-disabled":k.enrolled>=k.capacity||a.value===k.id?"true":"false",title:k.enrolled>=k.capacity?"Class is full":"","aria-label":k.enrolled>=k.capacity?`Class ${k.name||k.id} is full`:a.value===k.id?`Booking ${k.name||k.id}`:`Book ${k.name||k.id}`,onClick:D=>b(k.id)},[Y("span",fz,Qt(k.enrolled>=k.capacity?"Full":a.value===k.id?"Booking...":"Book"),1),k.enrolled>=k.capacity?(Wt(),Kt("span",dz," — no spots available ")):ke("",!0)],8,hz))])],8,lz))),128))])])],8,oz))])],64))}},yz=ts(mz,[["__scopeId","data-v-e74fbf0d"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ld(n){return n+.5|0}const nl=(n,t,e)=>Math.max(Math.min(n,e),t);function Fh(n){return nl(ld(n*2.55),0,255)}function fl(n){return nl(ld(n*255),0,255)}function Xo(n){return nl(ld(n/2.55)/100,0,1)}function Hw(n){return nl(ld(n*100),0,100)}const cs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ey=[..."0123456789ABCDEF"],vz=n=>ey[n&15],_z=n=>ey[(n&240)>>4]+ey[n&15],Wd=n=>(n&240)>>4===(n&15),bz=n=>Wd(n.r)&&Wd(n.g)&&Wd(n.b)&&Wd(n.a);function wz(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&cs[n[1]]*17,g:255&cs[n[2]]*17,b:255&cs[n[3]]*17,a:t===5?cs[n[4]]*17:255}:(t===7||t===9)&&(e={r:cs[n[1]]<<4|cs[n[2]],g:cs[n[3]]<<4|cs[n[4]],b:cs[n[5]]<<4|cs[n[6]],a:t===9?cs[n[7]]<<4|cs[n[8]]:255})),e}const Az=(n,t)=>n<255?t(n):"";function xz(n){var t=bz(n)?vz:_z;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Az(n.a,t):void 0}const Sz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RI(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Ez(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Tz(n,t,e){const i=RI(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Iz(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function M2(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Iz(e,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function F2(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(fl)}function V2(n,t,e){return F2(RI,n,t,e)}function Pz(n,t,e){return F2(Tz,n,t,e)}function kz(n,t,e){return F2(Ez,n,t,e)}function NI(n){return(n%360+360)%360}function Cz(n){const t=Sz.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Fh(+t[5]):fl(+t[5]));const r=NI(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Pz(r,s,o):t[1]==="hsv"?i=kz(r,s,o):i=V2(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function Rz(n,t){var e=M2(n);e[0]=NI(e[0]+t),e=V2(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Nz(n){if(!n)return;const t=M2(n),e=t[0],i=Hw(t[1]),r=Hw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Xo(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const $w={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ww={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Lz(){const n={},t=Object.keys(Ww),e=Object.keys($w);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,$w[s]);s=parseInt(Ww[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let Gd;function Oz(n){Gd||(Gd=Lz(),Gd.transparent=[0,0,0,0]);const t=Gd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Dz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Mz(n){const t=Dz.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Fh(o):nl(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Fh(i):nl(i,0,255)),r=255&(t[4]?Fh(r):nl(r,0,255)),s=255&(t[6]?Fh(s):nl(s,0,255)),{r:i,g:r,b:s,a:e}}}function Fz(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const B1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Hc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Vz(n,t,e){const i=Hc(Xo(n.r)),r=Hc(Xo(n.g)),s=Hc(Xo(n.b));return{r:fl(B1(i+e*(Hc(Xo(t.r))-i))),g:fl(B1(r+e*(Hc(Xo(t.g))-r))),b:fl(B1(s+e*(Hc(Xo(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Kd(n,t,e){if(n){let i=M2(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=V2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function LI(n,t){return n&&Object.assign(t||{},n)}function Gw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=fl(n[3]))):(t=LI(n,{r:0,g:0,b:0,a:1}),t.a=fl(t.a)),t}function Bz(n){return n.charAt(0)==="r"?Mz(n):Cz(n)}class Nf{constructor(t){if(t instanceof Nf)return t;const e=typeof t;let i;e==="object"?i=Gw(t):e==="string"&&(i=wz(t)||Oz(t)||Bz(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=LI(this._rgb);return t&&(t.a=Xo(t.a)),t}set rgb(t){this._rgb=Gw(t)}rgbString(){return this._valid?Fz(this._rgb):void 0}hexString(){return this._valid?xz(this._rgb):void 0}hslString(){return this._valid?Nz(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Vz(this._rgb,t._rgb,e)),this}clone(){return new Nf(this.rgb)}alpha(t){return this._rgb.a=fl(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ld(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Kd(this._rgb,2,t),this}darken(t){return Kd(this._rgb,2,-t),this}saturate(t){return Kd(this._rgb,1,t),this}desaturate(t){return Kd(this._rgb,1,-t),this}rotate(t){return Rz(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Wo(){}const jz=(()=>{let n=0;return()=>n++})();function fn(n){return n==null}function Ri(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function on(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ys(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function so(n,t){return ys(n)?n:t}function He(n,t){return typeof n>"u"?t:n}const Uz=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Dn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function vn(n,t,e,i){let r,s,o;if(Ri(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(on(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function yg(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function vg(n){if(Ri(n))return n.map(vg);if(on(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=vg(n[e[r]]);return t}return n}function OI(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function qz(n,t,e,i){if(!OI(n))return;const r=t[n],s=e[n];on(r)&&on(s)?Lf(r,s,i):t[n]=vg(s)}function Lf(n,t,e){const i=Ri(t)?t:[t],r=i.length;if(!on(n))return n;e=e||{};const s=e.merger||qz;let o;for(let a=0;a<r;++a){if(o=i[a],!on(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,e)}return n}function sf(n,t){return Lf(n,t,{merger:zz})}function zz(n,t,e){if(!OI(n))return;const i=t[n],r=e[n];on(i)&&on(r)?sf(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=vg(r))}const Kw={"":n=>n,x:n=>n.x,y:n=>n.y};function Hz(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function $z(n){const t=Hz(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Lu(n,t){return(Kw[t]||(Kw[t]=$z(t)))(n)}function B2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Of=n=>typeof n<"u",Al=n=>typeof n=="function",Yw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Wz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const rr=Math.PI,wo=2*rr,Gz=wo+rr,_g=Number.POSITIVE_INFINITY,Kz=rr/180,ks=rr/2,Yl=rr/4,Jw=rr*2/3,DI=Math.log10,Ao=Math.sign;function of(n,t,e){return Math.abs(n-t)<e}function Xw(n){const t=Math.round(n);n=of(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(DI(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Yz(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function Jz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Df(n){return!Jz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Xz(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Qz(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function oc(n){return n*(rr/180)}function Zz(n){return n*(180/rr)}function Qw(n){if(!ys(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tH(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*rr&&(s+=wo),{angle:s,distance:r}}function ny(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function eH(n,t){return(n-t+Gz)%wo-rr}function Ha(n){return(n%wo+wo)%wo}function MI(n,t,e,i){const r=Ha(n),s=Ha(t),o=Ha(e),a=Ha(s-r),l=Ha(o-r),c=Ha(r-s),u=Ha(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Zr(n,t,e){return Math.max(t,Math.min(e,n))}function nH(n){return Zr(n,-32768,32767)}function ac(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function j2(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const lc=(n,t,e,i)=>j2(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),iH=(n,t,e)=>j2(n,e,i=>n[i][t]>=e);function rH(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const FI=["push","pop","shift","splice","unshift"];function sH(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FI.forEach(e=>{const i="_onData"+B2(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Zw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(FI.forEach(s=>{delete n[s]}),delete n._chartjs)}function VI(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const BI=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function jI(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,BI.call(window,()=>{i=!1,n.apply(t,e)}))}}function oH(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const UI=n=>n==="start"?"left":n==="end"?"right":"center",Kr=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,aH=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function lH(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:g,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(r=Math.min(lc(l,u,h).lo,e?i:lc(t,u,o.getPixelForValue(h)).lo),c){const b=l.slice(0,r+1).reverse().findIndex(w=>!fn(w[a.axis]));r-=Math.max(0,b)}r=Zr(r,0,i-1)}if(y){let b=Math.max(lc(l,o.axis,g,!0).hi+1,e?0:lc(t,u,o.getPixelForValue(g),!0).hi+1);if(c){const w=l.slice(b-1).findIndex(_=>!fn(_[a.axis]));b+=Math.max(0,w)}s=Zr(b,r,i)-r}else s=i-r}return{start:r,count:s}}function cH(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Yd=n=>n===0||n===1,tA=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*wo/e)),eA=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*wo/e)+1,af={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ks)+1,easeOutSine:n=>Math.sin(n*ks),easeInOutSine:n=>-.5*(Math.cos(rr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yd(n)?n:tA(n,.075,.3),easeOutElastic:n=>Yd(n)?n:eA(n,.075,.3),easeInOutElastic(n){return Yd(n)?n:n<.5?.5*tA(n*2,.1125,.45):.5+.5*eA(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-af.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?af.easeInBounce(n*2)*.5:af.easeOutBounce(n*2-1)*.5+.5};function U2(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function nA(n){return U2(n)?n:new Nf(n)}function j1(n){return U2(n)?n:new Nf(n).saturate(.5).darken(.1).hexString()}const uH=["x","y","borderWidth","radius","tension"],hH=["color","borderColor","backgroundColor"];function fH(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:hH},numbers:{type:"number",properties:uH}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function dH(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iA=new Map;function pH(n,t){t=t||{};const e=n+JSON.stringify(t);let i=iA.get(e);return i||(i=new Intl.NumberFormat(n,t),iA.set(e,i)),i}function qI(n,t,e){return pH(t,e).format(n)}const gH={values(n){return Ri(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=mH(n,e)}const o=DI(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),qI(n,i,l)}};function mH(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var zI={formatters:gH};function yH(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ec=Object.create(null),iy=Object.create(null);function lf(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function U1(n,t,e){return typeof t=="string"?Lf(lf(n,t),e):Lf(lf(n,""),t)}class vH{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>j1(r.backgroundColor),this.hoverBorderColor=(i,r)=>j1(r.borderColor),this.hoverColor=(i,r)=>j1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return U1(this,t,e)}get(t){return lf(this,t)}describe(t,e){return U1(iy,t,e)}override(t,e){return U1(Ec,t,e)}route(t,e,i,r){const s=lf(this,t),o=lf(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[r];return on(l)?Object.assign({},c,l):He(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var fi=new vH({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fH,dH,yH]);function _H(n){return!n||fn(n.size)||fn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function rA(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Jl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function sA(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ry(n,t,e,i){HI(n,t,e,i,null)}function HI(n,t,e,i,r){let s,o,a,l,c,u,h,g;const p=t.pointStyle,y=t.rotation,b=t.radius;let w=(y||0)*Kz;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),p){default:r?n.ellipse(e,i,r/2,b,0,0,wo):n.arc(e,i,b,0,wo),n.closePath();break;case"triangle":u=r?r/2:b,n.moveTo(e+Math.sin(w)*u,i-Math.cos(w)*b),w+=Jw,n.lineTo(e+Math.sin(w)*u,i-Math.cos(w)*b),w+=Jw,n.lineTo(e+Math.sin(w)*u,i-Math.cos(w)*b),n.closePath();break;case"rectRounded":c=b*.516,l=b-c,o=Math.cos(w+Yl)*l,h=Math.cos(w+Yl)*(r?r/2-c:l),a=Math.sin(w+Yl)*l,g=Math.sin(w+Yl)*(r?r/2-c:l),n.arc(e-h,i-a,c,w-rr,w-ks),n.arc(e+g,i-o,c,w-ks,w),n.arc(e+h,i+a,c,w,w+ks),n.arc(e-g,i+o,c,w+ks,w+rr),n.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*b,u=r?r/2:l,n.rect(e-u,i-l,2*u,2*l);break}w+=Yl;case"rectRot":h=Math.cos(w)*(r?r/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,g=Math.sin(w)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+g,i-o),n.lineTo(e+h,i+a),n.lineTo(e-g,i+o),n.closePath();break;case"crossRot":w+=Yl;case"cross":h=Math.cos(w)*(r?r/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,g=Math.sin(w)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o);break;case"star":h=Math.cos(w)*(r?r/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,g=Math.sin(w)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o),w+=Yl,h=Math.cos(w)*(r?r/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,g=Math.sin(w)*(r?r/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o);break;case"line":o=r?r/2:Math.cos(w)*b,a=Math.sin(w)*b,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(r?r/2:b),i+Math.sin(w)*b);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Mf(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function q2(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function z2(n){n.restore()}function bH(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function wH(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function AH(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),fn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function xH(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function SH(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function bg(n,t,e,i,r,s={}){const o=Ri(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,AH(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&SH(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),fn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,i,s.maxWidth)),n.fillText(c,e,i,s.maxWidth),xH(n,e,i,c,s),i+=Number(r.lineHeight);n.restore()}function wg(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*rr,rr,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,rr,ks,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,ks,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-ks,!0),n.lineTo(e+o.topLeft,i)}const EH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IH(n,t){const e=(""+n).match(EH);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const PH=n=>+n||0;function $I(n,t){const e={},i=on(t),r=i?Object.keys(t):t,s=on(n)?i?o=>He(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=PH(s(o));return e}function WI(n){return $I(n,{top:"y",right:"x",bottom:"y",left:"x"})}function yu(n){return $I(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ms(n){const t=WI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ir(n,t){n=n||{},t=t||fi.font;let e=He(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=He(n.style,t.style);i&&!(""+i).match(TH)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:He(n.family,t.family),lineHeight:IH(He(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:He(n.weight,t.weight),string:""};return r.string=_H(r),r}function Jd(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function kH(n,t,e){const{min:i,max:r}=n,s=Uz(t,(r-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Nc(n,t){return Object.assign(Object.create(n),t)}function H2(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=JI("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>H2([a,...n],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return KI(a,l,()=>FH(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return aA(a).includes(l)},ownKeys(a){return aA(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Ou(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:GI(n,i),setContext:s=>Ou(n,s,e,i),override:s=>Ou(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return KI(s,o,()=>RH(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function GI(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Al(e)?e:()=>e,isIndexable:Al(i)?i:()=>i}}const CH=(n,t)=>n?n+B2(t):t,$2=(n,t)=>on(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function KI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function RH(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[t];return Al(a)&&o.isScriptable(t)&&(a=NH(t,a,n,e)),Ri(a)&&a.length&&(a=LH(t,a,n,o.isIndexable)),$2(t,a)&&(a=Ou(a,r,s&&s[t],o)),a}function NH(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(s,o||i);return a.delete(n),$2(n,l)&&(l=W2(r._scopes,r,n,l)),l}function LH(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(on(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=W2(c,r,n,u);t.push(Ou(h,s,o&&o[n],a))}}return t}function YI(n,t,e){return Al(n)?n(t,e):n}const OH=(n,t)=>n===!0?t:typeof n=="string"?Lu(t,n):void 0;function DH(n,t,e,i,r){for(const s of t){const o=OH(e,s);if(o){n.add(o);const a=YI(o._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function W2(n,t,e,i){const r=t._rootScopes,s=YI(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=oA(a,o,e,s||e,i);return l===null||typeof s<"u"&&s!==e&&(l=oA(a,o,s,l,i),l===null)?!1:H2(Array.from(a),[""],r,s,()=>MH(t,e,i))}function oA(n,t,e,i,r){for(;e;)e=DH(n,t,e,i,r);return e}function MH(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ri(r)&&on(e)?e:r||{}}function FH(n,t,e,i){let r;for(const s of t)if(r=JI(CH(s,n),e),typeof r<"u")return $2(n,r)?W2(e,i,n,r):r}function JI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function aA(n){let t=n._keys;return t||(t=n._keys=VH(n._scopes)),t}function VH(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const BH=Number.EPSILON||1e-14,Du=(n,t)=>t<n.length&&!n[t].skip&&n[t],XI=n=>n==="x"?"y":"x";function jH(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,a=ny(s,r),l=ny(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,g=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+g*(o.x-r.x),y:s.y+g*(o.y-r.y)}}}function UH(n,t,e){const i=n.length;let r,s,o,a,l,c=Du(n,0);for(let u=0;u<i-1;++u)if(l=c,c=Du(n,u+1),!(!l||!c)){if(of(t[u],0,BH)){e[u]=e[u+1]=0;continue}r=e[u]/t[u],s=e[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=r*o*t[u],e[u+1]=s*o*t[u])}}function qH(n,t,e="x"){const i=XI(e),r=n.length;let s,o,a,l=Du(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Du(n,c+1),!a)continue;const u=a[e],h=a[i];o&&(s=(u-o[e])/3,a[`cp1${e}`]=u-s,a[`cp1${i}`]=h-s*t[c]),l&&(s=(l[e]-u)/3,a[`cp2${e}`]=u+s,a[`cp2${i}`]=h+s*t[c])}}function zH(n,t="x"){const e=XI(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Du(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=Du(n,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[e]-l[e])/u:0}s[o]=a?c?Ao(r[o-1])!==Ao(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}UH(n,r,s),qH(n,s,t)}function Xd(n,t,e){return Math.max(Math.min(n,e),t)}function HH(n,t){let e,i,r,s,o,a=Mf(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&Mf(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Xd(r.cp1x,t.left,t.right),r.cp1y=Xd(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Xd(r.cp2x,t.left,t.right),r.cp2y=Xd(r.cp2y,t.top,t.bottom)))}function $H(n,t,e,i,r){let s,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")zH(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=jH(c,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&HH(n,e)}function G2(){return typeof window<"u"&&typeof document<"u"}function K2(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ag(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _m=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function WH(n,t){return _m(n).getPropertyValue(t)}const GH=["top","right","bottom","left"];function pc(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=GH[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const KH=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function YH(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(KH(r,s,n.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ec(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=_m(e),s=r.boxSizing==="border-box",o=pc(r,"padding"),a=pc(r,"border","width"),{x:l,y:c,box:u}=YH(n,e),h=o.left+(u&&a.left),g=o.top+(u&&a.top);let{width:p,height:y}=t;return s&&(p-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/p*e.width/i),y:Math.round((c-g)/y*e.height/i)}}function JH(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&K2(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),a=_m(s),l=pc(a,"border","width"),c=pc(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=Ag(a.maxWidth,s,"clientWidth"),r=Ag(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||_g,maxHeight:r||_g}}const il=n=>Math.round(n*10)/10;function XH(n,t,e,i){const r=_m(n),s=pc(r,"margin"),o=Ag(r.maxWidth,n,"clientWidth")||_g,a=Ag(r.maxHeight,n,"clientHeight")||_g,l=JH(n,t,e);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const g=pc(r,"border","width"),p=pc(r,"padding");c-=p.width+g.width,u-=p.height+g.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=il(Math.min(c,o,l.maxWidth)),u=il(Math.min(u,a,l.maxHeight)),c&&!u&&(u=il(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=il(Math.floor(u*i))),{width:c,height:u}}function lA(n,t,e){const i=t||1,r=il(n.height*i),s=il(n.width*i);n.height=il(n.height),n.width=il(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const QH=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};G2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function cA(n,t){const e=WH(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function nc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ZH(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function t$(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=nc(n,r,e),a=nc(r,s,e),l=nc(s,t,e),c=nc(o,a,e),u=nc(a,l,e);return nc(c,u,e)}const e$=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},n$=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function vu(n,t,e){return n?e$(t,e):n$()}function QI(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ZI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function t3(n){return n==="angle"?{between:MI,compare:eH,normalize:Ha}:{between:ac,compare:(t,e)=>t-e,normalize:t=>t}}function uA({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function i$(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:a}=t3(i),l=t.length;let{start:c,end:u,loop:h}=n,g,p;if(h){for(c+=l,u+=l,g=0,p=l;g<p&&o(a(t[c%l][i]),r,s);++g)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function r$(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:l,normalize:c}=t3(i),{start:u,end:h,loop:g,style:p}=i$(n,t,e),y=[];let b=!1,w=null,_,E,k;const D=()=>l(r,k,_)&&a(r,k)!==0,W=()=>a(s,_)===0||l(s,k,_),it=()=>b||D(),L=()=>!b||W();for(let T=u,P=u;T<=h;++T)E=t[T%o],!E.skip&&(_=c(E[i]),_!==k&&(b=l(_,r,s),w===null&&it()&&(w=a(_,r)===0?T:P),w!==null&&L()&&(y.push(uA({start:w,end:T,loop:g,count:o,style:p})),w=null),P=T,k=_));return w!==null&&y.push(uA({start:w,end:h,loop:g,count:o,style:p})),y}function s$(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=r$(i[r],n.points,t);s.length&&e.push(...s)}return e}function o$(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function a$(n,t,e,i){const r=n.length,s=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function l$(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:a}=o$(e,r,s,i);if(i===!0)return hA(n,[{start:o,end:a,loop:s}],e,t);const l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return hA(n,a$(e,o,l,c),e,t)}function hA(n,t,e,i){return!i||!i.setContext||!e?t:c$(n,t,e,i)}function c$(n,t,e,i){const r=n._chart.getContext(),s=fA(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=s,h=t[0].start,g=h;function p(y,b,w,_){const E=a?-1:1;if(y!==b){for(y+=l;e[y%l].skip;)y-=E;for(;e[b%l].skip;)b+=E;y%l!==b%l&&(c.push({start:y%l,end:b%l,loop:w,style:_}),u=_,h=b%l)}}for(const y of t){h=a?h:y.start;let b=e[h%l],w;for(g=h+1;g<=y.end;g++){const _=e[g%l];w=fA(i.setContext(Nc(r,{type:"segment",p0:b,p1:_,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),u$(w,u)&&p(h,g-1,y.loop,u),b=_,u=w}h<g-1&&p(h,g-1,y.loop,u)}return c}function fA(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function u$(n,t){if(!t)return!1;const e=[],i=function(r,s){return U2(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Qd(n,t,e){return n.options.clip?n[e]:t[e]}function h$(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Qd(e,t,"left"),right:Qd(e,t,"right"),top:Qd(i,t,"top"),bottom:Qd(i,t,"bottom")}:t}function f$(n,t){const e=t._clip;if(e.disabled)return!1;const i=h$(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=BI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Go=new d$;const dA="transparent",p$={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=nA(n||dA),r=i.valid&&nA(t||dA);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class g${constructor(t,e,i,r){const s=e[i];r=Jd([t.to,r,s,t.from]);const o=Jd([t.from,s,r]);this._active=!0,this._fn=t.fn||p$[t.type||typeof o],this._easing=af[t.easing]||af.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Jd([t.to,e,r,t.from]),this._from=Jd([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=s;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class e3{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!on(t))return;const e=Object.keys(fi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!on(s))return;const o={};for(const a of e)o[a]=s[a];(Ri(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,r=y$(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&m$(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}const u=e[c];let h=s[c];const g=i.get(c);if(h)if(g&&h.active()){h.update(g,u,a);continue}else h.cancel();if(!g||!g.duration){t[c]=u;continue}s[c]=h=new g$(g,t,c,u),r.push(h)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Go.add(this._chart,i),!0}}function m$(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function y$(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function pA(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function v$(n,t,e){if(e===!1)return!1;const i=pA(n,e),r=pA(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function _$(n){let t,e,i,r;return on(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function n3(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function gA(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(u=!0,i.all)continue;break}c=n.values[l],ys(c)&&(s||t===0||Ao(t)===Ao(c))&&(t+=c)}return!u&&!i.all?0:t}function b$(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:n[u]};return a}function q1(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function w$(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function A$(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function x$(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function mA(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function yA(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=w$(s,o,i),h=t.length;let g;for(let p=0;p<h;++p){const y=t[p],{[l]:b,[c]:w}=y,_=y._stacks||(y._stacks={});g=_[c]=x$(r,u,b),g[a]=w,g._top=mA(g,o,!0,i.type),g._bottom=mA(g,o,!1,i.type);const E=g._visualValues||(g._visualValues={});E[a]=w}}function z1(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function S$(n,t){return Nc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function E$(n,t,e){return Nc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eh(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const H1=n=>n==="reset"||n==="none",vA=(n,t)=>t?n:Object.assign({},n),T$=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:n3(e,!0),values:null};class Y2{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=q1(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(h,g,p,y)=>h==="x"?g:h==="r"?y:p,s=e.xAxisID=He(i.xAxisID,z1(t,"x")),o=e.yAxisID=He(i.yAxisID,z1(t,"y")),a=e.rAxisID=He(i.rAxisID,z1(t,"r")),l=e.indexAxis,c=e.iAxisID=r(l,s,o,a),u=e.vAxisID=r(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Zw(this._data,this),t._stacked&&Eh(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(on(e)){const r=this._cachedMeta;this._data=b$(e,r)}else if(i!==e){if(i){Zw(i,this);const r=this._cachedMeta;Eh(r),r._parsed=[]}e&&Object.isExtensible(e)&&sH(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=q1(e.vScale,e),e.stack!==i.stack&&(r=!0,Eh(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(yA(this,e._parsed),e._stacked=q1(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&e===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{Ri(r[t])?g=this.parseArrayData(i,r,t,e):on(r[t])?g=this.parseObjectData(i,r,t,e):g=this.parsePrimitiveData(i,r,t,e);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)i._parsed[u+t]=h=g[u],l&&(p()&&(l=!1),c=h);i._sorted=l}o&&yA(this,g)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let g,p,y;for(g=0,p=r;g<p;++g)y=g+i,h[g]={[a]:u||s.parse(c[y],y),[l]:o.parse(e[y],y)};return h}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=e[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,g,p;for(u=0,h=r;u<h;++u)g=u+i,p=e[g],c[u]={x:s.parse(Lu(p,a),g),y:o.parse(Lu(p,l),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:n3(r,!0),values:e._stacks[t.axis]._visualValues};return gA(a,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const a=r&&i._stacks[e.axis];r&&a&&(r.values=a,o=gA(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=T$(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=A$(a);let g,p;function y(){p=r[g];const b=p[a.axis];return!ys(p[t.axis])||u>b||h<b}for(g=0;g<o&&!(!y()&&(this.updateRangeFromParsed(c,t,p,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],ys(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=_$(He(this.options.clip,v$(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=E$(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=S$(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&Of(i);if(a)return vA(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),u),p=Object.keys(fi.elements[t]),y=()=>this.getContext(i,r,e),b=c.resolveNamedOptions(g,p,y,h);return b.$shared&&(b.$shared=l,s[o]=Object.freeze(vA(b,l))),b}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),g=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(g,this.getContext(t,i,e))}const c=new e3(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||H1(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){H1(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!H1(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Eh(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function I$(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=VI(i.sort((r,s)=>r-s))}return n._cache.$bar}function P$(n){const t=n.iScale,e=I$(t,n.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Of(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function k$(n,t,e,i){const r=e.barThickness;let s,o;return fn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function C$(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function R$(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function i3(n,t,e,i){return Ri(n)?R$(n,t,e,i):t[e.axis]=e.parse(n,i),t}function _A(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,g;for(c=e,u=e+i;c<u;++c)g=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(i3(g,h,s,c));return l}function $1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function N$(n,t,e){return n!==0?Ao(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function L$(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function O$(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=L$(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=u:(s[bA(u,o,a,l)]=!0,r=c)),s[bA(r,o,a,l)]=!0,n.borderSkipped=s}function bA(n,t,e,i){return i?(n=D$(n,t,e),n=wA(n,e,t)):n=wA(n,t,e),n}function D$(n,t,e){return n===t?e:n===e?t:n}function wA(n,t,e){return n==="start"?t:n==="end"?e:n}function M$(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class F$ extends Y2{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return _A(t,e,i,r)}parseArrayData(t,e,i,r){return _A(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let g,p,y,b;for(g=i,p=i+r;g<p;++g)b=e[g],y={},y[s.axis]=s.parse(Lu(b,c),g),h.push(i3(Lu(b,u),y,o,g));return h}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,a=$1(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:g}=this._getSharedOptions(e,r);for(let p=e;p<e+i;p++){const y=this.getParsed(p),b=s||fn(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),w=this._calculateBarIndexPixels(p,u),_=(y._stacks||{})[a.axis],E={horizontal:c,base:b.base,enableBorderRadius:!_||$1(y._custom)||o===_._top||o===_._bottom,x:c?b.head:w.center,y:c?w.center:b.head,height:c?w.size:Math.abs(b.size),width:c?Math.abs(b.size):w.size};g&&(E.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const k=E.options||t[p].options;O$(E,k,_,o),M$(E,k,u.ratio),this.updateElement(t[p],p,E,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(p=>p[i.axis]===l),g=h&&h[u.vScale.axis];if(fn(g)||isNaN(g))return!0};for(const u of r)if(!(e!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[He(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||P$(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=$1(c);let h=l[e.axis],g=0,p=i?this.applyStack(e,l,i):h,y,b;p!==h&&(g=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Ao(h)!==Ao(c.barEnd)&&(g=0),g+=h);const w=!fn(s)&&!u?s:g;let _=e.getPixelForValue(w);if(this.chart.getDataVisibility(t)?y=e.getPixelForValue(g+p):y=_,b=y-_,Math.abs(b)<o){b=N$(b,e,a)*o,h===a&&(_-=b/2);const E=e.getPixelForDecimal(0),k=e.getPixelForDecimal(1),D=Math.min(E,k),W=Math.max(E,k);_=Math.max(Math.min(_,W),D),y=_+b,i&&!u&&(l._stacks[e.axis]._visualValues[r]=e.getValueForPixel(y)-e.getValueForPixel(_))}if(_===e.getPixelForValue(a)){const E=Ao(b)*e.getLineWidthForValue(a)/2;_+=E,b-=E}return{size:b,base:_,head:y,center:y+b/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=He(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(e.grouped){const u=s?this._getStackCount(t):e.stackCount,h=r.barThickness==="flex"?C$(t,e,r,u*c):k$(t,e,r,u*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(He(g,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;a=h.start+h.chunk*y+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}class V$ extends Y2{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=lH(e,r,o);this._drawStart=a,this._drawCount=l,cH(e)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r),g=o.axis,p=a.axis,{spanGaps:y,segment:b}=this.options,w=Df(y)?y:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none",E=e+i,k=t.length;let D=e>0&&this.getParsed(e-1);for(let W=0;W<k;++W){const it=t[W],L=_?it:{};if(W<e||W>=E){L.skip=!0;continue}const T=this.getParsed(W),P=fn(T[p]),F=L[g]=o.getPixelForValue(T[g],W),S=L[p]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],W);L.skip=isNaN(F)||isNaN(S)||P,L.stop=W>0&&Math.abs(T[g]-D[g])>w,b&&(L.parsed=T,L.raw=c.data[W]),h&&(L.options=u||this.resolveDataElementOptions(W,it.active?"active":r)),_||this.updateElement(it,W,L,r),D=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Xl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class J2{static override(t){Object.assign(J2.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Xl()}parse(){return Xl()}format(){return Xl()}add(){return Xl()}diff(){return Xl()}startOf(){return Xl()}endOf(){return Xl()}}var B$={_date:J2};function j$(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?iH:lc;if(i){if(r._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const g=c(s,t,e-h),p=c(s,t,e+h);return{lo:g.lo,hi:p.hi}}}}else{const u=c(s,t,e);if(l){const{vScale:h}=r._cachedMeta,{_parsed:g}=n,p=g.slice(0,u.lo+1).reverse().findIndex(b=>!fn(b[h.axis]));u.lo-=Math.max(0,p);const y=g.slice(u.hi).findIndex(b=>!fn(b[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:s.length-1}}function bm(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:g}=j$(s[a],t,o,r);for(let p=h;p<=g;++p){const y=u[p];y.skip||i(y,c,p)}}}function U$(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function W1(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||bm(n,e,t,function(a,l,c){!r&&!Mf(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function q$(n,t,e,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=tH(o,{x:t.x,y:t.y});MI(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return bm(n,e,t,s),r}function z$(n,t,e,i,r,s){let o=[];const a=U$(e);let l=Number.POSITIVE_INFINITY;function c(u,h,g){const p=u.inRange(t.x,t.y,r);if(i&&!p)return;const y=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(y))&&!p)return;const w=a(t,y);w<l?(o=[{element:u,datasetIndex:h,index:g}],l=w):w===l&&o.push({element:u,datasetIndex:h,index:g})}return bm(n,e,t,c),o}function G1(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?q$(n,t,e,r):z$(n,t,e,i,r,s)}function AA(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return bm(n,e,t,(l,c,u)=>{l[o]&&l[o](t[e],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var H$={modes:{index(n,t,e,i){const r=ec(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?W1(n,r,s,i,o):G1(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,i){const r=ec(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?W1(n,r,s,i,o):G1(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,i){const r=ec(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return W1(n,r,s,i,o)},nearest(n,t,e,i){const r=ec(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return G1(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=ec(t,n);return AA(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ec(t,n);return AA(n,r,"y",e.intersect,i)}}};const r3=["left","top","right","bottom"];function Th(n,t){return n.filter(e=>e.pos===t)}function xA(n,t){return n.filter(e=>r3.indexOf(e.pos)===-1&&e.box.axis===t)}function Ih(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $$(n){const t=[];let e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function W$(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!r3.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function G$(n,t){const e=W$(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return e}function K$(n){const t=$$(n),e=Ih(t.filter(c=>c.box.fullSize),!0),i=Ih(Th(t,"left"),!0),r=Ih(Th(t,"right")),s=Ih(Th(t,"top"),!0),o=Ih(Th(t,"bottom")),a=xA(t,"x"),l=xA(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Th(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function SA(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function s3(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Y$(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!on(r)){e.size&&(n[r]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[r]+=e.size}s.getPadding&&s3(o,s.getPadding());const a=Math.max(0,t.outerWidth-SA(o,n,"left","right")),l=Math.max(0,t.outerHeight-SA(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function J$(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function X$(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Vh(n,t,e,i){const r=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,X$(a.horizontal,t));const{same:h,other:g}=Y$(t,e,a,i);c|=h&&r.length,u=u||g,l.fullSize||r.push(a)}return c&&Vh(r,t,e,i)||u}function Zd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function EA(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,g=c.size||l.height;Of(c.start)&&(o=c.start),l.fullSize?Zd(l,r.left,o,e.outerWidth-r.right-r.left,g):Zd(l,t.left+c.placed,o,h,g),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,g=c.size||l.width;Of(c.start)&&(s=c.start),l.fullSize?Zd(l,s,r.top,g,e.outerHeight-r.bottom-r.top):Zd(l,s,t.top+c.placed,g,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}var rl={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ms(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=K$(n.boxes),l=a.vertical,c=a.horizontal;vn(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),g=Object.assign({},r);s3(g,Ms(i));const p=Object.assign({maxPadding:g,w:s,h:o,x:r.left,y:r.top},r),y=G$(l.concat(c),h);Vh(a.fullSize,p,h,y),Vh(l,p,h,y),Vh(c,p,h,y)&&Vh(l,p,h,y),J$(p),EA(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,EA(a.rightAndBottom,p,h,y),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},vn(a.chartArea,b=>{const w=b.box;Object.assign(w,n.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class o3{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class Q$ extends o3{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Np="$chartjs",Z$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},TA=n=>n===null||n==="";function tW(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Np]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",TA(r)){const s=cA(n,"width");s!==void 0&&(n.width=s)}if(TA(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=cA(n,"height");s!==void 0&&(n.height=s)}return n}const a3=QH?{passive:!0}:!1;function eW(n,t,e){n&&n.addEventListener(t,e,a3)}function nW(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,a3)}function iW(n,t){const e=Z$[n.type]||n.type,{x:i,y:r}=ec(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function xg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function rW(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xg(a.addedNodes,i),o=o&&!xg(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function sW(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xg(a.removedNodes,i),o=o&&!xg(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ff=new Map;let IA=0;function l3(){const n=window.devicePixelRatio;n!==IA&&(IA=n,Ff.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function oW(n,t){Ff.size||window.addEventListener("resize",l3),Ff.set(n,t)}function aW(n){Ff.delete(n),Ff.size||window.removeEventListener("resize",l3)}function lW(n,t,e){const i=n.canvas,r=i&&K2(i);if(!r)return;const s=jI((a,l)=>{const c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),oW(n,s),o}function K1(n,t,e){e&&e.disconnect(),t==="resize"&&aW(n)}function cW(n,t,e){const i=n.canvas,r=jI(s=>{n.ctx!==null&&e(iW(s,n))},n);return eW(i,t,r),r}class uW extends o3{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(tW(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Np])return!1;const i=e[Np].initial;["height","width"].forEach(s=>{const o=i[s];fn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[Np],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:rW,detach:sW,resize:lW}[e]||cW;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:K1,detach:K1,resize:K1}[e]||nW)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return XH(t,e,i,r)}isAttached(t){const e=t&&K2(t);return!!(e&&e.isConnected)}}function hW(n){return!G2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Q$:uW}let Lc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Df(this.x)&&Df(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function fW(n,t){const e=n.options.ticks,i=dW(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?gW(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return mW(t,c,s,o/r),c;const u=pW(s,t,r);if(o>0){let h,g;const p=o>1?Math.round((l-a)/(o-1)):null;for(tp(t,c,u,fn(p)?0:a-p,a),h=0,g=o-1;h<g;h++)tp(t,c,u,s[h],s[h+1]);return tp(t,c,u,l,fn(p)?t.length:l+p),c}return tp(t,c,u),c}function dW(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function pW(n,t,e){const i=yW(n),r=t.length/e;if(!i)return Math.max(r,1);const s=Yz(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function gW(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function mW(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function tp(n,t,e,i,r){const s=He(i,0),o=Math.min(He(r,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),u=s;u<0;)a++,u=Math.round(s+a*e);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(s+a*e))}function yW(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const vW=n=>n==="left"?"right":n==="right"?"left":n,PA=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,kA=(n,t)=>Math.min(t||n,n);function CA(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function _W(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),c;if(!(e&&(i===1?c=Math.max(l-s,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function bW(n,t){vn(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Ph(n){return n.drawTicks?n.tickLength:0}function RA(n,t){if(!n.display)return 0;const e=Ir(n.font,t),i=Ms(n.padding);return(Ri(n.text)?n.text.length:1)*e.lineHeight+i.height}function wW(n,t){return Nc(n,{scale:t,type:"scale"})}function AW(n,t,e){return Nc(n,{tick:e,index:t,type:"tick"})}function xW(n,t,e){let i=UI(n);return(e&&t!=="right"||!e&&t==="right")&&(i=vW(i)),i}function SW(n,t,e,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,g,p,y;const b=o-r,w=a-s;if(n.isHorizontal()){if(p=Kr(i,s,a),on(e)){const _=Object.keys(e)[0],E=e[_];y=u[_].getPixelForValue(E)+b-t}else e==="center"?y=(c.bottom+c.top)/2+b-t:y=PA(n,e,t);g=a-s}else{if(on(e)){const _=Object.keys(e)[0],E=e[_];p=u[_].getPixelForValue(E)-w+t}else e==="center"?p=(c.left+c.right)/2-w+t:p=PA(n,e,t);y=Kr(i,o,r),h=e==="left"?-ks:ks}return{titleX:p,titleY:y,maxWidth:g,rotation:h}}class Ju extends Lc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=so(t,Number.POSITIVE_INFINITY),e=so(e,Number.NEGATIVE_INFINITY),i=so(i,Number.POSITIVE_INFINITY),r=so(r,Number.NEGATIVE_INFINITY),{min:so(t,i),max:so(e,r),minDefined:ys(t),maxDefined:ys(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:so(e,so(i,e)),max:so(i,so(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kH(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?CA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=fW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dn(this.options.afterUpdate,[this])}beforeSetDimensions(){Dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Dn(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=kA(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,g=u.highest.height,p=Zr(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(t.offset?.5:1)),l=this.maxHeight-Ph(t.grid)-e.padding-RA(t.title,this.chart.options.font),c=Math.sqrt(h*h+g*g),o=Zz(Math.min(Math.asin(Zr((u.highest.height+6)/a,-1,1)),Math.asin(Zr(l/c,-1,1))-Math.asin(Zr(g/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=RA(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ph(s)+l):(t.height=this.maxHeight,t.width=Ph(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:g}=this._getLabelSizes(),p=i.padding*2,y=oc(this.labelRotation),b=Math.cos(y),w=Math.sin(y);if(a){const _=i.mirror?0:w*h.width+b*g.height;t.height=Math.min(this.maxHeight,t.height+_+p)}else{const _=i.mirror?0:b*h.width+w*g.height;t.width=Math.min(this.maxWidth,t.width+_+p)}this._calculatePadding(c,u,w,b)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,p=0;l?c?(g=r*t.width,p=i*e.height):(g=i*t.height,p=r*e.width):s==="start"?p=e.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,p=e.width/2),this.paddingLeft=Math.max((g-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)fn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=CA(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(e/kA(e,i));let c=0,u=0,h,g,p,y,b,w,_,E,k,D,W;for(h=0;h<e;h+=l){if(y=t[h].label,b=this._resolveTickFontOptions(h),r.font=w=b.string,_=s[w]=s[w]||{data:{},gc:[]},E=b.lineHeight,k=D=0,!fn(y)&&!Ri(y))k=rA(r,_.data,_.gc,k,y),D=E;else if(Ri(y))for(g=0,p=y.length;g<p;++g)W=y[g],!fn(W)&&!Ri(W)&&(k=rA(r,_.data,_.gc,k,W),D+=E);o.push(k),a.push(D),c=Math.max(k,c),u=Math.max(D,u)}bW(s,e);const it=o.indexOf(c),L=a.indexOf(u),T=P=>({width:o[P]||0,height:a[P]||0});return{first:T(0),last:T(e-1),widest:T(it),highest:T(L),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return nH(this._alignToPixels?Jl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=AW(this.getContext(),t,i))}return this.$context||(this.$context=wW(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=oc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),g=Ph(s),p=[],y=a.setContext(this.getContext()),b=y.display?y.width:0,w=b/2,_=function(gt){return Jl(i,gt,b)};let E,k,D,W,it,L,T,P,F,S,C,N;if(o==="top")E=_(this.bottom),L=this.bottom-g,P=E-w,S=_(t.top)+w,N=t.bottom;else if(o==="bottom")E=_(this.top),S=t.top,N=_(t.bottom)-w,L=E+w,P=this.top+g;else if(o==="left")E=_(this.right),it=this.right-g,T=E-w,F=_(t.left)+w,C=t.right;else if(o==="right")E=_(this.left),F=t.left,C=_(t.right)-w,it=E+w,T=this.left+g;else if(e==="x"){if(o==="center")E=_((t.top+t.bottom)/2+.5);else if(on(o)){const gt=Object.keys(o)[0],mt=o[gt];E=_(this.chart.scales[gt].getPixelForValue(mt))}S=t.top,N=t.bottom,L=E+w,P=L+g}else if(e==="y"){if(o==="center")E=_((t.left+t.right)/2);else if(on(o)){const gt=Object.keys(o)[0],mt=o[gt];E=_(this.chart.scales[gt].getPixelForValue(mt))}it=E-w,T=it-g,F=t.left,C=t.right}const nt=He(r.ticks.maxTicksLimit,h),ft=Math.max(1,Math.ceil(h/nt));for(k=0;k<h;k+=ft){const gt=this.getContext(k),mt=s.setContext(gt),at=a.setContext(gt),Et=mt.lineWidth,jt=mt.color,kt=at.dash||[],V=at.dashOffset,J=mt.tickWidth,et=mt.tickColor,st=mt.tickBorderDash||[],ct=mt.tickBorderDashOffset;D=_W(this,k,l),D!==void 0&&(W=Jl(i,D,Et),c?it=T=F=C=W:L=P=S=N=W,p.push({tx1:it,ty1:L,tx2:T,ty2:P,x1:F,y1:S,x2:C,y2:N,width:Et,color:jt,borderDash:kt,borderDashOffset:V,tickWidth:J,tickColor:et,tickBorderDash:st,tickBorderDashOffset:ct}))}return this._ticksLength=h,this._borderValue=E,p}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,g=Ph(i.grid),p=g+u,y=h?-u:p,b=-oc(this.labelRotation),w=[];let _,E,k,D,W,it,L,T,P,F,S,C,N="middle";if(r==="top")it=this.bottom-y,L=this._getXAxisLabelAlignment();else if(r==="bottom")it=this.top+y,L=this._getXAxisLabelAlignment();else if(r==="left"){const ft=this._getYAxisLabelAlignment(g);L=ft.textAlign,W=ft.x}else if(r==="right"){const ft=this._getYAxisLabelAlignment(g);L=ft.textAlign,W=ft.x}else if(e==="x"){if(r==="center")it=(t.top+t.bottom)/2+p;else if(on(r)){const ft=Object.keys(r)[0],gt=r[ft];it=this.chart.scales[ft].getPixelForValue(gt)+p}L=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")W=(t.left+t.right)/2-p;else if(on(r)){const ft=Object.keys(r)[0],gt=r[ft];W=this.chart.scales[ft].getPixelForValue(gt)}L=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(l==="start"?N="top":l==="end"&&(N="bottom"));const nt=this._getLabelSizes();for(_=0,E=a.length;_<E;++_){k=a[_],D=k.label;const ft=s.setContext(this.getContext(_));T=this.getPixelForTick(_)+s.labelOffset,P=this._resolveTickFontOptions(_),F=P.lineHeight,S=Ri(D)?D.length:1;const gt=S/2,mt=ft.color,at=ft.textStrokeColor,Et=ft.textStrokeWidth;let jt=L;o?(W=T,L==="inner"&&(_===E-1?jt=this.options.reverse?"left":"right":_===0?jt=this.options.reverse?"right":"left":jt="center"),r==="top"?c==="near"||b!==0?C=-S*F+F/2:c==="center"?C=-nt.highest.height/2-gt*F+F:C=-nt.highest.height+F/2:c==="near"||b!==0?C=F/2:c==="center"?C=nt.highest.height/2-gt*F:C=nt.highest.height-S*F,h&&(C*=-1),b!==0&&!ft.showLabelBackdrop&&(W+=F/2*Math.sin(b))):(it=T,C=(1-S)*F/2);let kt;if(ft.showLabelBackdrop){const V=Ms(ft.backdropPadding),J=nt.heights[_],et=nt.widths[_];let st=C-V.top,ct=0-V.left;switch(N){case"middle":st-=J/2;break;case"bottom":st-=J;break}switch(L){case"center":ct-=et/2;break;case"right":ct-=et;break;case"inner":_===E-1?ct-=et:_>0&&(ct-=et/2);break}kt={left:ct,top:st,width:et+V.width,height:J+V.height,color:ft.backdropColor}}w.push({label:D,font:P,textOffset:C,options:{rotation:b,color:mt,strokeColor:at,strokeWidth:Et,textAlign:jt,textBaseline:N,translation:[W,it],backdrop:kt}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oc(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return e==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,g;this.isHorizontal()?(c=Jl(t,this.left,o)-o/2,u=Jl(t,this.right,a)+a/2,h=g=l):(h=Jl(t,this.top,o)-o/2,g=Jl(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(c,h),e.lineTo(u,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&q2(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;bg(i,c,0,u,l,a)}r&&z2(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Ir(i.font),o=Ms(i.padding),a=i.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||on(e)?(l+=o.bottom,Ri(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:g}=SW(this,l,e,a);bg(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:g,textAlign:xW(a,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=He(t.grid&&t.grid.z,-1),r=He(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ju.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ir(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ep{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;IW(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,EW(t,o,i),this.override&&fi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in fi[r]&&(delete fi[r][i],this.override&&delete Ec[i])}}function EW(n,t,e){const i=Lf(Object.create(null),[e?fi.get(e):{},fi.get(t),n.defaults]);fi.set(t,i),n.defaultRoutes&&TW(t,n.defaultRoutes),n.descriptors&&fi.describe(t,n.descriptors)}function TW(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");fi.route(s,r,l,a)})}function IW(n){return"id"in n&&"defaults"in n}class PW{constructor(){this.controllers=new ep(Y2,"datasets",!0),this.elements=new ep(Lc,"elements"),this.plugins=new ep(Object,"plugins"),this.scales=new ep(Ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):vn(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const r=B2(t);Dn(i["before"+r],[],i),e[t](i),Dn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var co=new PW;class kW{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[e,r,s.options];if(Dn(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){fn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=He(i.options&&i.options.plugins,{}),s=CW(i);return r===!1&&!e?[]:NW(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function CW(n){const t={},e=[],i=Object.keys(co.plugins.items);for(let s=0;s<i.length;s++)e.push(co.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function RW(n,t){return!t&&n===!1?null:n===!0?{}:n}function NW(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const a of t){const l=a.id,c=RW(i[l],r);c!==null&&s.push({plugin:a,options:LW(n.config,{plugin:a,local:e[l]},c,o)})}return s}function LW(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sy(n,t){const e=fi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function OW(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function DW(n,t){return n===t?"_index_":"_value_"}function NA(n){if(n==="x"||n==="y"||n==="r")return n}function MW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function oy(n,...t){if(NA(n))return n;for(const e of t){const i=e.axis||MW(e.position)||n.length>1&&NA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function LA(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function FW(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return LA(n,"x",e[0])||LA(n,"y",e[0])}return{}}function VW(n,t){const e=Ec[n.type]||{scales:{}},i=t.scales||{},r=sy(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!on(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=oy(o,a,FW(o,n),fi.scales[a.type]),c=DW(l,r),u=e.scales||{};s[o]=sf(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||sy(a,t),u=(Ec[a]||{}).scales||{};Object.keys(u).forEach(h=>{const g=OW(h,l),p=o[g+"AxisID"]||g;s[p]=s[p]||Object.create(null),sf(s[p],[{axis:g},i[p],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];sf(a,[fi.scales[a.type],fi.scale])}),s}function c3(n){const t=n.options||(n.options={});t.plugins=He(t.plugins,{}),t.scales=VW(n,t)}function u3(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function BW(n){return n=n||{},n.data=u3(n.data),c3(n),n}const OA=new Map,h3=new Set;function np(n,t){let e=OA.get(n);return e||(e=t(),OA.set(n,e),h3.add(e)),e}const kh=(n,t,e)=>{const i=Lu(t,e);i!==void 0&&n.add(i)};class jW{constructor(t){this._config=BW(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=u3(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),c3(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return np(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return np(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return np(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return np(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>kh(l,t,h))),u.forEach(h=>kh(l,r,h)),u.forEach(h=>kh(l,Ec[s]||{},h)),u.forEach(h=>kh(l,fi,h)),u.forEach(h=>kh(l,iy,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),h3.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ec[e]||{},fi.datasets[e]||{},{type:e},fi,iy]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=DA(this._resolverCache,t,r);let l=o;if(qW(o,e)){s.$shared=!1,i=Al(i)?i():i;const c=this.createResolver(t,i,a);l=Ou(o,i,c)}for(const c of e)s[c]=l[c];return s}createResolver(t,e,i=[""],r){const{resolver:s}=DA(this._resolverCache,t,i);return on(e)?Ou(s,e,void 0,r):s}}function DA(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:H2(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const UW=n=>on(n)&&Object.getOwnPropertyNames(n).some(t=>Al(n[t]));function qW(n,t){const{isScriptable:e,isIndexable:i}=GI(n);for(const r of t){const s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(Al(a)||UW(a))||o&&Ri(a))return!0}return!1}var zW="4.5.1";const HW=["top","bottom","left","right","chartArea"];function MA(n,t){return n==="top"||n==="bottom"||HW.indexOf(n)===-1&&t==="x"}function FA(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function VA(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Dn(e&&e.onComplete,[n],t)}function $W(n){const t=n.chart,e=t.options.animation;Dn(e&&e.onProgress,[n],t)}function f3(n){return G2()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Lp={},BA=n=>{const t=f3(n);return Object.values(Lp).filter(e=>e.canvas===t).pop()};function WW(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function GW(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let wm=class{static defaults=fi;static instances=Lp;static overrides=Ec;static registry=co;static version=zW;static getChart=BA;static register(...t){co.add(...t),jA()}static unregister(...t){co.remove(...t),jA()}constructor(t,e){const i=this.config=new jW(e),r=f3(t),s=BA(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||hW(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=jz(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oH(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Lp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Go.listen(this,"complete",VA),Go.listen(this,"progress",$W),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return fn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return co}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sA(this.canvas,this.ctx),this}stop(){return Go.stop(this),this}resize(t,e){Go.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,lA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Dn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};vn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=oy(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),vn(s,o=>{const a=o.options,l=a.id,c=oy(l,a),u=He(a.type,o.dtype);(a.position===void 0||MA(a.position,c)!==MA(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const g=co.getScale(u);h=new g({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),vn(r,(o,a)=>{o||delete i[a]}),vn(i,o=>{rl.configure(this,o,o.options),rl.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(FA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||sy(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=co.getController(a),{datasetElementType:c,dataElementType:u}=fi.datasets[a];Object.assign(l,{dataElementType:co.getElement(u),datasetElementType:c&&co.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),g=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(g),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||vn(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(FA("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vn(this.scales,t=>{rl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Yw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;WW(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!Yw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rl.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],vn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Al(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Go.has(this)?this.attached&&!Go.running(this)&&Go.start(this):(this.draw(),VA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=f$(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&q2(e,r),t.controller.draw(),r&&z2(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Mf(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=H$.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Of(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Go.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sA(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Lp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};vn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){vn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},vn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!yg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,a=this._getActiveElements(t,r,i,o),l=Wz(t),c=GW(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Dn(s.onHover,[t,a,this],this),l&&Dn(s.onClick,[t,a,this],this));const u=!yg(a,r);return(u||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=c,u}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}};function jA(){return vn(wm.instances,n=>n._plugins.invalidate())}function d3(n,t,e=t){n.lineCap=He(e.borderCapStyle,t.borderCapStyle),n.setLineDash(He(e.borderDash,t.borderDash)),n.lineDashOffset=He(e.borderDashOffset,t.borderDashOffset),n.lineJoin=He(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=He(e.borderWidth,t.borderWidth),n.strokeStyle=He(e.borderColor,t.borderColor)}function KW(n,t,e){n.lineTo(e.x,e.y)}function YW(n){return n.stepped?bH:n.tension||n.cubicInterpolationMode==="monotone"?wH:KW}function p3(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function JW(n,t,e,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=p3(r,e,i),u=YW(s);let{move:h=!0,reverse:g}=i||{},p,y,b;for(p=0;p<=c;++p)y=r[(a+(g?c-p:p))%o],!y.skip&&(h?(n.moveTo(y.x,y.y),h=!1):u(n,b,y,g,s.stepped),b=y);return l&&(y=r[(a+(g?c:0))%o],u(n,b,y,g,s.stepped)),!!l}function XW(n,t,e,i){const r=t.points,{count:s,start:o,ilen:a}=p3(r,e,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,g,p,y,b,w,_;const E=D=>(o+(c?a-D:D))%s,k=()=>{b!==w&&(n.lineTo(u,w),n.lineTo(u,b),n.lineTo(u,_))};for(l&&(p=r[E(0)],n.moveTo(p.x,p.y)),g=0;g<=a;++g){if(p=r[E(g)],p.skip)continue;const D=p.x,W=p.y,it=D|0;it===y?(W<b?b=W:W>w&&(w=W),u=(h*u+D)/++h):(k(),n.lineTo(D,W),y=it,h=0,b=w=W),_=W}k()}function ay(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?XW:JW}function QW(n){return n.stepped?ZH:n.tension||n.cubicInterpolationMode==="monotone"?t$:nc}function ZW(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),d3(n,t.options),n.stroke(r)}function tG(n,t,e,i){const{segments:r,options:s}=t,o=ay(t);for(const a of r)d3(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const eG=typeof Path2D=="function";function nG(n,t,e,i){eG&&!t.options.segment?ZW(n,t,e,i):tG(n,t,e,i)}class iG extends Lc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;$H(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=l$(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=s$(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],l=QW(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:g}=o[c],p=s[h],y=s[g];if(p===y){a.push(p);continue}const b=Math.abs((r-p[e])/(y[e]-p[e])),w=l(p,y,b,i.stepped);w[e]=t[e],a.push(w)}return a.length===1?a[0]:a}pathSegment(t,e,i){return ay(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=ay(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of r)o&=s(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),nG(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function UA(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class rG extends Lc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return UA(this,t,"x",e)}inYRange(t,e){return UA(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Mf(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ry(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function g3(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,r),l=Math.max(e,r),c=i-h,u=i+h):(h=s/2,a=e-h,l=e+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function sl(n,t,e,i){return n?0:Zr(t,e,i)}function sG(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=WI(i);return{t:sl(r.top,s.top,0,e),r:sl(r.right,s.right,0,t),b:sl(r.bottom,s.bottom,0,e),l:sl(r.left,s.left,0,t)}}function oG(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=yu(r),o=Math.min(t,e),a=n.borderSkipped,l=i||on(r);return{topLeft:sl(!l||a.top||a.left,s.topLeft,0,o),topRight:sl(!l||a.top||a.right,s.topRight,0,o),bottomLeft:sl(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:sl(!l||a.bottom||a.right,s.bottomRight,0,o)}}function aG(n){const t=g3(n),e=t.right-t.left,i=t.bottom-t.top,r=sG(n,e/2,i/2),s=oG(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Y1(n,t,e,i){const r=t===null,s=e===null,a=n&&!(r&&s)&&g3(n,i);return a&&(r||ac(t,a.left,a.right))&&(s||ac(e,a.top,a.bottom))}function lG(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function cG(n,t){n.rect(t.x,t.y,t.w,t.h)}function J1(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class uG extends Lc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=aG(this),a=lG(o.radius)?wg:cG;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,J1(o,e,s)),t.clip(),a(t,J1(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,J1(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Y1(this,t,e,i)}inXRange(t,e){return Y1(this,t,null,e)}inYRange(t,e){return Y1(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const qA=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},hG=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class zA extends Lc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Dn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Ir(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=qA(i,s);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let g=-1,p=-u;return this.legendItems.forEach((y,b)=>{const w=i+e/2+s.measureText(y.text).width;(b===0||c[c.length-1]+w+2*a>o)&&(h+=u,c[c.length-(b>0?0:1)]=0,p+=u,g++),l[b]={left:0,top:p,row:g,width:w,height:r},c[c.length-1]+=w+a}),h}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,g=0,p=0,y=0,b=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:E,itemHeight:k}=fG(i,e,s,w,r);_>0&&p+k+2*a>u&&(h+=g+a,c.push({width:g,height:p}),y+=g+a,b++,g=p=0),l[_]={left:y,top:p,col:b,width:E,height:k},g=Math.max(g,E),p+=k+a}),h+=g,c.push({width:g,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=vu(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Kr(i,this.left+r,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Kr(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Kr(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Kr(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;q2(t,this),this._draw(),z2(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=fi.color,l=vu(t.rtl,this.left,this.width),c=Ir(o.font),{padding:u}=o,h=c.size,g=h/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:b,itemHeight:w}=qA(o,h),_=function(it,L,T){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;r.save();const P=He(T.lineWidth,1);if(r.fillStyle=He(T.fillStyle,a),r.lineCap=He(T.lineCap,"butt"),r.lineDashOffset=He(T.lineDashOffset,0),r.lineJoin=He(T.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=He(T.strokeStyle,a),r.setLineDash(He(T.lineDash,[])),o.usePointStyle){const F={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},S=l.xPlus(it,y/2),C=L+g;HI(r,F,S,C,o.pointStyleWidth&&y)}else{const F=L+Math.max((h-b)/2,0),S=l.leftForLtr(it,y),C=yu(T.borderRadius);r.beginPath(),Object.values(C).some(N=>N!==0)?wg(r,{x:S,y:F,w:y,h:b,radius:C}):r.rect(S,F,y,b),r.fill(),P!==0&&r.stroke()}r.restore()},E=function(it,L,T){bg(r,T.text,it,L+w/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},k=this.isHorizontal(),D=this._computeTitleHeight();k?p={x:Kr(s,this.left+u,this.right-i[0]),y:this.top+u+D,line:0}:p={x:this.left+u,y:Kr(s,this.top+D+u,this.bottom-e[0].height),line:0},QI(this.ctx,t.textDirection);const W=w+u;this.legendItems.forEach((it,L)=>{r.strokeStyle=it.fontColor,r.fillStyle=it.fontColor;const T=r.measureText(it.text).width,P=l.textAlign(it.textAlign||(it.textAlign=o.textAlign)),F=y+g+T;let S=p.x,C=p.y;l.setWidth(this.width),k?L>0&&S+F+u>this.right&&(C=p.y+=W,p.line++,S=p.x=Kr(s,this.left+u,this.right-i[p.line])):L>0&&C+W>this.bottom&&(S=p.x=S+e[p.line].width+u,p.line++,C=p.y=Kr(s,this.top+D+u,this.bottom-e[p.line].height));const N=l.x(S);if(_(N,C,it),S=aH(P,S+y+g,k?S+F:this.right,t.rtl),E(l.x(S),C,it),k)p.x+=F+u;else if(typeof it.text!="string"){const nt=c.lineHeight;p.y+=m3(it,nt)+u}else p.y+=W}),ZI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ir(e.font),r=Ms(e.padding);if(!e.display)return;const s=vu(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=r.top+l;let u,h=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+c,h=Kr(t.align,h,this.right-g);else{const y=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);u=c+Kr(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const p=Kr(a,h,h+g);o.textAlign=s.textAlign(UI(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,bg(o,e.text,p,u,i)}_computeTitleHeight(){const t=this.options.title,e=Ir(t.font),i=Ms(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(ac(t,this.left,this.right)&&ac(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ac(t,r.left,r.left+r.width)&&ac(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!gG(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=hG(r,i);r&&!s&&Dn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Dn(e.onHover,[t,i,this],this)}else i&&Dn(e.onClick,[t,i,this],this)}}function fG(n,t,e,i,r){const s=dG(i,n,t,e),o=pG(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function dG(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function pG(n,t,e){let i=n;return typeof t.text!="string"&&(i=m3(t,e)),i}function m3(n,t){const e=n.text?n.text.length:0;return t*e}function gG(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var mG={id:"legend",_element:zA,start(n,t,e){const i=n.legend=new zA({ctx:n.ctx,options:e,chart:n});rl.configure(n,i,e),rl.addBox(n,i)},stop(n){rl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;rl.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),u=Ms(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Bh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=ny(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function ao(n,t){return t&&(Ri(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ko(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function yG(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function HA(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=Ir(t.bodyFont),c=Ir(t.titleFont),u=Ir(t.footerFont),h=s.length,g=r.length,p=i.length,y=Ms(t.padding);let b=y.height,w=0,_=i.reduce((D,W)=>D+W.before.length+W.lines.length+W.after.length,0);if(_+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const D=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=p*D+(_-p)*l.lineHeight+(_-1)*t.bodySpacing}g&&(b+=t.footerMarginTop+g*u.lineHeight+(g-1)*t.footerSpacing);let E=0;const k=function(D){w=Math.max(w,e.measureText(D).width+E)};return e.save(),e.font=c.string,vn(n.title,k),e.font=l.string,vn(n.beforeBody.concat(n.afterBody),k),E=t.displayColors?o+2+t.boxPadding:0,vn(i,D=>{vn(D.before,k),vn(D.lines,k),vn(D.after,k)}),E=0,e.font=u.string,vn(n.footer,k),e.restore(),w+=y.width,{width:w,height:b}}function vG(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function _G(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function bG(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),_G(c,n,t,e)&&(c="center"),c}function $A(n,t,e){const i=e.yAlign||t.yAlign||vG(n,e);return{xAlign:e.xAlign||t.xAlign||bG(n,t,e,i),yAlign:i}}function wG(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function AG(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function WA(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=r+s,{topLeft:u,topRight:h,bottomLeft:g,bottomRight:p}=yu(o);let y=wG(t,a);const b=AG(t,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(u,g)+r:a==="right"&&(y+=Math.max(h,p)+r),{x:Zr(y,0,i.width-t.width),y:Zr(b,0,i.height-t.height)}}function ip(n,t,e){const i=Ms(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function GA(n){return ao([],Ko(n))}function xG(n,t,e){return Nc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function KA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const y3={beforeTitle:Wo,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Wo,beforeBody:Wo,beforeLabel:Wo,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return fn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Wo,afterBody:Wo,beforeFooter:Wo,footer:Wo,afterFooter:Wo};function wr(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?y3[t].call(e,i):r}class YA extends Lc{static positioners=Bh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new e3(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=xG(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wr(i,"beforeTitle",this,t),s=wr(i,"title",this,t),o=wr(i,"afterTitle",this,t);let a=[];return a=ao(a,Ko(r)),a=ao(a,Ko(s)),a=ao(a,Ko(o)),a}getBeforeBody(t,e){return GA(wr(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return vn(t,s=>{const o={before:[],lines:[],after:[]},a=KA(i,s);ao(o.before,Ko(wr(a,"beforeLabel",this,s))),ao(o.lines,wr(a,"label",this,s)),ao(o.after,Ko(wr(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return GA(wr(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wr(i,"beforeFooter",this,t),s=wr(i,"footer",this,t),o=wr(i,"afterFooter",this,t);let a=[];return a=ao(a,Ko(r)),a=ao(a,Ko(s)),a=ao(a,Ko(o)),a}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(yG(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,g)=>t.filter(u,h,g,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),vn(a,u=>{const h=KA(t.callbacks,u);r.push(wr(h,"labelColor",this,u)),s.push(wr(h,"labelPointStyle",this,u)),o.push(wr(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Bh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=HA(this,i),c=Object.assign({},a,l),u=$A(this.chart,i,c),h=WA(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=yu(a),{x:g,y:p}=t,{width:y,height:b}=e;let w,_,E,k,D,W;return s==="center"?(D=p+b/2,r==="left"?(w=g,_=w-o,k=D+o,W=D-o):(w=g+y,_=w+o,k=D-o,W=D+o),E=w):(r==="left"?_=g+Math.max(l,u)+o:r==="right"?_=g+y-Math.max(c,h)-o:_=this.caretX,s==="top"?(k=p,D=k-o,w=_-o,E=_+o):(k=p+b,D=k+o,w=_+o,E=_-o),W=k),{x1:w,x2:_,x3:E,y1:k,y2:D,y3:W}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=vu(i.rtl,this.x,this.width);for(t.x=ip(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=Ir(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=Ir(s.bodyFont),h=ip(this,"left",s),g=r.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,y=e.y+p;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=r.leftForLtr(g,c)+c/2,_=y+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ry(t,b,w,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ry(t,b,w,_)}else{t.lineWidth=on(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const b=r.leftForLtr(g,c),w=r.leftForLtr(r.xPlus(g,1),c-2),_=yu(o.borderRadius);Object.values(_).some(E=>E!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,wg(t,{x:b,y,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),wg(t,{x:w,y:y+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(b,y,c,l),t.strokeRect(b,y,c,l),t.fillStyle=o.backgroundColor,t.fillRect(w,y+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ir(i.bodyFont);let g=h.lineHeight,p=0;const y=vu(i.rtl,this.x,this.width),b=function(T){e.fillText(T,y.x(t.x+p),t.y+g/2),t.y+=g+s},w=y.textAlign(o);let _,E,k,D,W,it,L;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=ip(this,w,i),e.fillStyle=i.bodyColor,vn(this.beforeBody,b),p=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,D=0,it=r.length;D<it;++D){for(_=r[D],E=this.labelTextColors[D],e.fillStyle=E,vn(_.before,b),k=_.lines,a&&k.length&&(this._drawColorBox(e,t,D,y,i),g=Math.max(h.lineHeight,l)),W=0,L=k.length;W<L;++W)b(k[W]),g=h.lineHeight;vn(_.after,b)}p=0,g=h.lineHeight,vn(this.afterBody,b),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,a;if(s){const l=vu(i.rtl,this.x,this.width);for(t.x=ip(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=Ir(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:g,bottomLeft:p,bottomRight:y}=yu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(a+c-g,l),e.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(a+c,l+u-y),e.quadraticCurveTo(a+c,l+u,a+c-y,l+u),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(a+p,l+u),e.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Bh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=HA(this,t),l=Object.assign({},o,this._size),c=$A(e,t,l),u=WA(t,l,c,e);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ms(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),QI(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),ZI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!yg(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),a=this._positionChanged(o,t),l=e||!yg(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=Bh[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}var SG={id:"tooltip",_element:YA,positioners:Bh,afterInit(n,t,e){e&&(n.tooltip=new YA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:y3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const EG=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function TG(n,t,e,i){const r=n.indexOf(t);if(r===-1)return EG(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const IG=(n,t)=>n===null?null:Zr(Math.round(n),0,t);function JA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class PG extends Ju{static id="category";static defaults={ticks:{callback:JA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(fn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:TG(i,t,He(e,t),this._addedLabels),IG(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return JA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function kG(n,t){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:g}=n,p=s||1,y=u-1,{min:b,max:w}=t,_=!fn(o),E=!fn(a),k=!fn(c),D=(w-b)/(h+1);let W=Xw((w-b)/y/p)*p,it,L,T,P;if(W<1e-14&&!_&&!E)return[{value:b},{value:w}];P=Math.ceil(w/W)-Math.floor(b/W),P>y&&(W=Xw(P*W/y/p)*p),fn(l)||(it=Math.pow(10,l),W=Math.ceil(W*it)/it),r==="ticks"?(L=Math.floor(b/W)*W,T=Math.ceil(w/W)*W):(L=b,T=w),_&&E&&s&&Xz((a-o)/s,W/1e3)?(P=Math.round(Math.min((a-o)/W,u)),W=(a-o)/P,L=o,T=a):k?(L=_?o:L,T=E?a:T,P=c-1,W=(T-L)/P):(P=(T-L)/W,of(P,Math.round(P),W/1e3)?P=Math.round(P):P=Math.ceil(P));const F=Math.max(Qw(W),Qw(L));it=Math.pow(10,fn(l)?F:l),L=Math.round(L*it)/it,T=Math.round(T*it)/it;let S=0;for(_&&(g&&L!==o?(e.push({value:o}),L<o&&S++,of(Math.round((L+S*W)*it)/it,o,XA(o,D,n))&&S++):L<o&&S++);S<P;++S){const C=Math.round((L+S*W)*it)/it;if(E&&C>a)break;e.push({value:C})}return E&&g&&T!==a?e.length&&of(e[e.length-1].value,a,XA(a,D,n))?e[e.length-1].value=a:e.push({value:a}):(!E||T===a)&&e.push({value:T}),e}function XA(n,t,{horizontal:e,minRotation:i}){const r=oc(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class CG extends Ju{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return fn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){const l=Ao(r),c=Ao(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=kG(r,s);return t.bounds==="ticks"&&Qz(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return qI(t,this.chart.options.locale,this.options.ticks.format)}}class RG extends CG{static id="linear";static defaults={ticks:{callback:zI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ys(t)?t:0,this.max=ys(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=oc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tr=Object.keys(Am);function QA(n,t){return n-t}function ZA(n,t){if(fn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ys(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(Df(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function tx(n,t,e,i){const r=Tr.length;for(let s=Tr.indexOf(n);s<r-1;++s){const o=Am[Tr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Tr[s]}return Tr[r-1]}function NG(n,t,e,i,r){for(let s=Tr.length-1;s>=Tr.indexOf(e);s--){const o=Tr[s];if(Am[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Tr[e?Tr.indexOf(e):0]}function LG(n){for(let t=Tr.indexOf(n)+1,e=Tr.length;t<e;++t)if(Am[Tr[t]].common)return Tr[t]}function ex(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=j2(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function OG(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function nx(n,t,e){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!e?i:OG(n,i,r,e)}class ix extends Ju{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new B$._date(t.adapters.date);r.init(e),sf(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ZA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ys(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=ys(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=rH(r,s,o);return this._unit=e.unit||(i.autoSkip?tx(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):NG(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:LG(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),nx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Zr(e,0,o),i=Zr(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||tx(s.minUnit,e,i,this._getLabelCapacity(e)),a=He(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Df(l)||l===!0,u={};let h=e,g,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(g=h,p=0;g<i;g=+t.add(g,a,o),p++)ex(u,g,y);return(g===i||r.bounds==="ticks"||p===1)&&ex(u,g,y),Object.keys(u).sort(QA).map(b=>+b)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return Dn(o,[t,e,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],g=i[e],p=c&&h&&g&&g.major;return this._adapter.format(t,r||(p?h:u))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=oc(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,nx(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(ZA(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return VI(t.sort(QA))}}function rp(n,t,e){let i=0,r=n.length-1,s,o,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=lc(n,"pos",t)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=lc(n,"time",t)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class NK extends ix{static id="timeseries";static defaults=ix.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rp(e,this.min),this._tableRange=rp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return rp(this._table,i*this._tableRange+this._minPos,!0)}}const v3={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},DG={ariaLabel:{type:String},ariaDescribedby:{type:String}},MG={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...v3,...DG},FG=aS[0]==="2"?(n,t)=>Object.assign(n,{attrs:t}):(n,t)=>Object.assign(n,t);function $c(n){return jf(n)?nn(n):n}function VG(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return jf(t)?new Proxy(n,{}):n}function BG(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function _3(n,t){n.labels=t}function b3(n,t,e){const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function jG(n,t){const e={labels:[],datasets:[]};return _3(e,n.labels),b3(e,n.datasets,t),e}const UG=Cg({props:MG,setup(n,t){let{expose:e,slots:i}=t;const r=Zt(null),s=by(null);e({chart:s});const o=()=>{if(!r.value)return;const{type:c,data:u,options:h,plugins:g,datasetIdKey:p}=n,y=jG(u,p),b=VG(y,u);s.value=new wm(r.value,{type:c,data:b,options:{...h},plugins:g})},a=()=>{const c=nn(s.value);c&&(n.destroyDelay>0?setTimeout(()=>{c.destroy(),s.value=null},n.destroyDelay):(c.destroy(),s.value=null))},l=c=>{c.update(n.updateMode)};return To(o),Sy(a),ds([()=>n.options,()=>n.data],(c,u)=>{let[h,g]=c,[p,y]=u;const b=nn(s.value);if(!b)return;let w=!1;if(h){const _=$c(h),E=$c(p);_&&_!==E&&(BG(b,_),w=!0)}if(g){const _=$c(g.labels),E=$c(y.labels),k=$c(g.datasets),D=$c(y.datasets);_!==E&&(_3(b.config.data,_),w=!0),k&&k!==D&&(b3(b.config.data,k,n.datasetIdKey),w=!0)}w&&qf(()=>{l(b)})},{deep:!0}),()=>pf("canvas",{role:"img",ariaLabel:n.ariaLabel,ariaDescribedby:n.ariaDescribedby,ref:r},[pf("p",{},[i.default?i.default():""])])}});function w3(n,t){return wm.register(t),Cg({props:v3,setup(e,i){let{expose:r}=i;const s=by(null),o=a=>{s.value=a?.chart};return r({chart:s}),()=>pf(UG,FG({ref:o},{type:n,...e}))}})}const qG=w3("bar",F$),zG=w3("line",V$),HG={class:"wrap"},$G={class:"cards"},WG={class:"card"},GG={class:"card"},KG={__name:"Analytics",setup(n){wm.register(uG,iG,PG,RG,rG,SG,mG);const t=Zt({labels:["Gold","Silver","Bronze"],datasets:[{label:"Members",data:[12,18,9]}]}),e=Zt({labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Bookings",data:[4,6,5,7,3,8,2]}]}),i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};return(r,s)=>(Wt(),Kt("div",HG,[s[0]||(s[0]=Y("h2",null,"📊 Gym Analytics",-1)),Y("div",$G,[Y("div",WG,[Xe(Sr(qG),{data:t.value,options:i},null,8,["data"])]),Y("div",GG,[Xe(Sr(zG),{data:e.value,options:i},null,8,["data"])])])]))}},YG=ts(KG,[["__scopeId","data-v-96f86836"]]),JG={class:"wrap"},XG={class:"toolbar"},QG=["disabled"],ZG={key:0,class:"err"},tK={key:1,class:"ok"},eK={key:2,class:"empty"},nK={key:3},iK={class:"json"},rx="https://australia-southeast2-week7-siyi.cloudfunctions.net/publicClasses",rK={__name:"PublicClasses",setup(n){const t=Zt([]),e=Zt(!1),i=Zt(""),r=Zt("time"),s=Zt(20),o=zn(()=>JSON.stringify({ok:!0,count:t.value.length,data:t.value},null,2));async function a(){e.value=!0,i.value="",t.value=[];try{const l=new URLSearchParams;r.value&&l.set("orderBy",r.value),s.value&&l.set("limit",String(s.value));const c=l.toString()?`${rx}?${l.toString()}`:rx,u=await fetch(c,{method:"GET"}),h=await u.json();if(!u.ok||h.ok===!1)throw new Error(h.error||`HTTP ${u.status}`);t.value=h.data||[]}catch(l){i.value=l.message||String(l)}finally{e.value=!1}}return To(a),(l,c)=>(Wt(),Kt("div",JG,[c[9]||(c[9]=Y("h2",null,"🌐 Public Classes (Read-only)",-1)),Y("div",XG,[Y("label",null,[c[3]||(c[3]=sn(" Order by: ",-1)),rn(Y("select",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u)},[...c[2]||(c[2]=[jk('<option value="" data-v-831984fd>(none)</option><option value="time" data-v-831984fd>time</option><option value="name" data-v-831984fd>name</option><option value="capacity" data-v-831984fd>capacity</option><option value="enrolled" data-v-831984fd>enrolled</option>',5)])],512),[[wu,r.value]])]),Y("label",null,[c[5]||(c[5]=sn(" Limit: ",-1)),rn(Y("select",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u)},[...c[4]||(c[4]=[Y("option",{value:10},"10",-1),Y("option",{value:20},"20",-1),Y("option",{value:50},"50",-1)])],512),[[wu,s.value,void 0,{number:!0}]])]),Y("button",{onClick:a,disabled:e.value},Qt(e.value?"Loading...":"Refresh"),9,QG),c[6]||(c[6]=Y("span",{class:"tip"},"This endpoint is public read-only JSON.",-1))]),i.value?(Wt(),Kt("p",ZG,"❌ "+Qt(i.value),1)):ke("",!0),!e.value&&!i.value?(Wt(),Kt("p",tK," ✅ Loaded "+Qt(t.value.length)+" item(s) ",1)):ke("",!0),!e.value&&!i.value&&t.value.length===0?(Wt(),Kt("div",eK," No classes found. ")):!e.value&&!i.value?(Wt(),Kt("table",nK,[c[7]||(c[7]=Y("thead",null,[Y("tr",null,[Y("th",null,"ID"),Y("th",null,"Class"),Y("th",null,"Time"),Y("th",null,"Capacity"),Y("th",null,"Enrolled")])],-1)),Y("tbody",null,[(Wt(!0),Kt(Ai,null,xl(t.value,u=>(Wt(),Kt("tr",{key:u.id},[Y("td",null,[Y("code",null,Qt(u.id),1)]),Y("td",null,Qt(u.name),1),Y("td",null,Qt(u.time),1),Y("td",null,Qt(u.capacity),1),Y("td",null,Qt(u.enrolled),1)]))),128))])])):ke("",!0),Y("details",iK,[c[8]||(c[8]=Y("summary",null,"Raw JSON",-1)),Y("pre",null,Qt(o.value),1)])]))}},sK=ts(rK,[["__scopeId","data-v-831984fd"]]),oK=[{path:"/map",name:"Map",component:ez},{path:"/members",component:Lq},{path:"/classes",component:Gq},{path:"/book",name:"BookClasses",component:yz},{path:"/analytics",name:"Analytics",component:YG},{path:"/public-classes",name:"public-classes",component:sK},{path:"/",name:"Home",component:O7},{path:"/form",name:"Form",component:Y7},{path:"/about",name:"About",component:X7},{path:"/addbook",name:"AddBook",component:pF,meta:{public:!0}},{path:"/GetBookCount",name:"GetBookCount",component:xV,meta:{public:!0}},{path:"/firelogin",name:"FireLogin",component:vF,meta:{public:!0}},{path:"/fireregister",name:"FireRegister",component:xF,meta:{public:!0}},{path:"/admin",name:"Admin",component:zF,meta:{role:"admin"}},{path:"/WeatherCheck",name:"WeatherCheck",component:LV,meta:{public:!0}},{path:"/CountBookAPI",name:"CountBookAPI",component:jV,meta:{public:!0}},{path:"/GetAllBookAPI",name:"GetAllBookAPI",component:GV,meta:{public:!0}},{path:"/email-test",name:"email-test",component:()=>wp(()=>import("./SendgridForm-ByEoT8XL.js"),__vite__mapDeps([0,1]),import.meta.url),meta:{public:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}];function aK(){const n=window.location.pathname;return n.endsWith("/")?n:n.replace(/[^/]+$/,"")}const A3=T6({history:e6(aK()),routes:oK});let sp;function lK(){return sp||(sp=new Promise(n=>{const t=oE(tl,async e=>{if(Mn.user=e||null,Mn.profile=null,e)try{const i=await K4(fa(hu,"users",e.uid));Mn.profile=i.exists()?i.data():{uid:e.uid,email:e.email,role:"user"}}catch(i){console.error("Failed to load user profile:",i),Mn.profile={uid:e.uid,email:e.email,role:"user"}}t(),n()})}),sp)}A3.beforeEach(async n=>n.meta?.public?!0:(await lK(),Mn.isAuthed?n.meta?.role==="admin"&&!Mn.isAdmin?{name:"Home"}:!0:{name:"FireLogin",query:{next:n.fullPath}}));const cK={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.appspot.com",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"};Ly().length?Wf():Vg(cK);AC(d7).use(A3).mount("#app");export{ts as _,Zt as a,Kt as b,zn as c,Y as d,ke as e,sn as f,uK as g,Vu as h,_n as i,Fu as n,Wt as o,gc as r,Qt as t,Cn as v,rn as w};
