(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tg(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const dn={},Sl=[],Es=()=>{},L5=()=>!1,af=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),eg=n=>n.startsWith("onUpdate:"),kr=Object.assign,ng=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Ub=Object.prototype.hasOwnProperty,Xe=(n,t)=>Ub.call(n,t),Ie=Array.isArray,El=n=>lf(n)==="[object Map]",R5=n=>lf(n)==="[object Set]",xe=n=>typeof n=="function",nr=n=>typeof n=="string",fa=n=>typeof n=="symbol",Nn=n=>n!==null&&typeof n=="object",k5=n=>(Nn(n)||xe(n))&&xe(n.then)&&xe(n.catch),O5=Object.prototype.toString,lf=n=>O5.call(n),qb=n=>lf(n).slice(8,-1),D5=n=>lf(n)==="[object Object]",rg=n=>nr(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ou=tg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uf=n=>{const t=Object.create(null);return(e=>t[e]||(t[e]=n(e)))},zb=/-(\w)/g,Ci=uf(n=>n.replace(zb,(t,e)=>e?e.toUpperCase():"")),Hb=/\B([A-Z])/g,Qa=uf(n=>n.replace(Hb,"-$1").toLowerCase()),cf=uf(n=>n.charAt(0).toUpperCase()+n.slice(1)),Qf=uf(n=>n?`on${cf(n)}`:""),Xo=(n,t)=>!Object.is(n,t),Zf=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},M5=(n,t,e,r=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:r,value:e})},Wb=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let G1;const hf=()=>G1||(G1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ig(n){if(Ie(n)){const t={};for(let e=0;e<n.length;e++){const r=n[e],i=nr(r)?Yb(r):ig(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(nr(n)||Nn(n))return n}const $b=/;(?![^(]*\))/g,Gb=/:([^]+)/,Kb=/\/\*[^]*?\*\//g;function Yb(n){const t={};return n.replace(Kb,"").split($b).forEach(e=>{if(e){const r=e.split(Gb);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function sg(n){let t="";if(nr(n))t=n;else if(Ie(n))for(let e=0;e<n.length;e++){const r=sg(n[e]);r&&(t+=r+" ")}else if(Nn(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const Jb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xb=tg(Jb);function F5(n){return!!n||n===""}const V5=n=>!!(n&&n.__v_isRef===!0),B5=n=>nr(n)?n:n==null?"":Ie(n)||Nn(n)&&(n.toString===O5||!xe(n.toString))?V5(n)?B5(n.value):JSON.stringify(n,j5,2):String(n),j5=(n,t)=>V5(t)?j5(n,t.value):El(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[r,i],s)=>(e[td(r,s)+" =>"]=i,e),{})}:R5(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>td(e))}:fa(t)?td(t):Nn(t)&&!Ie(t)&&!D5(t)?String(t):t,td=(n,t="")=>{var e;return fa(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;class Qb{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qr,!t&&Qr&&(this.index=(Qr.scopes||(Qr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Qr;try{return Qr=this,t()}finally{Qr=e}}}on(){++this._on===1&&(this.prevScope=Qr,Qr=this)}off(){this._on>0&&--this._on===0&&(Qr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(this.effects.length=0,e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Zb(){return Qr}let fn;const ed=new WeakSet;class U5{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qr&&Qr.active&&Qr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ed.has(this)&&(ed.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||z5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,K1(this),H5(this);const t=fn,e=Hi;fn=this,Hi=!0;try{return this.fn()}finally{W5(this),fn=t,Hi=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)lg(t);this.deps=this.depsTail=void 0,K1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ed.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xd(this)&&this.run()}get dirty(){return Xd(this)}}let q5=0,Du,Mu;function z5(n,t=!1){if(n.flags|=8,t){n.next=Mu,Mu=n;return}n.next=Du,Du=n}function og(){q5++}function ag(){if(--q5>0)return;if(Mu){let t=Mu;for(Mu=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Du;){let t=Du;for(Du=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){n||(n=r)}t=e}}if(n)throw n}function H5(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function W5(n){let t,e=n.depsTail,r=e;for(;r;){const i=r.prevDep;r.version===-1?(r===e&&(e=i),lg(r),t4(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}n.deps=t,n.depsTail=e}function Xd(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($5(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function $5(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===tc)||(n.globalVersion=tc,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Xd(n))))return;n.flags|=2;const t=n.dep,e=fn,r=Hi;fn=n,Hi=!0;try{H5(n);const i=n.fn(n._value);(t.version===0||Xo(i,n._value))&&(n.flags|=128,n._value=i,t.version++)}catch(i){throw t.version++,i}finally{fn=e,Hi=r,W5(n),n.flags&=-3}}function lg(n,t=!1){const{dep:e,prevSub:r,nextSub:i}=n;if(r&&(r.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=r,n.nextSub=void 0),e.subs===n&&(e.subs=r,!r&&e.computed)){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)lg(s,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function t4(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Hi=!0;const G5=[];function no(){G5.push(Hi),Hi=!1}function ro(){const n=G5.pop();Hi=n===void 0?!0:n}function K1(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=fn;fn=void 0;try{t()}finally{fn=e}}}let tc=0;class e4{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ug{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!fn||!Hi||fn===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==fn)e=this.activeLink=new e4(fn,this),fn.deps?(e.prevDep=fn.depsTail,fn.depsTail.nextDep=e,fn.depsTail=e):fn.deps=fn.depsTail=e,K5(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const r=e.nextDep;r.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=r),e.prevDep=fn.depsTail,e.nextDep=void 0,fn.depsTail.nextDep=e,fn.depsTail=e,fn.deps===e&&(fn.deps=r)}return e}trigger(t){this.version++,tc++,this.notify(t)}notify(t){og();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ag()}}}function K5(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)K5(r)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Qd=new WeakMap,Ba=Symbol(""),Zd=Symbol(""),ec=Symbol("");function Nr(n,t,e){if(Hi&&fn){let r=Qd.get(n);r||Qd.set(n,r=new Map);let i=r.get(e);i||(r.set(e,i=new ug),i.map=r,i.key=e),i.track()}}function Qs(n,t,e,r,i,s){const o=Qd.get(n);if(!o){tc++;return}const a=l=>{l&&l.trigger()};if(og(),t==="clear")o.forEach(a);else{const l=Ie(n),u=l&&rg(e);if(l&&e==="length"){const f=Number(r);o.forEach((g,v)=>{(v==="length"||v===ec||!fa(v)&&v>=f)&&a(g)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),u&&a(o.get(ec)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Ba)),El(n)&&a(o.get(Zd)));break;case"delete":l||(a(o.get(Ba)),El(n)&&a(o.get(Zd)));break;case"set":El(n)&&a(o.get(Ba));break}}ag()}function ll(n){const t=Je(n);return t===n?t:(Nr(t,"iterate",ec),Wi(n)?t:t.map(qr))}function cg(n){return Nr(n=Je(n),"iterate",ec),n}const n4={__proto__:null,[Symbol.iterator](){return nd(this,Symbol.iterator,qr)},concat(...n){return ll(this).concat(...n.map(t=>Ie(t)?ll(t):t))},entries(){return nd(this,"entries",n=>(n[1]=qr(n[1]),n))},every(n,t){return $s(this,"every",n,t,void 0,arguments)},filter(n,t){return $s(this,"filter",n,t,e=>e.map(qr),arguments)},find(n,t){return $s(this,"find",n,t,qr,arguments)},findIndex(n,t){return $s(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return $s(this,"findLast",n,t,qr,arguments)},findLastIndex(n,t){return $s(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return $s(this,"forEach",n,t,void 0,arguments)},includes(...n){return rd(this,"includes",n)},indexOf(...n){return rd(this,"indexOf",n)},join(n){return ll(this).join(n)},lastIndexOf(...n){return rd(this,"lastIndexOf",n)},map(n,t){return $s(this,"map",n,t,void 0,arguments)},pop(){return Su(this,"pop")},push(...n){return Su(this,"push",n)},reduce(n,...t){return Y1(this,"reduce",n,t)},reduceRight(n,...t){return Y1(this,"reduceRight",n,t)},shift(){return Su(this,"shift")},some(n,t){return $s(this,"some",n,t,void 0,arguments)},splice(...n){return Su(this,"splice",n)},toReversed(){return ll(this).toReversed()},toSorted(n){return ll(this).toSorted(n)},toSpliced(...n){return ll(this).toSpliced(...n)},unshift(...n){return Su(this,"unshift",n)},values(){return nd(this,"values",qr)}};function nd(n,t,e){const r=cg(n),i=r[t]();return r!==n&&!Wi(n)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=e(s.value)),s}),i}const r4=Array.prototype;function $s(n,t,e,r,i,s){const o=cg(n),a=o!==n&&!Wi(n),l=o[t];if(l!==r4[t]){const g=l.apply(n,s);return a?qr(g):g}let u=e;o!==n&&(a?u=function(g,v){return e.call(this,qr(g),v,n)}:e.length>2&&(u=function(g,v){return e.call(this,g,v,n)}));const f=l.call(o,u,r);return a&&i?i(f):f}function Y1(n,t,e,r){const i=cg(n);let s=e;return i!==n&&(Wi(n)?e.length>3&&(s=function(o,a,l){return e.call(this,o,a,l,n)}):s=function(o,a,l){return e.call(this,o,qr(a),l,n)}),i[t](s,...r)}function rd(n,t,e){const r=Je(n);Nr(r,"iterate",ec);const i=r[t](...e);return(i===-1||i===!1)&&dg(e[0])?(e[0]=Je(e[0]),r[t](...e)):i}function Su(n,t,e=[]){no(),og();const r=Je(n)[t].apply(n,e);return ag(),ro(),r}const i4=tg("__proto__,__v_isRef,__isVue"),Y5=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(fa));function s4(n){fa(n)||(n=String(n));const t=Je(this);return Nr(t,"has",n),t.hasOwnProperty(n)}class J5{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,r){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return s;if(e==="__v_raw")return r===(i?s?g4:tv:s?Z5:Q5).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ie(t);if(!i){let l;if(o&&(l=n4[e]))return l;if(e==="hasOwnProperty")return s4}const a=Reflect.get(t,e,Rr(t)?t:r);return(fa(e)?Y5.has(e):i4(e))||(i||Nr(t,"get",e),s)?a:Rr(a)?o&&rg(e)?a:a.value:Nn(a)?i?nv(a):vc(a):a}}class X5 extends J5{constructor(t=!1){super(!1,t)}set(t,e,r,i){let s=t[e];if(!this._isShallow){const l=Wa(s);if(!Wi(r)&&!Wa(r)&&(s=Je(s),r=Je(r)),!Ie(t)&&Rr(s)&&!Rr(r))return l||(s.value=r),!0}const o=Ie(t)&&rg(e)?Number(e)<t.length:Xe(t,e),a=Reflect.set(t,e,r,Rr(t)?t:i);return t===Je(i)&&(o?Xo(r,s)&&Qs(t,"set",e,r):Qs(t,"add",e,r)),a}deleteProperty(t,e){const r=Xe(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&r&&Qs(t,"delete",e,void 0),i}has(t,e){const r=Reflect.has(t,e);return(!fa(e)||!Y5.has(e))&&Nr(t,"has",e),r}ownKeys(t){return Nr(t,"iterate",Ie(t)?"length":Ba),Reflect.ownKeys(t)}}class o4 extends J5{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const a4=new X5,l4=new o4,u4=new X5(!0);const tp=n=>n,Jc=n=>Reflect.getPrototypeOf(n);function c4(n,t,e){return function(...r){const i=this.__v_raw,s=Je(i),o=El(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,u=i[n](...r),f=e?tp:t?ep:qr;return!t&&Nr(s,"iterate",l?Zd:Ba),{next(){const{value:g,done:v}=u.next();return v?{value:g,done:v}:{value:a?[f(g[0]),f(g[1])]:f(g),done:v}},[Symbol.iterator](){return this}}}}function Xc(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function h4(n,t){const e={get(i){const s=this.__v_raw,o=Je(s),a=Je(i);n||(Xo(i,a)&&Nr(o,"get",i),Nr(o,"get",a));const{has:l}=Jc(o),u=t?tp:n?ep:qr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!n&&Nr(Je(i),"iterate",Ba),i.size},has(i){const s=this.__v_raw,o=Je(s),a=Je(i);return n||(Xo(i,a)&&Nr(o,"has",i),Nr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Je(a),u=t?tp:n?ep:qr;return!n&&Nr(l,"iterate",Ba),a.forEach((f,g)=>i.call(s,u(f),u(g),o))}};return kr(e,n?{add:Xc("add"),set:Xc("set"),delete:Xc("delete"),clear:Xc("clear")}:{add(i){!t&&!Wi(i)&&!Wa(i)&&(i=Je(i));const s=Je(this);return Jc(s).has.call(s,i)||(s.add(i),Qs(s,"add",i,i)),this},set(i,s){!t&&!Wi(s)&&!Wa(s)&&(s=Je(s));const o=Je(this),{has:a,get:l}=Jc(o);let u=a.call(o,i);u||(i=Je(i),u=a.call(o,i));const f=l.call(o,i);return o.set(i,s),u?Xo(s,f)&&Qs(o,"set",i,s):Qs(o,"add",i,s),this},delete(i){const s=Je(this),{has:o,get:a}=Jc(s);let l=o.call(s,i);l||(i=Je(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&Qs(s,"delete",i,void 0),u},clear(){const i=Je(this),s=i.size!==0,o=i.clear();return s&&Qs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=c4(i,n,t)}),e}function hg(n,t){const e=h4(n,t);return(r,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(Xe(e,i)&&i in r?e:r,i,s)}const f4={get:hg(!1,!1)},d4={get:hg(!1,!0)},p4={get:hg(!0,!1)};const Q5=new WeakMap,Z5=new WeakMap,tv=new WeakMap,g4=new WeakMap;function m4(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v4(n){return n.__v_skip||!Object.isExtensible(n)?0:m4(qb(n))}function vc(n){return Wa(n)?n:fg(n,!1,a4,f4,Q5)}function ev(n){return fg(n,!1,u4,d4,Z5)}function nv(n){return fg(n,!0,l4,p4,tv)}function fg(n,t,e,r,i){if(!Nn(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=v4(n);if(s===0)return n;const o=i.get(n);if(o)return o;const a=new Proxy(n,s===2?r:e);return i.set(n,a),a}function Fu(n){return Wa(n)?Fu(n.__v_raw):!!(n&&n.__v_isReactive)}function Wa(n){return!!(n&&n.__v_isReadonly)}function Wi(n){return!!(n&&n.__v_isShallow)}function dg(n){return n?!!n.__v_raw:!1}function Je(n){const t=n&&n.__v_raw;return t?Je(t):n}function y4(n){return!Xe(n,"__v_skip")&&Object.isExtensible(n)&&M5(n,"__v_skip",!0),n}const qr=n=>Nn(n)?vc(n):n,ep=n=>Nn(n)?nv(n):n;function Rr(n){return n?n.__v_isRef===!0:!1}function np(n){return rv(n,!1)}function _4(n){return rv(n,!0)}function rv(n,t){return Rr(n)?n:new w4(n,t)}class w4{constructor(t,e){this.dep=new ug,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:Je(t),this._value=e?t:qr(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,r=this.__v_isShallow||Wi(t)||Wa(t);t=r?t:Je(t),Xo(t,e)&&(this._rawValue=t,this._value=r?t:qr(t),this.dep.trigger())}}function Pi(n){return Rr(n)?n.value:n}const b4={get:(n,t,e)=>t==="__v_raw"?n:Pi(Reflect.get(n,t,e)),set:(n,t,e,r)=>{const i=n[t];return Rr(i)&&!Rr(e)?(i.value=e,!0):Reflect.set(n,t,e,r)}};function iv(n){return Fu(n)?n:new Proxy(n,b4)}class A4{constructor(t,e,r){this.fn=t,this.setter=e,this._value=void 0,this.dep=new ug(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=tc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&fn!==this)return z5(this,!0),!0}get value(){const t=this.dep.track();return $5(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function S4(n,t,e=!1){let r,i;return xe(n)?r=n:(r=n.get,i=n.set),new A4(r,i,e)}const Qc={},Oh=new WeakMap;let Oa;function E4(n,t=!1,e=Oa){if(e){let r=Oh.get(e);r||Oh.set(e,r=[]),r.push(n)}}function I4(n,t,e=dn){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=e,u=z=>i?z:Wi(z)||i===!1||i===0?qo(z,1):qo(z);let f,g,v,p,T=!1,L=!1;if(Rr(n)?(g=()=>n.value,T=Wi(n)):Fu(n)?(g=()=>u(n),T=!0):Ie(n)?(L=!0,T=n.some(z=>Fu(z)||Wi(z)),g=()=>n.map(z=>{if(Rr(z))return z.value;if(Fu(z))return u(z);if(xe(z))return l?l(z,2):z()})):xe(n)?t?g=l?()=>l(n,2):n:g=()=>{if(v){no();try{v()}finally{ro()}}const z=Oa;Oa=f;try{return l?l(n,3,[p]):n(p)}finally{Oa=z}}:g=Es,t&&i){const z=g,ct=i===!0?1/0:i;g=()=>qo(z(),ct)}const R=Zb(),C=()=>{f.stop(),R&&R.active&&ng(R.effects,f)};if(s&&t){const z=t;t=(...ct)=>{z(...ct),C()}}let $=L?new Array(n.length).fill(Qc):Qc;const G=z=>{if(!(!(f.flags&1)||!f.dirty&&!z))if(t){const ct=f.run();if(i||T||(L?ct.some((Et,U)=>Xo(Et,$[U])):Xo(ct,$))){v&&v();const Et=Oa;Oa=f;try{const U=[ct,$===Qc?void 0:L&&$[0]===Qc?[]:$,p];$=ct,l?l(t,3,U):t(...U)}finally{Oa=Et}}}else f.run()};return a&&a(G),f=new U5(g),f.scheduler=o?()=>o(G,!1):G,p=z=>E4(z,!1,f),v=f.onStop=()=>{const z=Oh.get(f);if(z){if(l)l(z,4);else for(const ct of z)ct();Oh.delete(f)}},t?r?G(!0):$=f.run():o?o(G.bind(null,!0),!0):f.run(),C.pause=f.pause.bind(f),C.resume=f.resume.bind(f),C.stop=C,C}function qo(n,t=1/0,e){if(t<=0||!Nn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,Rr(n))qo(n.value,t,e);else if(Ie(n))for(let r=0;r<n.length;r++)qo(n[r],t,e);else if(R5(n)||El(n))n.forEach(r=>{qo(r,t,e)});else if(D5(n)){for(const r in n)qo(n[r],t,e);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&qo(n[r],t,e)}return n}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yc(n,t,e,r){try{return r?n(...r):n()}catch(i){ff(i,t,e)}}function Ps(n,t,e,r){if(xe(n)){const i=yc(n,t,e,r);return i&&k5(i)&&i.catch(s=>{ff(s,t,e)}),i}if(Ie(n)){const i=[];for(let s=0;s<n.length;s++)i.push(Ps(n[s],t,e,r));return i}}function ff(n,t,e,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||dn;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const f=a.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](n,l,u)===!1)return}a=a.parent}if(s){no(),yc(s,null,10,[n,l,u]),ro();return}}T4(n,e,i,r,o)}function T4(n,t,e,r=!0,i=!1){if(i)throw n;console.error(n)}const zr=[];let ms=-1;const Il=[];let Bo=null,fl=0;const sv=Promise.resolve();let Dh=null;function ov(n){const t=Dh||sv;return n?t.then(this?n.bind(this):n):t}function x4(n){let t=ms+1,e=zr.length;for(;t<e;){const r=t+e>>>1,i=zr[r],s=nc(i);s<n||s===n&&i.flags&2?t=r+1:e=r}return t}function pg(n){if(!(n.flags&1)){const t=nc(n),e=zr[zr.length-1];!e||!(n.flags&2)&&t>=nc(e)?zr.push(n):zr.splice(x4(t),0,n),n.flags|=1,av()}}function av(){Dh||(Dh=sv.then(uv))}function P4(n){Ie(n)?Il.push(...n):Bo&&n.id===-1?Bo.splice(fl+1,0,n):n.flags&1||(Il.push(n),n.flags|=1),av()}function J1(n,t,e=ms+1){for(;e<zr.length;e++){const r=zr[e];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;zr.splice(e,1),e--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lv(n){if(Il.length){const t=[...new Set(Il)].sort((e,r)=>nc(e)-nc(r));if(Il.length=0,Bo){Bo.push(...t);return}for(Bo=t,fl=0;fl<Bo.length;fl++){const e=Bo[fl];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Bo=null,fl=0}}const nc=n=>n.id==null?n.flags&2?-1:1/0:n.id;function uv(n){try{for(ms=0;ms<zr.length;ms++){const t=zr[ms];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ms<zr.length;ms++){const t=zr[ms];t&&(t.flags&=-2)}ms=-1,zr.length=0,lv(),Dh=null,(zr.length||Il.length)&&uv()}}let qi=null,cv=null;function Mh(n){const t=qi;return qi=n,cv=n&&n.type.__scopeId||null,t}function Tr(n,t=qi,e){if(!t||n._n)return n;const r=(...i)=>{r._d&&om(-1);const s=Mh(t);let o;try{o=n(...i)}finally{Mh(s),r._d&&om(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ra(n,t,e,r){const i=n.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(no(),Ps(l,e,8,[n.el,a,n,t]),ro())}}const N4=Symbol("_vte"),C4=n=>n.__isTeleport,L4=Symbol("_leaveCb");function gg(n,t){n.shapeFlag&6&&n.component?(n.transition=t,gg(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function hv(n,t){return xe(n)?kr({name:n.name},t,{setup:n}):n}function fv(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Vu(n,t,e,r,i=!1){if(Ie(n)){n.forEach((T,L)=>Vu(T,t&&(Ie(t)?t[L]:t),e,r,i));return}if(Bu(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Vu(n,t,e,r.component.subTree);return}const s=r.shapeFlag&4?_g(r.component):r.el,o=i?null:s,{i:a,r:l}=n,u=t&&t.r,f=a.refs===dn?a.refs={}:a.refs,g=a.setupState,v=Je(g),p=g===dn?L5:T=>Xe(v,T);if(u!=null&&u!==l){if(nr(u))f[u]=null,p(u)&&(g[u]=null);else if(Rr(u)){u.value=null;const T=t;T.k&&(f[T.k]=null)}}if(xe(l))yc(l,a,12,[o,f]);else{const T=nr(l),L=Rr(l);if(T||L){const R=()=>{if(n.f){const C=T?p(l)?g[l]:f[l]:l.value;if(i)Ie(C)&&ng(C,s);else if(Ie(C))C.includes(s)||C.push(s);else if(T)f[l]=[s],p(l)&&(g[l]=f[l]);else{const $=[s];l.value=$,n.k&&(f[n.k]=$)}}else T?(f[l]=o,p(l)&&(g[l]=o)):L&&(l.value=o,n.k&&(f[n.k]=o))};o?(R.id=-1,vi(R,e)):R()}}}hf().requestIdleCallback;hf().cancelIdleCallback;const Bu=n=>!!n.type.__asyncLoader,dv=n=>n.type.__isKeepAlive;function R4(n,t){pv(n,"a",t)}function k4(n,t){pv(n,"da",t)}function pv(n,t,e=Lr){const r=n.__wdc||(n.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(df(t,r,e),e){let i=e.parent;for(;i&&i.parent;)dv(i.parent.vnode)&&O4(r,t,e,i),i=i.parent}}function O4(n,t,e,r){const i=df(t,n,r,!0);mv(()=>{ng(r[t],i)},e)}function df(n,t,e=Lr,r=!1){if(e){const i=e[n]||(e[n]=[]),s=t.__weh||(t.__weh=(...o)=>{no();const a=_c(e),l=Ps(t,e,n,o);return a(),ro(),l});return r?i.unshift(s):i.push(s),s}}const uo=n=>(t,e=Lr)=>{(!ic||n==="sp")&&df(n,(...r)=>t(...r),e)},D4=uo("bm"),gv=uo("m"),M4=uo("bu"),F4=uo("u"),V4=uo("bum"),mv=uo("um"),B4=uo("sp"),j4=uo("rtg"),U4=uo("rtc");function q4(n,t=Lr){df("ec",n,t)}const z4="components";function rp(n,t){return W4(z4,n,!0,t)||n}const H4=Symbol.for("v-ndc");function W4(n,t,e=!0,r=!1){const i=qi||Lr;if(i){const s=i.type;{const a=RA(s,!1);if(a&&(a===t||a===Ci(t)||a===cf(Ci(t))))return s}const o=X1(i[n]||s[n],t)||X1(i.appContext[n],t);return!o&&r?s:o}}function X1(n,t){return n&&(n[t]||n[Ci(t)]||n[cf(Ci(t))])}const ip=n=>n?Fv(n)?_g(n):ip(n.parent):null,ju=kr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ip(n.parent),$root:n=>ip(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>yv(n),$forceUpdate:n=>n.f||(n.f=()=>{pg(n.update)}),$nextTick:n=>n.n||(n.n=ov.bind(n.proxy)),$watch:n=>fA.bind(n)}),id=(n,t)=>n!==dn&&!n.__isScriptSetup&&Xe(n,t),$4={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=n;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return e[t];case 3:return s[t]}else{if(id(r,t))return o[t]=1,r[t];if(i!==dn&&Xe(i,t))return o[t]=2,i[t];if((u=n.propsOptions[0])&&Xe(u,t))return o[t]=3,s[t];if(e!==dn&&Xe(e,t))return o[t]=4,e[t];sp&&(o[t]=0)}}const f=ju[t];let g,v;if(f)return t==="$attrs"&&Nr(n.attrs,"get",""),f(n);if((g=a.__cssModules)&&(g=g[t]))return g;if(e!==dn&&Xe(e,t))return o[t]=4,e[t];if(v=l.config.globalProperties,Xe(v,t))return v[t]},set({_:n},t,e){const{data:r,setupState:i,ctx:s}=n;return id(i,t)?(i[t]=e,!0):r!==dn&&Xe(r,t)?(r[t]=e,!0):Xe(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(s[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:r,appContext:i,propsOptions:s,type:o}},a){let l,u;return!!(e[a]||n!==dn&&a[0]!=="$"&&Xe(n,a)||id(t,a)||(l=s[0])&&Xe(l,a)||Xe(r,a)||Xe(ju,a)||Xe(i.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Xe(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Q1(n){return Ie(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let sp=!0;function G4(n){const t=yv(n),e=n.proxy,r=n.ctx;sp=!1,t.beforeCreate&&Z1(t.beforeCreate,n,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:f,beforeMount:g,mounted:v,beforeUpdate:p,updated:T,activated:L,deactivated:R,beforeDestroy:C,beforeUnmount:$,destroyed:G,unmounted:z,render:ct,renderTracked:Et,renderTriggered:U,errorCaptured:x,serverPrefetch:S,expose:F,inheritAttrs:b,components:E,directives:I,filters:tt}=t;if(u&&K4(u,r,null),o)for(const mt in o){const at=o[mt];xe(at)&&(r[mt]=at.bind(e))}if(i){const mt=i.call(e,e);Nn(mt)&&(n.data=vc(mt))}if(sp=!0,s)for(const mt in s){const at=s[mt],Tt=xe(at)?at.bind(e,e):xe(at.get)?at.get.bind(e,e):Es,Vt=!xe(at)&&xe(at.set)?at.set.bind(e):Es,Ot=Ni({get:Tt,set:Vt});Object.defineProperty(r,mt,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:k=>Ot.value=k})}if(a)for(const mt in a)vv(a[mt],r,e,mt);if(l){const mt=xe(l)?l.call(e):l;Reflect.ownKeys(mt).forEach(at=>{gh(at,mt[at])})}f&&Z1(f,n,"c");function At(mt,at){Ie(at)?at.forEach(Tt=>mt(Tt.bind(e))):at&&mt(at.bind(e))}if(At(D4,g),At(gv,v),At(M4,p),At(F4,T),At(R4,L),At(k4,R),At(q4,x),At(U4,Et),At(j4,U),At(V4,$),At(mv,z),At(B4,S),Ie(F))if(F.length){const mt=n.exposed||(n.exposed={});F.forEach(at=>{Object.defineProperty(mt,at,{get:()=>e[at],set:Tt=>e[at]=Tt,enumerable:!0})})}else n.exposed||(n.exposed={});ct&&n.render===Es&&(n.render=ct),b!=null&&(n.inheritAttrs=b),E&&(n.components=E),I&&(n.directives=I),S&&fv(n)}function K4(n,t,e=Es){Ie(n)&&(n=op(n));for(const r in n){const i=n[r];let s;Nn(i)?"default"in i?s=$i(i.from||r,i.default,!0):s=$i(i.from||r):s=$i(i),Rr(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Z1(n,t,e){Ps(Ie(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,e)}function vv(n,t,e,r){let i=r.includes(".")?Lv(e,r):()=>e[r];if(nr(n)){const s=t[n];xe(s)&&mh(i,s)}else if(xe(n))mh(i,n.bind(e));else if(Nn(n))if(Ie(n))n.forEach(s=>vv(s,t,e,r));else{const s=xe(n.handler)?n.handler.bind(e):t[n.handler];xe(s)&&mh(i,s,n)}}function yv(n){const t=n.type,{mixins:e,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!e&&!r?l=t:(l={},i.length&&i.forEach(u=>Fh(l,u,o,!0)),Fh(l,t,o)),Nn(t)&&s.set(t,l),l}function Fh(n,t,e,r=!1){const{mixins:i,extends:s}=t;s&&Fh(n,s,e,!0),i&&i.forEach(o=>Fh(n,o,e,!0));for(const o in t)if(!(r&&o==="expose")){const a=Y4[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const Y4={data:tm,props:em,emits:em,methods:Pu,computed:Pu,beforeCreate:Ur,created:Ur,beforeMount:Ur,mounted:Ur,beforeUpdate:Ur,updated:Ur,beforeDestroy:Ur,beforeUnmount:Ur,destroyed:Ur,unmounted:Ur,activated:Ur,deactivated:Ur,errorCaptured:Ur,serverPrefetch:Ur,components:Pu,directives:Pu,watch:X4,provide:tm,inject:J4};function tm(n,t){return t?n?function(){return kr(xe(n)?n.call(this,this):n,xe(t)?t.call(this,this):t)}:t:n}function J4(n,t){return Pu(op(n),op(t))}function op(n){if(Ie(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Ur(n,t){return n?[...new Set([].concat(n,t))]:t}function Pu(n,t){return n?kr(Object.create(null),n,t):t}function em(n,t){return n?Ie(n)&&Ie(t)?[...new Set([...n,...t])]:kr(Object.create(null),Q1(n),Q1(t??{})):t}function X4(n,t){if(!n)return t;if(!t)return n;const e=kr(Object.create(null),n);for(const r in t)e[r]=Ur(n[r],t[r]);return e}function _v(){return{app:null,config:{isNativeTag:L5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q4=0;function Z4(n,t){return function(r,i=null){xe(r)||(r=kr({},r)),i!=null&&!Nn(i)&&(i=null);const s=_v(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:Q4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:OA,get config(){return s.config},set config(f){},use(f,...g){return o.has(f)||(f&&xe(f.install)?(o.add(f),f.install(u,...g)):xe(f)&&(o.add(f),f(u,...g))),u},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),u},component(f,g){return g?(s.components[f]=g,u):s.components[f]},directive(f,g){return g?(s.directives[f]=g,u):s.directives[f]},mount(f,g,v){if(!l){const p=u._ceVNode||nn(r,i);return p.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),n(p,f,v),l=!0,u._container=f,f.__vue_app__=u,_g(p.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Ps(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(f,g){return s.provides[f]=g,u},runWithContext(f){const g=Tl;Tl=u;try{return f()}finally{Tl=g}}};return u}}let Tl=null;function gh(n,t){if(Lr){let e=Lr.provides;const r=Lr.parent&&Lr.parent.provides;r===e&&(e=Lr.provides=Object.create(r)),e[n]=t}}function $i(n,t,e=!1){const r=xA();if(r||Tl){let i=Tl?Tl._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return e&&xe(t)?t.call(r&&r.proxy):t}}const wv={},bv=()=>Object.create(wv),Av=n=>Object.getPrototypeOf(n)===wv;function tA(n,t,e,r=!1){const i={},s=bv();n.propsDefaults=Object.create(null),Sv(n,t,i,s);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);e?n.props=r?i:ev(i):n.type.props?n.props=i:n.props=s,n.attrs=s}function eA(n,t,e,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=n,a=Je(i),[l]=n.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let g=0;g<f.length;g++){let v=f[g];if(pf(n.emitsOptions,v))continue;const p=t[v];if(l)if(Xe(s,v))p!==s[v]&&(s[v]=p,u=!0);else{const T=Ci(v);i[T]=ap(l,a,T,p,n,!1)}else p!==s[v]&&(s[v]=p,u=!0)}}}else{Sv(n,t,i,s)&&(u=!0);let f;for(const g in a)(!t||!Xe(t,g)&&((f=Qa(g))===g||!Xe(t,f)))&&(l?e&&(e[g]!==void 0||e[f]!==void 0)&&(i[g]=ap(l,a,g,void 0,n,!0)):delete i[g]);if(s!==a)for(const g in s)(!t||!Xe(t,g))&&(delete s[g],u=!0)}u&&Qs(n.attrs,"set","")}function Sv(n,t,e,r){const[i,s]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ou(l))continue;const u=t[l];let f;i&&Xe(i,f=Ci(l))?!s||!s.includes(f)?e[f]=u:(a||(a={}))[f]=u:pf(n.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Je(e),u=a||dn;for(let f=0;f<s.length;f++){const g=s[f];e[g]=ap(i,l,g,u[g],n,!Xe(u,g))}}return o}function ap(n,t,e,r,i,s){const o=n[e];if(o!=null){const a=Xe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&xe(l)){const{propsDefaults:u}=i;if(e in u)r=u[e];else{const f=_c(i);r=u[e]=l.call(null,t),f()}}else r=l;i.ce&&i.ce._setProp(e,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Qa(e))&&(r=!0))}return r}const nA=new WeakMap;function Ev(n,t,e=!1){const r=e?nA:t.propsCache,i=r.get(n);if(i)return i;const s=n.props,o={},a=[];let l=!1;if(!xe(n)){const f=g=>{l=!0;const[v,p]=Ev(g,t,!0);kr(o,v),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!s&&!l)return Nn(n)&&r.set(n,Sl),Sl;if(Ie(s))for(let f=0;f<s.length;f++){const g=Ci(s[f]);nm(g)&&(o[g]=dn)}else if(s)for(const f in s){const g=Ci(f);if(nm(g)){const v=s[f],p=o[g]=Ie(v)||xe(v)?{type:v}:kr({},v),T=p.type;let L=!1,R=!0;if(Ie(T))for(let C=0;C<T.length;++C){const $=T[C],G=xe($)&&$.name;if(G==="Boolean"){L=!0;break}else G==="String"&&(R=!1)}else L=xe(T)&&T.name==="Boolean";p[0]=L,p[1]=R,(L||Xe(p,"default"))&&a.push(g)}}const u=[o,a];return Nn(n)&&r.set(n,u),u}function nm(n){return n[0]!=="$"&&!Ou(n)}const mg=n=>n==="_"||n==="_ctx"||n==="$stable",vg=n=>Ie(n)?n.map(_s):[_s(n)],rA=(n,t,e)=>{if(t._n)return t;const r=Tr((...i)=>vg(t(...i)),e);return r._c=!1,r},Iv=(n,t,e)=>{const r=n._ctx;for(const i in n){if(mg(i))continue;const s=n[i];if(xe(s))t[i]=rA(i,s,r);else if(s!=null){const o=vg(s);t[i]=()=>o}}},Tv=(n,t)=>{const e=vg(t);n.slots.default=()=>e},xv=(n,t,e)=>{for(const r in t)(e||!mg(r))&&(n[r]=t[r])},iA=(n,t,e)=>{const r=n.slots=bv();if(n.vnode.shapeFlag&32){const i=t._;i?(xv(r,t,e),e&&M5(r,"_",i,!0)):Iv(t,r)}else t&&Tv(n,t)},sA=(n,t,e)=>{const{vnode:r,slots:i}=n;let s=!0,o=dn;if(r.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:xv(i,t,e):(s=!t.$stable,Iv(t,i)),o=t}else t&&(Tv(n,t),o={default:1});if(s)for(const a in i)!mg(a)&&o[a]==null&&delete i[a]},vi=_A;function oA(n){return aA(n)}function aA(n,t){const e=hf();e.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:f,parentNode:g,nextSibling:v,setScopeId:p=Es,insertStaticContent:T}=n,L=(j,W,H,D=null,St=null,yt=null,xt=void 0,ft=null,It=!!W.dynamicChildren)=>{if(j===W)return;j&&!Eu(j,W)&&(D=Q(j),k(j,St,yt,!0),j=null),W.patchFlag===-2&&(It=!1,W.dynamicChildren=null);const{type:pt,ref:jt,shapeFlag:Pt}=W;switch(pt){case gf:R(j,W,H,D);break;case ia:C(j,W,H,D);break;case od:j==null&&$(W,H,D,xt);break;case ys:E(j,W,H,D,St,yt,xt,ft,It);break;default:Pt&1?ct(j,W,H,D,St,yt,xt,ft,It):Pt&6?I(j,W,H,D,St,yt,xt,ft,It):(Pt&64||Pt&128)&&pt.process(j,W,H,D,St,yt,xt,ft,It,ut)}jt!=null&&St?Vu(jt,j&&j.ref,yt,W||j,!W):jt==null&&j&&j.ref!=null&&Vu(j.ref,null,yt,j,!0)},R=(j,W,H,D)=>{if(j==null)r(W.el=a(W.children),H,D);else{const St=W.el=j.el;W.children!==j.children&&u(St,W.children)}},C=(j,W,H,D)=>{j==null?r(W.el=l(W.children||""),H,D):W.el=j.el},$=(j,W,H,D)=>{[j.el,j.anchor]=T(j.children,W,H,D,j.el,j.anchor)},G=({el:j,anchor:W},H,D)=>{let St;for(;j&&j!==W;)St=v(j),r(j,H,D),j=St;r(W,H,D)},z=({el:j,anchor:W})=>{let H;for(;j&&j!==W;)H=v(j),i(j),j=H;i(W)},ct=(j,W,H,D,St,yt,xt,ft,It)=>{W.type==="svg"?xt="svg":W.type==="math"&&(xt="mathml"),j==null?Et(W,H,D,St,yt,xt,ft,It):S(j,W,St,yt,xt,ft,It)},Et=(j,W,H,D,St,yt,xt,ft)=>{let It,pt;const{props:jt,shapeFlag:Pt,transition:Ht,dirs:qt}=j;if(It=j.el=o(j.type,yt,jt&&jt.is,jt),Pt&8?f(It,j.children):Pt&16&&x(j.children,It,null,D,St,sd(j,yt),xt,ft),qt&&Ra(j,null,D,"created"),U(It,j,j.scopeId,xt,D),jt){for(const Yt in jt)Yt!=="value"&&!Ou(Yt)&&s(It,Yt,null,jt[Yt],yt,D);"value"in jt&&s(It,"value",null,jt.value,yt),(pt=jt.onVnodeBeforeMount)&&ds(pt,D,j)}qt&&Ra(j,null,D,"beforeMount");const Ut=lA(St,Ht);Ut&&Ht.beforeEnter(It),r(It,W,H),((pt=jt&&jt.onVnodeMounted)||Ut||qt)&&vi(()=>{pt&&ds(pt,D,j),Ut&&Ht.enter(It),qt&&Ra(j,null,D,"mounted")},St)},U=(j,W,H,D,St)=>{if(H&&p(j,H),D)for(let yt=0;yt<D.length;yt++)p(j,D[yt]);if(St){let yt=St.subTree;if(W===yt||kv(yt.type)&&(yt.ssContent===W||yt.ssFallback===W)){const xt=St.vnode;U(j,xt,xt.scopeId,xt.slotScopeIds,St.parent)}}},x=(j,W,H,D,St,yt,xt,ft,It=0)=>{for(let pt=It;pt<j.length;pt++){const jt=j[pt]=ft?jo(j[pt]):_s(j[pt]);L(null,jt,W,H,D,St,yt,xt,ft)}},S=(j,W,H,D,St,yt,xt)=>{const ft=W.el=j.el;let{patchFlag:It,dynamicChildren:pt,dirs:jt}=W;It|=j.patchFlag&16;const Pt=j.props||dn,Ht=W.props||dn;let qt;if(H&&ka(H,!1),(qt=Ht.onVnodeBeforeUpdate)&&ds(qt,H,W,j),jt&&Ra(W,j,H,"beforeUpdate"),H&&ka(H,!0),(Pt.innerHTML&&Ht.innerHTML==null||Pt.textContent&&Ht.textContent==null)&&f(ft,""),pt?F(j.dynamicChildren,pt,ft,H,D,sd(W,St),yt):xt||at(j,W,ft,null,H,D,sd(W,St),yt,!1),It>0){if(It&16)b(ft,Pt,Ht,H,St);else if(It&2&&Pt.class!==Ht.class&&s(ft,"class",null,Ht.class,St),It&4&&s(ft,"style",Pt.style,Ht.style,St),It&8){const Ut=W.dynamicProps;for(let Yt=0;Yt<Ut.length;Yt++){const Gt=Ut[Yt],Kt=Pt[Gt],Zt=Ht[Gt];(Zt!==Kt||Gt==="value")&&s(ft,Gt,Kt,Zt,St,H)}}It&1&&j.children!==W.children&&f(ft,W.children)}else!xt&&pt==null&&b(ft,Pt,Ht,H,St);((qt=Ht.onVnodeUpdated)||jt)&&vi(()=>{qt&&ds(qt,H,W,j),jt&&Ra(W,j,H,"updated")},D)},F=(j,W,H,D,St,yt,xt)=>{for(let ft=0;ft<W.length;ft++){const It=j[ft],pt=W[ft],jt=It.el&&(It.type===ys||!Eu(It,pt)||It.shapeFlag&198)?g(It.el):H;L(It,pt,jt,null,D,St,yt,xt,!0)}},b=(j,W,H,D,St)=>{if(W!==H){if(W!==dn)for(const yt in W)!Ou(yt)&&!(yt in H)&&s(j,yt,W[yt],null,St,D);for(const yt in H){if(Ou(yt))continue;const xt=H[yt],ft=W[yt];xt!==ft&&yt!=="value"&&s(j,yt,ft,xt,St,D)}"value"in H&&s(j,"value",W.value,H.value,St)}},E=(j,W,H,D,St,yt,xt,ft,It)=>{const pt=W.el=j?j.el:a(""),jt=W.anchor=j?j.anchor:a("");let{patchFlag:Pt,dynamicChildren:Ht,slotScopeIds:qt}=W;qt&&(ft=ft?ft.concat(qt):qt),j==null?(r(pt,H,D),r(jt,H,D),x(W.children||[],H,jt,St,yt,xt,ft,It)):Pt>0&&Pt&64&&Ht&&j.dynamicChildren?(F(j.dynamicChildren,Ht,H,St,yt,xt,ft),(W.key!=null||St&&W===St.subTree)&&Pv(j,W,!0)):at(j,W,H,jt,St,yt,xt,ft,It)},I=(j,W,H,D,St,yt,xt,ft,It)=>{W.slotScopeIds=ft,j==null?W.shapeFlag&512?St.ctx.activate(W,H,D,xt,It):tt(W,H,D,St,yt,xt,It):wt(j,W,It)},tt=(j,W,H,D,St,yt,xt)=>{const ft=j.component=TA(j,D,St);if(dv(j)&&(ft.ctx.renderer=ut),PA(ft,!1,xt),ft.asyncDep){if(St&&St.registerDep(ft,At,xt),!j.el){const It=ft.subTree=nn(ia);C(null,It,W,H),j.placeholder=It.el}}else At(ft,j,W,H,St,yt,xt)},wt=(j,W,H)=>{const D=W.component=j.component;if(vA(j,W,H))if(D.asyncDep&&!D.asyncResolved){mt(D,W,H);return}else D.next=W,D.update();else W.el=j.el,D.vnode=W},At=(j,W,H,D,St,yt,xt)=>{const ft=()=>{if(j.isMounted){let{next:Pt,bu:Ht,u:qt,parent:Ut,vnode:Yt}=j;{const Ae=Nv(j);if(Ae){Pt&&(Pt.el=Yt.el,mt(j,Pt,xt)),Ae.asyncDep.then(()=>{j.isUnmounted||ft()});return}}let Gt=Pt,Kt;ka(j,!1),Pt?(Pt.el=Yt.el,mt(j,Pt,xt)):Pt=Yt,Ht&&Zf(Ht),(Kt=Pt.props&&Pt.props.onVnodeBeforeUpdate)&&ds(Kt,Ut,Pt,Yt),ka(j,!0);const Zt=im(j),Jt=j.subTree;j.subTree=Zt,L(Jt,Zt,g(Jt.el),Q(Jt),j,St,yt),Pt.el=Zt.el,Gt===null&&yA(j,Zt.el),qt&&vi(qt,St),(Kt=Pt.props&&Pt.props.onVnodeUpdated)&&vi(()=>ds(Kt,Ut,Pt,Yt),St)}else{let Pt;const{el:Ht,props:qt}=W,{bm:Ut,m:Yt,parent:Gt,root:Kt,type:Zt}=j,Jt=Bu(W);ka(j,!1),Ut&&Zf(Ut),!Jt&&(Pt=qt&&qt.onVnodeBeforeMount)&&ds(Pt,Gt,W),ka(j,!0);{Kt.ce&&Kt.ce._def.shadowRoot!==!1&&Kt.ce._injectChildStyle(Zt);const Ae=j.subTree=im(j);L(null,Ae,H,D,j,St,yt),W.el=Ae.el}if(Yt&&vi(Yt,St),!Jt&&(Pt=qt&&qt.onVnodeMounted)){const Ae=W;vi(()=>ds(Pt,Gt,Ae),St)}(W.shapeFlag&256||Gt&&Bu(Gt.vnode)&&Gt.vnode.shapeFlag&256)&&j.a&&vi(j.a,St),j.isMounted=!0,W=H=D=null}};j.scope.on();const It=j.effect=new U5(ft);j.scope.off();const pt=j.update=It.run.bind(It),jt=j.job=It.runIfDirty.bind(It);jt.i=j,jt.id=j.uid,It.scheduler=()=>pg(jt),ka(j,!0),pt()},mt=(j,W,H)=>{W.component=j;const D=j.vnode.props;j.vnode=W,j.next=null,eA(j,W.props,D,H),sA(j,W.children,H),no(),J1(j),ro()},at=(j,W,H,D,St,yt,xt,ft,It=!1)=>{const pt=j&&j.children,jt=j?j.shapeFlag:0,Pt=W.children,{patchFlag:Ht,shapeFlag:qt}=W;if(Ht>0){if(Ht&128){Vt(pt,Pt,H,D,St,yt,xt,ft,It);return}else if(Ht&256){Tt(pt,Pt,H,D,St,yt,xt,ft,It);return}}qt&8?(jt&16&&ot(pt,St,yt),Pt!==pt&&f(H,Pt)):jt&16?qt&16?Vt(pt,Pt,H,D,St,yt,xt,ft,It):ot(pt,St,yt,!0):(jt&8&&f(H,""),qt&16&&x(Pt,H,D,St,yt,xt,ft,It))},Tt=(j,W,H,D,St,yt,xt,ft,It)=>{j=j||Sl,W=W||Sl;const pt=j.length,jt=W.length,Pt=Math.min(pt,jt);let Ht;for(Ht=0;Ht<Pt;Ht++){const qt=W[Ht]=It?jo(W[Ht]):_s(W[Ht]);L(j[Ht],qt,H,null,St,yt,xt,ft,It)}pt>jt?ot(j,St,yt,!0,!1,Pt):x(W,H,D,St,yt,xt,ft,It,Pt)},Vt=(j,W,H,D,St,yt,xt,ft,It)=>{let pt=0;const jt=W.length;let Pt=j.length-1,Ht=jt-1;for(;pt<=Pt&&pt<=Ht;){const qt=j[pt],Ut=W[pt]=It?jo(W[pt]):_s(W[pt]);if(Eu(qt,Ut))L(qt,Ut,H,null,St,yt,xt,ft,It);else break;pt++}for(;pt<=Pt&&pt<=Ht;){const qt=j[Pt],Ut=W[Ht]=It?jo(W[Ht]):_s(W[Ht]);if(Eu(qt,Ut))L(qt,Ut,H,null,St,yt,xt,ft,It);else break;Pt--,Ht--}if(pt>Pt){if(pt<=Ht){const qt=Ht+1,Ut=qt<jt?W[qt].el:D;for(;pt<=Ht;)L(null,W[pt]=It?jo(W[pt]):_s(W[pt]),H,Ut,St,yt,xt,ft,It),pt++}}else if(pt>Ht)for(;pt<=Pt;)k(j[pt],St,yt,!0),pt++;else{const qt=pt,Ut=pt,Yt=new Map;for(pt=Ut;pt<=Ht;pt++){const ie=W[pt]=It?jo(W[pt]):_s(W[pt]);ie.key!=null&&Yt.set(ie.key,pt)}let Gt,Kt=0;const Zt=Ht-Ut+1;let Jt=!1,Ae=0;const Ce=new Array(Zt);for(pt=0;pt<Zt;pt++)Ce[pt]=0;for(pt=qt;pt<=Pt;pt++){const ie=j[pt];if(Kt>=Zt){k(ie,St,yt,!0);continue}let Le;if(ie.key!=null)Le=Yt.get(ie.key);else for(Gt=Ut;Gt<=Ht;Gt++)if(Ce[Gt-Ut]===0&&Eu(ie,W[Gt])){Le=Gt;break}Le===void 0?k(ie,St,yt,!0):(Ce[Le-Ut]=pt+1,Le>=Ae?Ae=Le:Jt=!0,L(ie,W[Le],H,null,St,yt,xt,ft,It),Kt++)}const ee=Jt?uA(Ce):Sl;for(Gt=ee.length-1,pt=Zt-1;pt>=0;pt--){const ie=Ut+pt,Le=W[ie],ce=W[ie+1],Te=ie+1<jt?ce.el||ce.placeholder:D;Ce[pt]===0?L(null,Le,H,Te,St,yt,xt,ft,It):Jt&&(Gt<0||pt!==ee[Gt]?Ot(Le,H,Te,2):Gt--)}}},Ot=(j,W,H,D,St=null)=>{const{el:yt,type:xt,transition:ft,children:It,shapeFlag:pt}=j;if(pt&6){Ot(j.component.subTree,W,H,D);return}if(pt&128){j.suspense.move(W,H,D);return}if(pt&64){xt.move(j,W,H,ut);return}if(xt===ys){r(yt,W,H);for(let Pt=0;Pt<It.length;Pt++)Ot(It[Pt],W,H,D);r(j.anchor,W,H);return}if(xt===od){G(j,W,H);return}if(D!==2&&pt&1&&ft)if(D===0)ft.beforeEnter(yt),r(yt,W,H),vi(()=>ft.enter(yt),St);else{const{leave:Pt,delayLeave:Ht,afterLeave:qt}=ft,Ut=()=>{j.ctx.isUnmounted?i(yt):r(yt,W,H)},Yt=()=>{yt._isLeaving&&yt[L4](!0),Pt(yt,()=>{Ut(),qt&&qt()})};Ht?Ht(yt,Ut,Yt):Yt()}else r(yt,W,H)},k=(j,W,H,D=!1,St=!1)=>{const{type:yt,props:xt,ref:ft,children:It,dynamicChildren:pt,shapeFlag:jt,patchFlag:Pt,dirs:Ht,cacheIndex:qt}=j;if(Pt===-2&&(St=!1),ft!=null&&(no(),Vu(ft,null,H,j,!0),ro()),qt!=null&&(W.renderCache[qt]=void 0),jt&256){W.ctx.deactivate(j);return}const Ut=jt&1&&Ht,Yt=!Bu(j);let Gt;if(Yt&&(Gt=xt&&xt.onVnodeBeforeUnmount)&&ds(Gt,W,j),jt&6)rt(j.component,H,D);else{if(jt&128){j.suspense.unmount(H,D);return}Ut&&Ra(j,null,W,"beforeUnmount"),jt&64?j.type.remove(j,W,H,ut,D):pt&&!pt.hasOnce&&(yt!==ys||Pt>0&&Pt&64)?ot(pt,W,H,!1,!0):(yt===ys&&Pt&384||!St&&jt&16)&&ot(It,W,H),D&&K(j)}(Yt&&(Gt=xt&&xt.onVnodeUnmounted)||Ut)&&vi(()=>{Gt&&ds(Gt,W,j),Ut&&Ra(j,null,W,"unmounted")},H)},K=j=>{const{type:W,el:H,anchor:D,transition:St}=j;if(W===ys){Z(H,D);return}if(W===od){z(j);return}const yt=()=>{i(H),St&&!St.persisted&&St.afterLeave&&St.afterLeave()};if(j.shapeFlag&1&&St&&!St.persisted){const{leave:xt,delayLeave:ft}=St,It=()=>xt(H,yt);ft?ft(j.el,yt,It):It()}else yt()},Z=(j,W)=>{let H;for(;j!==W;)H=v(j),i(j),j=H;i(W)},rt=(j,W,H)=>{const{bum:D,scope:St,job:yt,subTree:xt,um:ft,m:It,a:pt}=j;rm(It),rm(pt),D&&Zf(D),St.stop(),yt&&(yt.flags|=8,k(xt,j,W,H)),ft&&vi(ft,W),vi(()=>{j.isUnmounted=!0},W)},ot=(j,W,H,D=!1,St=!1,yt=0)=>{for(let xt=yt;xt<j.length;xt++)k(j[xt],W,H,D,St)},Q=j=>{if(j.shapeFlag&6)return Q(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const W=v(j.anchor||j.el),H=W&&W[N4];return H?v(H):W};let it=!1;const nt=(j,W,H)=>{j==null?W._vnode&&k(W._vnode,null,null,!0):L(W._vnode||null,j,W,null,null,null,H),W._vnode=j,it||(it=!0,J1(),lv(),it=!1)},ut={p:L,um:k,m:Ot,r:K,mt:tt,mc:x,pc:at,pbc:F,n:Q,o:n};return{render:nt,hydrate:void 0,createApp:Z4(nt)}}function sd({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function ka({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function lA(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Pv(n,t,e=!1){const r=n.children,i=t.children;if(Ie(r)&&Ie(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=jo(i[s]),a.el=o.el),!e&&a.patchFlag!==-2&&Pv(o,a)),a.type===gf&&a.patchFlag!==-1&&(a.el=o.el),a.type===ia&&!a.el&&(a.el=o.el)}}function uA(n){const t=n.slice(),e=[0];let r,i,s,o,a;const l=n.length;for(r=0;r<l;r++){const u=n[r];if(u!==0){if(i=e[e.length-1],n[i]<u){t[r]=i,e.push(r);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,n[e[a]]<u?s=a+1:o=a;u<n[e[s]]&&(s>0&&(t[r]=e[s-1]),e[s]=r)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}function Nv(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nv(t)}function rm(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const cA=Symbol.for("v-scx"),hA=()=>$i(cA);function mh(n,t,e){return Cv(n,t,e)}function Cv(n,t,e=dn){const{immediate:r,deep:i,flush:s,once:o}=e,a=kr({},e),l=t&&r||!t&&s!=="post";let u;if(ic){if(s==="sync"){const p=hA();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Es,p.resume=Es,p.pause=Es,p}}const f=Lr;a.call=(p,T,L)=>Ps(p,f,T,L);let g=!1;s==="post"?a.scheduler=p=>{vi(p,f&&f.suspense)}:s!=="sync"&&(g=!0,a.scheduler=(p,T)=>{T?p():pg(p)}),a.augmentJob=p=>{t&&(p.flags|=4),g&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const v=I4(n,t,a);return ic&&(u?u.push(v):l&&v()),v}function fA(n,t,e){const r=this.proxy,i=nr(n)?n.includes(".")?Lv(r,n):()=>r[n]:n.bind(r,r);let s;xe(t)?s=t:(s=t.handler,e=t);const o=_c(this),a=Cv(i,s.bind(r),e);return o(),a}function Lv(n,t){const e=t.split(".");return()=>{let r=n;for(let i=0;i<e.length&&r;i++)r=r[e[i]];return r}}const dA=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${Ci(t)}Modifiers`]||n[`${Qa(t)}Modifiers`];function pA(n,t,...e){if(n.isUnmounted)return;const r=n.vnode.props||dn;let i=e;const s=t.startsWith("update:"),o=s&&dA(r,t.slice(7));o&&(o.trim&&(i=e.map(f=>nr(f)?f.trim():f)),o.number&&(i=e.map(Wb)));let a,l=r[a=Qf(t)]||r[a=Qf(Ci(t))];!l&&s&&(l=r[a=Qf(Qa(t))]),l&&Ps(l,n,6,i);const u=r[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Ps(u,n,6,i)}}function Rv(n,t,e=!1){const r=t.emitsCache,i=r.get(n);if(i!==void 0)return i;const s=n.emits;let o={},a=!1;if(!xe(n)){const l=u=>{const f=Rv(u,t,!0);f&&(a=!0,kr(o,f))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(Nn(n)&&r.set(n,null),null):(Ie(s)?s.forEach(l=>o[l]=null):kr(o,s),Nn(n)&&r.set(n,o),o)}function pf(n,t){return!n||!af(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(n,t[0].toLowerCase()+t.slice(1))||Xe(n,Qa(t))||Xe(n,t))}function im(n){const{type:t,vnode:e,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:f,props:g,data:v,setupState:p,ctx:T,inheritAttrs:L}=n,R=Mh(n);let C,$;try{if(e.shapeFlag&4){const z=i||r,ct=z;C=_s(u.call(ct,z,f,g,p,v,T)),$=a}else{const z=t;C=_s(z.length>1?z(g,{attrs:a,slots:o,emit:l}):z(g,null)),$=t.props?a:gA(a)}}catch(z){Uu.length=0,ff(z,n,1),C=nn(ia)}let G=C;if($&&L!==!1){const z=Object.keys($),{shapeFlag:ct}=G;z.length&&ct&7&&(s&&z.some(eg)&&($=mA($,s)),G=Fl(G,$,!1,!0))}return e.dirs&&(G=Fl(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(e.dirs):e.dirs),e.transition&&gg(G,e.transition),C=G,Mh(R),C}const gA=n=>{let t;for(const e in n)(e==="class"||e==="style"||af(e))&&((t||(t={}))[e]=n[e]);return t},mA=(n,t)=>{const e={};for(const r in n)(!eg(r)||!(r.slice(9)in t))&&(e[r]=n[r]);return e};function vA(n,t,e){const{props:r,children:i,component:s}=n,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return r?sm(r,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const v=f[g];if(o[v]!==r[v]&&!pf(u,v))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?sm(r,o,u):!0:!!o;return!1}function sm(n,t,e){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==n[s]&&!pf(e,s))return!0}return!1}function yA({vnode:n,parent:t},e){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=t.vnode).el=e,t=t.parent;else break}}const kv=n=>n.__isSuspense;function _A(n,t){t&&t.pendingBranch?Ie(n)?t.effects.push(...n):t.effects.push(n):P4(n)}const ys=Symbol.for("v-fgt"),gf=Symbol.for("v-txt"),ia=Symbol.for("v-cmt"),od=Symbol.for("v-stc"),Uu=[];let yi=null;function zo(n=!1){Uu.push(yi=n?null:[])}function wA(){Uu.pop(),yi=Uu[Uu.length-1]||null}let rc=1;function om(n,t=!1){rc+=n,n<0&&yi&&t&&(yi.hasOnce=!0)}function Ov(n){return n.dynamicChildren=rc>0?yi||Sl:null,wA(),rc>0&&yi&&yi.push(n),n}function dl(n,t,e,r,i,s){return Ov(Tn(n,t,e,r,i,s,!0))}function Dv(n,t,e,r,i){return Ov(nn(n,t,e,r,i,!0))}function Vh(n){return n?n.__v_isVNode===!0:!1}function Eu(n,t){return n.type===t.type&&n.key===t.key}const Mv=({key:n})=>n??null,vh=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?nr(n)||Rr(n)||xe(n)?{i:qi,r:n,k:t,f:!!e}:n:null);function Tn(n,t=null,e=null,r=0,i=null,s=n===ys?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Mv(t),ref:t&&vh(t),scopeId:cv,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qi};return a?(yg(l,e),s&128&&n.normalize(l)):e&&(l.shapeFlag|=nr(e)?8:16),rc>0&&!o&&yi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&yi.push(l),l}const nn=bA;function bA(n,t=null,e=null,r=0,i=null,s=!1){if((!n||n===H4)&&(n=ia),Vh(n)){const a=Fl(n,t,!0);return e&&yg(a,e),rc>0&&!s&&yi&&(a.shapeFlag&6?yi[yi.indexOf(n)]=a:yi.push(a)),a.patchFlag=-2,a}if(kA(n)&&(n=n.__vccOpts),t){t=AA(t);let{class:a,style:l}=t;a&&!nr(a)&&(t.class=sg(a)),Nn(l)&&(dg(l)&&!Ie(l)&&(l=kr({},l)),t.style=ig(l))}const o=nr(n)?1:kv(n)?128:C4(n)?64:Nn(n)?4:xe(n)?2:0;return Tn(n,t,e,r,i,o,s,!0)}function AA(n){return n?dg(n)||Av(n)?kr({},n):n:null}function Fl(n,t,e=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=n,u=t?SA(i||{},t):i,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Mv(u),ref:t&&t.ref?e&&s?Ie(s)?s.concat(vh(t)):[s,vh(t)]:vh(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ys?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Fl(n.ssContent),ssFallback:n.ssFallback&&Fl(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&gg(f,l.clone(f)),f}function xr(n=" ",t=0){return nn(gf,null,n,t)}function Nu(n="",t=!1){return t?(zo(),Dv(ia,null,n)):nn(ia,null,n)}function _s(n){return n==null||typeof n=="boolean"?nn(ia):Ie(n)?nn(ys,null,n.slice()):Vh(n)?jo(n):nn(gf,null,String(n))}function jo(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Fl(n)}function yg(n,t){let e=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(Ie(t))e=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),yg(n,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!Av(t)?t._ctx=qi:i===3&&qi&&(qi.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:qi},e=32):(t=String(t),r&64?(e=16,t=[xr(t)]):e=8);n.children=t,n.shapeFlag|=e}function SA(...n){const t={};for(let e=0;e<n.length;e++){const r=n[e];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=sg([t.class,r.class]));else if(i==="style")t.style=ig([t.style,r.style]);else if(af(i)){const s=t[i],o=r[i];o&&s!==o&&!(Ie(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function ds(n,t,e,r=null){Ps(n,t,7,[e,r])}const EA=_v();let IA=0;function TA(n,t,e){const r=n.type,i=(t?t.appContext:n.appContext)||EA,s={uid:IA++,vnode:n,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ev(r,i),emitsOptions:Rv(r,i),emit:null,emitted:null,propsDefaults:dn,inheritAttrs:r.inheritAttrs,ctx:dn,data:dn,props:dn,attrs:dn,slots:dn,refs:dn,setupState:dn,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=pA.bind(null,s),n.ce&&n.ce(s),s}let Lr=null;const xA=()=>Lr||qi;let Bh,lp;{const n=hf(),t=(e,r)=>{let i;return(i=n[e])||(i=n[e]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Bh=t("__VUE_INSTANCE_SETTERS__",e=>Lr=e),lp=t("__VUE_SSR_SETTERS__",e=>ic=e)}const _c=n=>{const t=Lr;return Bh(n),n.scope.on(),()=>{n.scope.off(),Bh(t)}},am=()=>{Lr&&Lr.scope.off(),Bh(null)};function Fv(n){return n.vnode.shapeFlag&4}let ic=!1;function PA(n,t=!1,e=!1){t&&lp(t);const{props:r,children:i}=n.vnode,s=Fv(n);tA(n,r,s,t),iA(n,i,e||t);const o=s?NA(n,t):void 0;return t&&lp(!1),o}function NA(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,$4);const{setup:r}=e;if(r){no();const i=n.setupContext=r.length>1?LA(n):null,s=_c(n),o=yc(r,n,0,[n.props,i]),a=k5(o);if(ro(),s(),(a||n.sp)&&!Bu(n)&&fv(n),a){if(o.then(am,am),t)return o.then(l=>{lm(n,l)}).catch(l=>{ff(l,n,0)});n.asyncDep=o}else lm(n,o)}else Vv(n)}function lm(n,t,e){xe(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Nn(t)&&(n.setupState=iv(t)),Vv(n)}function Vv(n,t,e){const r=n.type;n.render||(n.render=r.render||Es);{const i=_c(n);no();try{G4(n)}finally{ro(),i()}}}const CA={get(n,t){return Nr(n,"get",""),n[t]}};function LA(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,CA),slots:n.slots,emit:n.emit,expose:t}}function _g(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(iv(y4(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in ju)return ju[e](n)},has(t,e){return e in t||e in ju}})):n.proxy}function RA(n,t=!0){return xe(n)?n.displayName||n.name:n.name||t&&n.__name}function kA(n){return xe(n)&&"__vccOpts"in n}const Ni=(n,t)=>S4(n,t,ic);function Bv(n,t,e){const r=arguments.length;return r===2?Nn(t)&&!Ie(t)?Vh(t)?nn(n,null,[t]):nn(n,t):nn(n,null,t):(r>3?e=Array.prototype.slice.call(arguments,2):r===3&&Vh(e)&&(e=[e]),nn(n,t,e))}const OA="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let up;const um=typeof window<"u"&&window.trustedTypes;if(um)try{up=um.createPolicy("vue",{createHTML:n=>n})}catch{}const jv=up?n=>up.createHTML(n):n=>n,DA="http://www.w3.org/2000/svg",MA="http://www.w3.org/1998/Math/MathML",Js=typeof document<"u"?document:null,cm=Js&&Js.createElement("template"),FA={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,r)=>{const i=t==="svg"?Js.createElementNS(DA,n):t==="mathml"?Js.createElementNS(MA,n):e?Js.createElement(n,{is:e}):Js.createElement(n);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>Js.createTextNode(n),createComment:n=>Js.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Js.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,r,i,s){const o=e?e.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===s||!(i=i.nextSibling)););else{cm.innerHTML=jv(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=cm.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},VA=Symbol("_vtc");function BA(n,t,e){const r=n[VA];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const hm=Symbol("_vod"),jA=Symbol("_vsh"),UA=Symbol(""),qA=/(^|;)\s*display\s*:/;function zA(n,t,e){const r=n.style,i=nr(e);let s=!1;if(e&&!i){if(t)if(nr(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&yh(r,a,"")}else for(const o in t)e[o]==null&&yh(r,o,"");for(const o in e)o==="display"&&(s=!0),yh(r,o,e[o])}else if(i){if(t!==e){const o=r[UA];o&&(e+=";"+o),r.cssText=e,s=qA.test(e)}}else t&&n.removeAttribute("style");hm in n&&(n[hm]=s?r.display:"",n[jA]&&(r.display="none"))}const fm=/\s*!important$/;function yh(n,t,e){if(Ie(e))e.forEach(r=>yh(n,t,r));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const r=HA(n,t);fm.test(e)?n.setProperty(Qa(r),e.replace(fm,""),"important"):n[r]=e}}const dm=["Webkit","Moz","ms"],ad={};function HA(n,t){const e=ad[t];if(e)return e;let r=Ci(t);if(r!=="filter"&&r in n)return ad[t]=r;r=cf(r);for(let i=0;i<dm.length;i++){const s=dm[i]+r;if(s in n)return ad[t]=s}return t}const pm="http://www.w3.org/1999/xlink";function gm(n,t,e,r,i,s=Xb(t)){r&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(pm,t.slice(6,t.length)):n.setAttributeNS(pm,t,e):e==null||s&&!F5(e)?n.removeAttribute(t):n.setAttribute(t,s?"":fa(e)?String(e):e)}function mm(n,t,e,r,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?jv(e):e);return}const s=n.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(a!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=F5(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(i||t)}function WA(n,t,e,r){n.addEventListener(t,e,r)}function $A(n,t,e,r){n.removeEventListener(t,e,r)}const vm=Symbol("_vei");function GA(n,t,e,r,i=null){const s=n[vm]||(n[vm]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=KA(t);if(r){const u=s[t]=XA(r,i);WA(n,a,u,l)}else o&&($A(n,a,o,l),s[t]=void 0)}}const ym=/(?:Once|Passive|Capture)$/;function KA(n){let t;if(ym.test(n)){t={};let r;for(;r=n.match(ym);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Qa(n.slice(2)),t]}let ld=0;const YA=Promise.resolve(),JA=()=>ld||(YA.then(()=>ld=0),ld=Date.now());function XA(n,t){const e=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=e.attached)return;Ps(QA(r,e.value),t,5,[r])};return e.value=n,e.attached=JA(),e}function QA(n,t){if(Ie(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const _m=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,ZA=(n,t,e,r,i,s)=>{const o=i==="svg";t==="class"?BA(n,r,o):t==="style"?zA(n,e,r):af(t)?eg(t)||GA(n,t,e,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):t3(n,t,r,o))?(mm(n,t,r),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gm(n,t,r,o,s,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!nr(r))?mm(n,Ci(t),r,s,t):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),gm(n,t,r,o))};function t3(n,t,e,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&_m(t)&&xe(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return _m(t)&&nr(e)?!1:t in n}const e3=kr({patchProp:ZA},FA);let wm;function n3(){return wm||(wm=oA(e3))}const r3=((...n)=>{const t=n3().createApp(...n),{mount:e}=t;return t.mount=r=>{const i=s3(r);if(!i)return;const s=t._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,i3(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function i3(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function s3(n){return nr(n)?document.querySelector(n):n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const pl=typeof document<"u";function Uv(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function o3(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Uv(n.default)}const Ye=Object.assign;function ud(n,t){const e={};for(const r in t){const i=t[r];e[r]=Gi(i)?i.map(n):n(i)}return e}const qu=()=>{},Gi=Array.isArray,qv=/#/g,a3=/&/g,l3=/\//g,u3=/=/g,c3=/\?/g,zv=/\+/g,h3=/%5B/g,f3=/%5D/g,Hv=/%5E/g,d3=/%60/g,Wv=/%7B/g,p3=/%7C/g,$v=/%7D/g,g3=/%20/g;function wg(n){return encodeURI(""+n).replace(p3,"|").replace(h3,"[").replace(f3,"]")}function m3(n){return wg(n).replace(Wv,"{").replace($v,"}").replace(Hv,"^")}function cp(n){return wg(n).replace(zv,"%2B").replace(g3,"+").replace(qv,"%23").replace(a3,"%26").replace(d3,"`").replace(Wv,"{").replace($v,"}").replace(Hv,"^")}function v3(n){return cp(n).replace(u3,"%3D")}function y3(n){return wg(n).replace(qv,"%23").replace(c3,"%3F")}function _3(n){return n==null?"":y3(n).replace(l3,"%2F")}function sc(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const w3=/\/$/,b3=n=>n.replace(w3,"");function cd(n,t,e="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=n(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=I3(r??t,e),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:sc(o)}}function A3(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function bm(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function S3(n,t,e){const r=t.matched.length-1,i=e.matched.length-1;return r>-1&&r===i&&Vl(t.matched[r],e.matched[i])&&Gv(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Vl(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function Gv(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!E3(n[e],t[e]))return!1;return!0}function E3(n,t){return Gi(n)?Am(n,t):Gi(t)?Am(t,n):n===t}function Am(n,t){return Gi(t)?n.length===t.length&&n.every((e,r)=>e===t[r]):n.length===1&&n[0]===t}function I3(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),r=n.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=e.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return e.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Do={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var oc;(function(n){n.pop="pop",n.push="push"})(oc||(oc={}));var zu;(function(n){n.back="back",n.forward="forward",n.unknown=""})(zu||(zu={}));function T3(n){if(!n)if(pl){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),b3(n)}const x3=/^[^#]+#/;function P3(n,t){return n.replace(x3,"#")+t}function N3(n,t){const e=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-e.left-(t.left||0),top:r.top-e.top-(t.top||0)}}const mf=()=>({left:window.scrollX,top:window.scrollY});function C3(n){let t;if("el"in n){const e=n.el,r=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?r?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=N3(i,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Sm(n,t){return(history.state?history.state.position-t:-1)+n}const hp=new Map;function L3(n,t){hp.set(n,t)}function R3(n){const t=hp.get(n);return hp.delete(n),t}let k3=()=>location.protocol+"//"+location.host;function Kv(n,t){const{pathname:e,search:r,hash:i}=t,s=n.indexOf("#");if(s>-1){let a=i.includes(n.slice(s))?n.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),bm(l,"")}return bm(e,n)+r+i}function O3(n,t,e,r){let i=[],s=[],o=null;const a=({state:v})=>{const p=Kv(n,location),T=e.value,L=t.value;let R=0;if(v){if(e.value=p,t.value=v,o&&o===T){o=null;return}R=L?v.position-L.position:0}else r(p);i.forEach(C=>{C(e.value,T,{delta:R,type:oc.pop,direction:R?R>0?zu.forward:zu.back:zu.unknown})})};function l(){o=e.value}function u(v){i.push(v);const p=()=>{const T=i.indexOf(v);T>-1&&i.splice(T,1)};return s.push(p),p}function f(){const{history:v}=window;v.state&&v.replaceState(Ye({},v.state,{scroll:mf()}),"")}function g(){for(const v of s)v();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:l,listen:u,destroy:g}}function Em(n,t,e,r=!1,i=!1){return{back:n,current:t,forward:e,replaced:r,position:window.history.length,scroll:i?mf():null}}function D3(n){const{history:t,location:e}=window,r={value:Kv(n,e)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,f){const g=n.indexOf("#"),v=g>-1?(e.host&&document.querySelector("base")?n:n.slice(g))+l:k3()+n+l;try{t[f?"replaceState":"pushState"](u,"",v),i.value=u}catch(p){console.error(p),e[f?"replace":"assign"](v)}}function o(l,u){const f=Ye({},t.state,Em(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,f,!0),r.value=l}function a(l,u){const f=Ye({},i.value,t.state,{forward:l,scroll:mf()});s(f.current,f,!0);const g=Ye({},Em(r.value,l,null),{position:f.position+1},u);s(l,g,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function M3(n){n=T3(n);const t=D3(n),e=O3(n,t.state,t.location,t.replace);function r(s,o=!0){o||e.pauseListeners(),history.go(s)}const i=Ye({location:"",base:n,go:r,createHref:P3.bind(null,n)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function F3(n){return typeof n=="string"||n&&typeof n=="object"}function Yv(n){return typeof n=="string"||typeof n=="symbol"}const Jv=Symbol("");var Im;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Im||(Im={}));function Bl(n,t){return Ye(new Error,{type:n,[Jv]:!0},t)}function Gs(n,t){return n instanceof Error&&Jv in n&&(t==null||!!(n.type&t))}const Tm="[^/]+?",V3={sensitive:!1,strict:!1,start:!0,end:!0},B3=/[.+*?^${}()[\]/\\]/g;function j3(n,t){const e=Ye({},V3,t),r=[];let i=e.start?"^":"";const s=[];for(const u of n){const f=u.length?[]:[90];e.strict&&!u.length&&(i+="/");for(let g=0;g<u.length;g++){const v=u[g];let p=40+(e.sensitive?.25:0);if(v.type===0)g||(i+="/"),i+=v.value.replace(B3,"\\$&"),p+=40;else if(v.type===1){const{value:T,repeatable:L,optional:R,regexp:C}=v;s.push({name:T,repeatable:L,optional:R});const $=C||Tm;if($!==Tm){p+=10;try{new RegExp(`(${$})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${T}" (${$}): `+z.message)}}let G=L?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;g||(G=R&&u.length<2?`(?:/${G})`:"/"+G),R&&(G+="?"),i+=G,p+=20,R&&(p+=-8),L&&(p+=-20),$===".*"&&(p+=-50)}f.push(p)}r.push(f)}if(e.strict&&e.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function a(u){const f=u.match(o),g={};if(!f)return null;for(let v=1;v<f.length;v++){const p=f[v]||"",T=s[v-1];g[T.name]=p&&T.repeatable?p.split("/"):p}return g}function l(u){let f="",g=!1;for(const v of n){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const p of v)if(p.type===0)f+=p.value;else if(p.type===1){const{value:T,repeatable:L,optional:R}=p,C=T in u?u[T]:"";if(Gi(C)&&!L)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const $=Gi(C)?C.join("/"):C;if(!$)if(R)v.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${T}"`);f+=$}}return f||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function U3(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=t[e]-n[e];if(r)return r;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Xv(n,t){let e=0;const r=n.score,i=t.score;for(;e<r.length&&e<i.length;){const s=U3(r[e],i[e]);if(s)return s;e++}if(Math.abs(i.length-r.length)===1){if(xm(r))return 1;if(xm(i))return-1}return i.length-r.length}function xm(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const q3={type:0,value:""},z3=/[a-zA-Z0-9_]/;function H3(n){if(!n)return[[]];if(n==="/")return[[q3]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${u}": ${p}`)}let e=0,r=e;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",f="";function g(){u&&(e===0?s.push({type:0,value:u}):e===1||e===2||e===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function v(){u+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&e!==2){r=e,e=4;continue}switch(e){case 0:l==="/"?(u&&g(),o()):l===":"?(g(),e=1):v();break;case 4:v(),e=r;break;case 1:l==="("?e=2:z3.test(l)?v():(g(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:e=3:f+=l;break;case 3:g(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${u}"`),g(),o(),i}function W3(n,t,e){const r=j3(H3(n.path),e),i=Ye(r,{record:n,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function $3(n,t){const e=[],r=new Map;t=Lm({strict:!1,end:!0,sensitive:!1},t);function i(g){return r.get(g)}function s(g,v,p){const T=!p,L=Nm(g);L.aliasOf=p&&p.record;const R=Lm(t,g),C=[L];if("alias"in g){const z=typeof g.alias=="string"?[g.alias]:g.alias;for(const ct of z)C.push(Nm(Ye({},L,{components:p?p.record.components:L.components,path:ct,aliasOf:p?p.record:L})))}let $,G;for(const z of C){const{path:ct}=z;if(v&&ct[0]!=="/"){const Et=v.record.path,U=Et[Et.length-1]==="/"?"":"/";z.path=v.record.path+(ct&&U+ct)}if($=W3(z,v,R),p?p.alias.push($):(G=G||$,G!==$&&G.alias.push($),T&&g.name&&!Cm($)&&o(g.name)),Qv($)&&l($),L.children){const Et=L.children;for(let U=0;U<Et.length;U++)s(Et[U],$,p&&p.children[U])}p=p||$}return G?()=>{o(G)}:qu}function o(g){if(Yv(g)){const v=r.get(g);v&&(r.delete(g),e.splice(e.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=e.indexOf(g);v>-1&&(e.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function a(){return e}function l(g){const v=Y3(g,e);e.splice(v,0,g),g.record.name&&!Cm(g)&&r.set(g.record.name,g)}function u(g,v){let p,T={},L,R;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw Bl(1,{location:g});R=p.record.name,T=Ye(Pm(v.params,p.keys.filter(G=>!G.optional).concat(p.parent?p.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),g.params&&Pm(g.params,p.keys.map(G=>G.name))),L=p.stringify(T)}else if(g.path!=null)L=g.path,p=e.find(G=>G.re.test(L)),p&&(T=p.parse(L),R=p.record.name);else{if(p=v.name?r.get(v.name):e.find(G=>G.re.test(v.path)),!p)throw Bl(1,{location:g,currentLocation:v});R=p.record.name,T=Ye({},v.params,g.params),L=p.stringify(T)}const C=[];let $=p;for(;$;)C.unshift($.record),$=$.parent;return{name:R,path:L,params:T,matched:C,meta:K3(C)}}n.forEach(g=>s(g));function f(){e.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:a,getRecordMatcher:i}}function Pm(n,t){const e={};for(const r of t)r in n&&(e[r]=n[r]);return e}function Nm(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:G3(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function G3(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const r in n.components)t[r]=typeof e=="object"?e[r]:e;return t}function Cm(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function K3(n){return n.reduce((t,e)=>Ye(t,e.meta),{})}function Lm(n,t){const e={};for(const r in n)e[r]=r in t?t[r]:n[r];return e}function Y3(n,t){let e=0,r=t.length;for(;e!==r;){const s=e+r>>1;Xv(n,t[s])<0?r=s:e=s+1}const i=J3(n);return i&&(r=t.lastIndexOf(i,r-1)),r}function J3(n){let t=n;for(;t=t.parent;)if(Qv(t)&&Xv(n,t)===0)return t}function Qv({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function X3(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(zv," "),o=s.indexOf("="),a=sc(o<0?s:s.slice(0,o)),l=o<0?null:sc(s.slice(o+1));if(a in t){let u=t[a];Gi(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Rm(n){let t="";for(let e in n){const r=n[e];if(e=v3(e),r==null){r!==void 0&&(t+=(t.length?"&":"")+e);continue}(Gi(r)?r.map(s=>s&&cp(s)):[r&&cp(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+e,s!=null&&(t+="="+s))})}return t}function Q3(n){const t={};for(const e in n){const r=n[e];r!==void 0&&(t[e]=Gi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Z3=Symbol(""),km=Symbol(""),vf=Symbol(""),bg=Symbol(""),fp=Symbol("");function Iu(){let n=[];function t(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Uo(n,t,e,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=v=>{v===!1?l(Bl(4,{from:e,to:t})):v instanceof Error?l(v):F3(v)?l(Bl(2,{from:t,to:v})):(o&&r.enterCallbacks[i]===o&&typeof v=="function"&&o.push(v),a())},f=s(()=>n.call(r&&r.instances[i],t,e,u));let g=Promise.resolve(f);n.length<3&&(g=g.then(u)),g.catch(v=>l(v))})}function hd(n,t,e,r,i=s=>s()){const s=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Uv(l)){const f=(l.__vccOpts||l)[t];f&&s.push(Uo(f,e,r,o,a,i))}else{let u=l();s.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const g=o3(f)?f.default:f;o.mods[a]=f,o.components[a]=g;const p=(g.__vccOpts||g)[t];return p&&Uo(p,e,r,o,a,i)()}))}}return s}function Om(n){const t=$i(vf),e=$i(bg),r=Ni(()=>{const l=Pi(n.to);return t.resolve(l)}),i=Ni(()=>{const{matched:l}=r.value,{length:u}=l,f=l[u-1],g=e.matched;if(!f||!g.length)return-1;const v=g.findIndex(Vl.bind(null,f));if(v>-1)return v;const p=Dm(l[u-2]);return u>1&&Dm(f)===p&&g[g.length-1].path!==p?g.findIndex(Vl.bind(null,l[u-2])):v}),s=Ni(()=>i.value>-1&&iS(e.params,r.value.params)),o=Ni(()=>i.value>-1&&i.value===e.matched.length-1&&Gv(e.params,r.value.params));function a(l={}){if(rS(l)){const u=t[Pi(n.replace)?"replace":"push"](Pi(n.to)).catch(qu);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ni(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function tS(n){return n.length===1?n[0]:n}const eS=hv({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Om,setup(n,{slots:t}){const e=vc(Om(n)),{options:r}=$i(vf),i=Ni(()=>({[Mm(n.activeClass,r.linkActiveClass,"router-link-active")]:e.isActive,[Mm(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const s=t.default&&tS(t.default(e));return n.custom?s:Bv("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},s)}}}),nS=eS;function rS(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function iS(n,t){for(const e in t){const r=t[e],i=n[e];if(typeof r=="string"){if(r!==i)return!1}else if(!Gi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Dm(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Mm=(n,t,e)=>n??t??e,sS=hv({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const r=$i(fp),i=Ni(()=>n.route||r.value),s=$i(km,0),o=Ni(()=>{let u=Pi(s);const{matched:f}=i.value;let g;for(;(g=f[u])&&!g.components;)u++;return u}),a=Ni(()=>i.value.matched[o.value]);gh(km,Ni(()=>o.value+1)),gh(Z3,a),gh(fp,i);const l=np();return mh(()=>[l.value,a.value,n.name],([u,f,g],[v,p,T])=>{f&&(f.instances[g]=u,p&&p!==f&&u&&u===v&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),u&&f&&(!p||!Vl(f,p)||!v)&&(f.enterCallbacks[g]||[]).forEach(L=>L(u))},{flush:"post"}),()=>{const u=i.value,f=n.name,g=a.value,v=g&&g.components[f];if(!v)return Fm(e.default,{Component:v,route:u});const p=g.props[f],T=p?p===!0?u.params:typeof p=="function"?p(u):p:null,R=Bv(v,Ye({},T,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(g.instances[f]=null)},ref:l}));return Fm(e.default,{Component:R,route:u})||R}}});function Fm(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const oS=sS;function aS(n){const t=$3(n.routes,n),e=n.parseQuery||X3,r=n.stringifyQuery||Rm,i=n.history,s=Iu(),o=Iu(),a=Iu(),l=_4(Do);let u=Do;pl&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ud.bind(null,Q=>""+Q),g=ud.bind(null,_3),v=ud.bind(null,sc);function p(Q,it){let nt,ut;return Yv(Q)?(nt=t.getRecordMatcher(Q),ut=it):ut=Q,t.addRoute(ut,nt)}function T(Q){const it=t.getRecordMatcher(Q);it&&t.removeRoute(it)}function L(){return t.getRoutes().map(Q=>Q.record)}function R(Q){return!!t.getRecordMatcher(Q)}function C(Q,it){if(it=Ye({},it||l.value),typeof Q=="string"){const H=cd(e,Q,it.path),D=t.resolve({path:H.path},it),St=i.createHref(H.fullPath);return Ye(H,D,{params:v(D.params),hash:sc(H.hash),redirectedFrom:void 0,href:St})}let nt;if(Q.path!=null)nt=Ye({},Q,{path:cd(e,Q.path,it.path).path});else{const H=Ye({},Q.params);for(const D in H)H[D]==null&&delete H[D];nt=Ye({},Q,{params:g(H)}),it.params=g(it.params)}const ut=t.resolve(nt,it),Nt=Q.hash||"";ut.params=f(v(ut.params));const j=A3(r,Ye({},Q,{hash:m3(Nt),path:ut.path})),W=i.createHref(j);return Ye({fullPath:j,hash:Nt,query:r===Rm?Q3(Q.query):Q.query||{}},ut,{redirectedFrom:void 0,href:W})}function $(Q){return typeof Q=="string"?cd(e,Q,l.value.path):Ye({},Q)}function G(Q,it){if(u!==Q)return Bl(8,{from:it,to:Q})}function z(Q){return U(Q)}function ct(Q){return z(Ye($(Q),{replace:!0}))}function Et(Q){const it=Q.matched[Q.matched.length-1];if(it&&it.redirect){const{redirect:nt}=it;let ut=typeof nt=="function"?nt(Q):nt;return typeof ut=="string"&&(ut=ut.includes("?")||ut.includes("#")?ut=$(ut):{path:ut},ut.params={}),Ye({query:Q.query,hash:Q.hash,params:ut.path!=null?{}:Q.params},ut)}}function U(Q,it){const nt=u=C(Q),ut=l.value,Nt=Q.state,j=Q.force,W=Q.replace===!0,H=Et(nt);if(H)return U(Ye($(H),{state:typeof H=="object"?Ye({},Nt,H.state):Nt,force:j,replace:W}),it||nt);const D=nt;D.redirectedFrom=it;let St;return!j&&S3(r,ut,nt)&&(St=Bl(16,{to:D,from:ut}),Ot(ut,ut,!0,!1)),(St?Promise.resolve(St):F(D,ut)).catch(yt=>Gs(yt)?Gs(yt,2)?yt:Vt(yt):at(yt,D,ut)).then(yt=>{if(yt){if(Gs(yt,2))return U(Ye({replace:W},$(yt.to),{state:typeof yt.to=="object"?Ye({},Nt,yt.to.state):Nt,force:j}),it||D)}else yt=E(D,ut,!0,W,Nt);return b(D,ut,yt),yt})}function x(Q,it){const nt=G(Q,it);return nt?Promise.reject(nt):Promise.resolve()}function S(Q){const it=Z.values().next().value;return it&&typeof it.runWithContext=="function"?it.runWithContext(Q):Q()}function F(Q,it){let nt;const[ut,Nt,j]=lS(Q,it);nt=hd(ut.reverse(),"beforeRouteLeave",Q,it);for(const H of ut)H.leaveGuards.forEach(D=>{nt.push(Uo(D,Q,it))});const W=x.bind(null,Q,it);return nt.push(W),ot(nt).then(()=>{nt=[];for(const H of s.list())nt.push(Uo(H,Q,it));return nt.push(W),ot(nt)}).then(()=>{nt=hd(Nt,"beforeRouteUpdate",Q,it);for(const H of Nt)H.updateGuards.forEach(D=>{nt.push(Uo(D,Q,it))});return nt.push(W),ot(nt)}).then(()=>{nt=[];for(const H of j)if(H.beforeEnter)if(Gi(H.beforeEnter))for(const D of H.beforeEnter)nt.push(Uo(D,Q,it));else nt.push(Uo(H.beforeEnter,Q,it));return nt.push(W),ot(nt)}).then(()=>(Q.matched.forEach(H=>H.enterCallbacks={}),nt=hd(j,"beforeRouteEnter",Q,it,S),nt.push(W),ot(nt))).then(()=>{nt=[];for(const H of o.list())nt.push(Uo(H,Q,it));return nt.push(W),ot(nt)}).catch(H=>Gs(H,8)?H:Promise.reject(H))}function b(Q,it,nt){a.list().forEach(ut=>S(()=>ut(Q,it,nt)))}function E(Q,it,nt,ut,Nt){const j=G(Q,it);if(j)return j;const W=it===Do,H=pl?history.state:{};nt&&(ut||W?i.replace(Q.fullPath,Ye({scroll:W&&H&&H.scroll},Nt)):i.push(Q.fullPath,Nt)),l.value=Q,Ot(Q,it,nt,W),Vt()}let I;function tt(){I||(I=i.listen((Q,it,nt)=>{if(!rt.listening)return;const ut=C(Q),Nt=Et(ut);if(Nt){U(Ye(Nt,{replace:!0,force:!0}),ut).catch(qu);return}u=ut;const j=l.value;pl&&L3(Sm(j.fullPath,nt.delta),mf()),F(ut,j).catch(W=>Gs(W,12)?W:Gs(W,2)?(U(Ye($(W.to),{force:!0}),ut).then(H=>{Gs(H,20)&&!nt.delta&&nt.type===oc.pop&&i.go(-1,!1)}).catch(qu),Promise.reject()):(nt.delta&&i.go(-nt.delta,!1),at(W,ut,j))).then(W=>{W=W||E(ut,j,!1),W&&(nt.delta&&!Gs(W,8)?i.go(-nt.delta,!1):nt.type===oc.pop&&Gs(W,20)&&i.go(-1,!1)),b(ut,j,W)}).catch(qu)}))}let wt=Iu(),At=Iu(),mt;function at(Q,it,nt){Vt(Q);const ut=At.list();return ut.length?ut.forEach(Nt=>Nt(Q,it,nt)):console.error(Q),Promise.reject(Q)}function Tt(){return mt&&l.value!==Do?Promise.resolve():new Promise((Q,it)=>{wt.add([Q,it])})}function Vt(Q){return mt||(mt=!Q,tt(),wt.list().forEach(([it,nt])=>Q?nt(Q):it()),wt.reset()),Q}function Ot(Q,it,nt,ut){const{scrollBehavior:Nt}=n;if(!pl||!Nt)return Promise.resolve();const j=!nt&&R3(Sm(Q.fullPath,0))||(ut||!nt)&&history.state&&history.state.scroll||null;return ov().then(()=>Nt(Q,it,j)).then(W=>W&&C3(W)).catch(W=>at(W,Q,it))}const k=Q=>i.go(Q);let K;const Z=new Set,rt={currentRoute:l,listening:!0,addRoute:p,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:R,getRoutes:L,resolve:C,options:n,push:z,replace:ct,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:At.add,isReady:Tt,install(Q){const it=this;Q.component("RouterLink",nS),Q.component("RouterView",oS),Q.config.globalProperties.$router=it,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Pi(l)}),pl&&!K&&l.value===Do&&(K=!0,z(i.location).catch(Nt=>{}));const nt={};for(const Nt in Do)Object.defineProperty(nt,Nt,{get:()=>l.value[Nt],enumerable:!0});Q.provide(vf,it),Q.provide(bg,ev(nt)),Q.provide(fp,l);const ut=Q.unmount;Z.add(Q),Q.unmount=function(){Z.delete(Q),Z.size<1&&(u=Do,I&&I(),I=null,l.value=Do,K=!1,mt=!1),ut()}}};function ot(Q){return Q.reduce((it,nt)=>it.then(()=>S(nt)),Promise.resolve())}return rt}function lS(n,t){const e=[],r=[],i=[],s=Math.max(t.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(n.matched.find(u=>Vl(u,a))?r.push(a):e.push(a));const l=n.matched[o];l&&(t.matched.find(u=>Vl(u,l))||i.push(l))}return[e,r,i]}function uS(){return $i(vf)}function cS(n){return $i(bg)}const hS=()=>{};var Vm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},fS=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[e++],o=n[e++],a=n[e++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(e[f],e[g],e[v],e[p])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Zv(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):fS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=e[n.charAt(i++)],a=i<n.length?e[n.charAt(i)]:0;++i;const u=i<n.length?e[n.charAt(i)]:64;++i;const g=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new dS;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),g!==64){const T=u<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(n){const t=Zv(n);return ty.encodeByteArray(t,!0)},jh=function(n){return pS(n).replace(/\./g,"")},ey=function(n){try{return ty.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=()=>gS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof Vm>"u")return;const n=Vm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&ey(n[1]);return t&&JSON.parse(t)},yf=()=>{try{return hS()||mS()||vS()||yS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ny=n=>yf()?.emulatorHosts?.[n],_S=n=>{const t=ny(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},ry=()=>yf()?.config,iy=n=>yf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[jh(JSON.stringify(e)),jh(JSON.stringify(o)),""].join(".")}const Hu={};function AS(){const n={prod:[],emulator:[]};for(const t of Object.keys(Hu))Hu[t]?n.emulator.push(t):n.prod.push(t);return n}function SS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Bm=!1;function oy(n,t){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Hu[n]===t||Hu[n]||Bm)return;Hu[n]=t;function e(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=AS().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,p){v.setAttribute("width","24"),v.setAttribute("id",p),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Bm=!0,o()},v}function f(v,p){v.setAttribute("id",p),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=SS(r),p=e("text"),T=document.getElementById(p)||document.createElement("span"),L=e("learnmore"),R=document.getElementById(L)||document.createElement("a"),C=e("preprendIcon"),$=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const G=v.element;a(G),f(R,L);const z=u();l($,C),G.append($,T,R,z),document.body.appendChild(G)}s?(T.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function IS(){const n=yf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const n=Or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class co extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=kS,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?OS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new co(i,a,r)}}function OS(n,t){return n.replace(DS,(e,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const DS=/\{\$([^}]+)}/g;function MS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function $a(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const s=n[i],o=t[i];if(jm(s)&&jm(o)){if(!$a(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function jm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function FS(n,t){const e=new VS(n,t);return e.subscribe.bind(e)}class VS{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");BS(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=fd),i.error===void 0&&(i.error=fd),i.complete===void 0&&(i.complete=fd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(n){return n&&n._delegate?n._delegate:n}class Ga{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new wS;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qS(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:US(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(n){return n===Da?void 0:n}function qS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new jS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const HS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},WS=Me.INFO,$S={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},GS=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=$S[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=WS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}const KS=(n,t)=>t.some(e=>n instanceof e);let Um,qm;function YS(){return Um||(Um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return qm||(qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ay=new WeakMap,dp=new WeakMap,ly=new WeakMap,dd=new WeakMap,Sg=new WeakMap;function XS(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Qo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&ay.set(e,n)}).catch(()=>{}),Sg.set(t,n),t}function QS(n){if(dp.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});dp.set(n,t)}let pp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return dp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ly.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ZS(n){pp=n(pp)}function tE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(pd(this),t,...e);return ly.set(r,t.sort?t.sort():[t]),Qo(r)}:JS().includes(n)?function(...t){return n.apply(pd(this),t),Qo(ay.get(this))}:function(...t){return Qo(n.apply(pd(this),t))}}function eE(n){return typeof n=="function"?tE(n):(n instanceof IDBTransaction&&QS(n),KS(n,YS())?new Proxy(n,pp):n)}function Qo(n){if(n instanceof IDBRequest)return XS(n);if(dd.has(n))return dd.get(n);const t=eE(n);return t!==n&&(dd.set(n,t),Sg.set(t,n)),t}const pd=n=>Sg.get(n);function nE(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,t),a=Qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qo(o.result),l.oldVersion,l.newVersion,Qo(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const rE=["get","getKey","getAll","getAllKeys","count"],iE=["put","add","delete","clear"],gd=new Map;function zm(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=iE.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rE.includes(e)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[e](...a),i&&l.done]))[0]};return gd.set(t,s),s}ZS(n=>({...n,get:(t,e,r)=>zm(t,e)||n.get(t,e,r),has:(t,e)=>!!zm(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(oE(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function oE(n){return n.getComponent()?.type==="VERSION"}const gp="@firebase/app",Hm="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Ag("@firebase/app"),aE="@firebase/app-compat",lE="@firebase/analytics-compat",uE="@firebase/analytics",cE="@firebase/app-check-compat",hE="@firebase/app-check",fE="@firebase/auth",dE="@firebase/auth-compat",pE="@firebase/database",gE="@firebase/data-connect",mE="@firebase/database-compat",vE="@firebase/functions",yE="@firebase/functions-compat",_E="@firebase/installations",wE="@firebase/installations-compat",bE="@firebase/messaging",AE="@firebase/messaging-compat",SE="@firebase/performance",EE="@firebase/performance-compat",IE="@firebase/remote-config",TE="@firebase/remote-config-compat",xE="@firebase/storage",PE="@firebase/storage-compat",NE="@firebase/firestore",CE="@firebase/ai",LE="@firebase/firestore-compat",RE="firebase",kE="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",OE={[gp]:"fire-core",[aE]:"fire-core-compat",[uE]:"fire-analytics",[lE]:"fire-analytics-compat",[hE]:"fire-app-check",[cE]:"fire-app-check-compat",[fE]:"fire-auth",[dE]:"fire-auth-compat",[pE]:"fire-rtdb",[gE]:"fire-data-connect",[mE]:"fire-rtdb-compat",[vE]:"fire-fn",[yE]:"fire-fn-compat",[_E]:"fire-iid",[wE]:"fire-iid-compat",[bE]:"fire-fcm",[AE]:"fire-fcm-compat",[SE]:"fire-perf",[EE]:"fire-perf-compat",[IE]:"fire-rc",[TE]:"fire-rc-compat",[xE]:"fire-gcs",[PE]:"fire-gcs-compat",[NE]:"fire-fst",[LE]:"fire-fst-compat",[CE]:"fire-vertex","fire-js":"fire-js",[RE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,DE=new Map,vp=new Map;function Wm(n,t){try{n.container.addComponent(t)}catch(e){io.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function jl(n){const t=n.name;if(vp.has(t))return io.debug(`There were multiple attempts to register component ${t}.`),!1;vp.set(t,n);for(const e of ac.values())Wm(e,n);for(const e of DE.values())Wm(e,n);return!0}function Eg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ws(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new wc("app","Firebase",ME);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=kE;function _f(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:mp,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(e||(e=ry()),!e)throw Zo.create("no-options");const s=ac.get(i);if(s){if($a(e,s.options)&&$a(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}const o=new zS(i);for(const l of vp.values())o.addComponent(l);const a=new FE(e,r,o);return ac.set(i,a),a}function Ac(n=mp){const t=ac.get(n);if(!t&&n===mp&&ry())return _f();if(!t)throw Zo.create("no-app",{appName:n});return t}function Ig(){return Array.from(ac.values())}function ta(n,t,e){let r=OE[n]??n;e&&(r+=`-${e}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),io.warn(o.join(" "));return}jl(new Ga(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firebase-heartbeat-database",BE=1,lc="firebase-heartbeat-store";let md=null;function uy(){return md||(md=nE(VE,BE,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(lc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),md}async function jE(n){try{const e=(await uy()).transaction(lc),r=await e.objectStore(lc).get(cy(n));return await e.done,r}catch(t){if(t instanceof co)io.warn(t.message);else{const e=Zo.create("idb-get",{originalErrorMessage:t?.message});io.warn(e.message)}}}async function $m(n,t){try{const r=(await uy()).transaction(lc,"readwrite");await r.objectStore(lc).put(t,cy(n)),await r.done}catch(e){if(e instanceof co)io.warn(e.message);else{const r=Zo.create("idb-set",{originalErrorMessage:e?.message});io.warn(r.message)}}}function cy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=1024,qE=30;class zE{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WE(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>qE){const i=$E(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){io.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gm(),{heartbeatsToSend:e,unsentEntries:r}=HE(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return io.warn(t),""}}}function Gm(){return new Date().toISOString().substring(0,10)}function HE(n,t=UE){const e=[];let r=n.slice();for(const i of n){const s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Km(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),Km(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class WE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await jE(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Km(n){return jh(JSON.stringify({version:2,heartbeats:n})).length}function $E(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n){jl(new Ga("platform-logger",t=>new sE(t),"PRIVATE")),jl(new Ga("heartbeat",t=>new zE(t),"PRIVATE")),ta(gp,Hm,n),ta(gp,Hm,"esm2020"),ta("fire-js","")}GE("");function hy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KE=hy,fy=new wc("auth","Firebase",hy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Ag("@firebase/auth");function YE(n,...t){Uh.logLevel<=Me.WARN&&Uh.warn(`Auth (${Jl}): ${n}`,...t)}function _h(n,...t){Uh.logLevel<=Me.ERROR&&Uh.error(`Auth (${Jl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n,...t){throw Tg(n,...t)}function Is(n,...t){return Tg(n,...t)}function dy(n,t,e){const r={...KE(),[t]:e};return new wc("auth","Firebase",r).create(t,{appName:n.name})}function ja(n){return dy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return fy.create(n,...t)}function ye(n,t,...e){if(!n)throw Tg(t,...e)}function Zs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw _h(t),new Error(t)}function oo(n,t){n||Zs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){return typeof self<"u"&&self.location?.href||""}function JE(){return Ym()==="http:"||Ym()==="https:"}function Ym(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JE()||xS()||"connection"in navigator)?navigator.onLine:!0}function QE(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e){this.shortDelay=t,this.longDelay=e,oo(e>t,"Short delay should be less than long delay!"),this.isMobile=ES()||PS()}get(){return XE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n,t){oo(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e6=new Sc(3e4,6e4);function Pg(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Xl(n,t,e,r,i={}){return gy(n,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=bc({key:n.config.apiKey,...o}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u={method:t,headers:l,...s};return TS()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(u.credentials="include"),py.fetch()(await my(n,n.config.apiHost,e,a),u)})}async function gy(n,t,e){n._canInitEmulator=!1;const r={...ZE,...t};try{const i=new r6(n),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zc(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zc(n,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dy(n,f,u);so(n,f)}}catch(i){if(i instanceof co)throw i;so(n,"network-request-failed",{message:String(i)})}}async function n6(n,t,e,r,i={}){const s=await Xl(n,t,e,r,i);return"mfaPendingCredential"in s&&so(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function my(n,t,e,r){const i=`${t}${e}?${r}`,s=n,o=s.config.emulator?xg(n.config,i):`${n.config.apiScheme}://${i}`;return t6.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class r6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),e6.get())})}}function Zc(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Is(n,t,r);return i.customData._tokenResponse=e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(n,t){return Xl(n,"POST","/v1/accounts:delete",t)}async function qh(n,t){return Xl(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function s6(n,t=!1){const e=ho(n),r=await e.getIdToken(t),i=Ng(r);ye(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wu(vd(i.auth_time)),issuedAtTime:Wu(vd(i.iat)),expirationTime:Wu(vd(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function vd(n){return Number(n)*1e3}function Ng(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const i=ey(e);return i?JSON.parse(i):(_h("Failed to decode base64 JWT payload"),null)}catch(i){return _h("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Jm(n){const t=Ng(n);return ye(t,"internal-error"),ye(typeof t.exp<"u","internal-error"),ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof co&&o6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function o6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){const t=n.auth,e=await n.getIdToken(),r=await uc(n,qh(t,{idToken:e}));ye(r?.users.length,t,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?vy(i.providerUserInfo):[],o=u6(n.providerData,s),a=n.isAnonymous,l=!(n.email&&i.passwordHash)&&!o?.length,u=a?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _p(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function l6(n){const t=ho(n);await zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function u6(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function vy(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(n,t){const e=await gy(n,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await my(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(l.credentials="include"),py.fetch()(o,l)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function h6(n,t){return Xl(n,"POST","/v2/accounts:revokeToken",Pg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ye(t.idToken,"internal-error"),ye(typeof t.idToken<"u","internal-error"),ye(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jm(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ye(t.length!==0,"internal-error");const e=Jm(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:i,expiresIn:s}=await c6(t,e);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new xl;return r&&(ye(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n,t){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class zi{constructor({uid:t,auth:e,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _p(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await uc(this,this.stsTokenManager.getToken(this.auth,t));return ye(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return s6(this,t)}reload(){return l6(this)}_assign(t){this!==t&&(ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new zi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(ja(this.auth));const t=await this.getIdToken();return await uc(this,i6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,a=e.tenantId??void 0,l=e._redirectEventId??void 0,u=e.createdAt??void 0,f=e.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:p,providerData:T,stsTokenManager:L}=e;ye(g&&L,t,"internal-error");const R=xl.fromJSON(this.name,L);ye(typeof g=="string",t,"internal-error"),Mo(r,t.name),Mo(i,t.name),ye(typeof v=="boolean",t,"internal-error"),ye(typeof p=="boolean",t,"internal-error"),Mo(s,t.name),Mo(o,t.name),Mo(a,t.name),Mo(l,t.name),Mo(u,t.name),Mo(f,t.name);const C=new zi({uid:g,auth:t,email:i,emailVerified:v,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:R,createdAt:u,lastLoginAt:f});return T&&Array.isArray(T)&&(C.providerData=T.map($=>({...$}))),l&&(C._redirectEventId=l),C}static async _fromIdTokenResponse(t,e,r=!1){const i=new xl;i.updateFromServerResponse(e);const s=new zi({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await zh(s),s}static async _fromGetAccountInfoResponse(t,e,r){const i=e.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vy(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new xl;a.updateFromIdToken(r);const l=new zi({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map;function to(n){oo(n instanceof Function,"Expected a class definition");let t=Xm.get(n);return t?(oo(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Xm.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}yy.type="NONE";const Qm=yy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n,t,e){return`firebase:${n}:${t}:${e}`}class Pl{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wh(this.userKey,i.apiKey,s),this.fullPersistenceKey=wh("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await qh(this.auth,{idToken:t}).catch(()=>{});return e?zi._fromGetAccountInfoResponse(this.auth,e,t):null}return zi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Pl(to(Qm),t,r);const i=(await Promise.all(e.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||to(Qm);const o=wh(r,t.config.apiKey,t.name);let a=null;for(const u of e)try{const f=await u._get(o);if(f){let g;if(typeof f=="string"){const v=await qh(t,{idToken:f}).catch(()=>{});if(!v)break;g=await zi._fromGetAccountInfoResponse(t,v,f)}else g=zi._fromJSON(t,f);u!==s&&(a=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pl(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(e.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Pl(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ay(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_y(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ey(t))return"Blackberry";if(Iy(t))return"Webos";if(wy(t))return"Safari";if((t.includes("chrome/")||by(t))&&!t.includes("edge/"))return"Chrome";if(Sy(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function _y(n=Or()){return/firefox\//i.test(n)}function wy(n=Or()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function by(n=Or()){return/crios\//i.test(n)}function Ay(n=Or()){return/iemobile/i.test(n)}function Sy(n=Or()){return/android/i.test(n)}function Ey(n=Or()){return/blackberry/i.test(n)}function Iy(n=Or()){return/webos/i.test(n)}function Cg(n=Or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function f6(n=Or()){return Cg(n)&&!!window.navigator?.standalone}function d6(){return NS()&&document.documentMode===10}function Ty(n=Or()){return Cg(n)||Sy(n)||Iy(n)||Ey(n)||/windows phone/i.test(n)||Ay(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n,t=[]){let e;switch(n){case"Browser":e=Zm(Or());break;case"Worker":e=`${Zm(Or())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(n,t={}){return Xl(n,"GET","/v2/passwordPolicy",Pg(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=6;class v6{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??m6,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new p6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=to(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qh(this,{idToken:t}),r=await zi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ws(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ws(this.app))return Promise.reject(ja(this));const e=t?ho(t):null;return e&&ye(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ws(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await g6(this),e=new v6(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await h6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&to(t)||this._popupRedirectResolver;ye(e,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[to(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(e);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lg(n){return ho(n)}class t0{constructor(t){this.auth=t,this.observer=null,this.addObserver=FS(e=>this.observer=e)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _6(n){Rg=n}function w6(n){return Rg.loadJS(n)}function b6(){return Rg.gapiScript}function A6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n,t){const e=Eg(n,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if($a(s,t??{}))return i;so(i,"already-initialized")}return e.initialize({options:t})}function E6(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(to);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function I6(n,t,e){const r=Lg(n);ye(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=Py(t),{host:o,port:a}=T6(t),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye($a(u,r.config.emulator)&&$a(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Yl(o)?(sy(`${s}//${o}${l}`),oy("Auth",!0)):x6()}function Py(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function T6(n){const t=Py(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:e0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:e0(o)}}}function e0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function x6(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Zs("not implemented")}_getIdTokenResponse(t){return Zs("not implemented")}_linkToIdToken(t,e){return Zs("not implemented")}_getReauthenticationResolver(t){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n,t){return n6(n,"POST","/v1/accounts:signInWithIdp",Pg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="http://localhost";class Ka extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ka(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):so("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=e;if(!r||!i)return null;const o=new Ka(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Nl(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Nl(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nl(t,e)}buildRequest(){const t={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=bc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Cy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Ec{constructor(){super("facebook.com")}static credential(t){return Ka._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ho.credentialFromTaggedObject(t)}static credentialFromError(t){return Ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ho.credential(t.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ka._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Wo.credentialFromTaggedObject(t)}static credentialFromError(t){return Wo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Wo.credential(e,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Ec{constructor(){super("github.com")}static credential(t){return Ka._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $o.credentialFromTaggedObject(t)}static credentialFromError(t){return $o.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $o.credential(t.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ec{constructor(){super("twitter.com")}static credential(t,e){return Ka._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Go.credentialFromTaggedObject(t)}static credentialFromError(t){return Go.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Go.credential(e,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){const s=await zi._fromIdTokenResponse(t,r,i),o=n0(r);return new Ul({user:s,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const i=n0(r);return new Ul({user:t,providerId:i,_tokenResponse:r,operationType:e})}}function n0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends co{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new Hh(t,e,r,i)}}function Ly(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(n,s,t,r):s})}async function N6(n,t,e=!1){const r=await uc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ul._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(n,t,e=!1){const{auth:r}=n;if(ws(r.app))return Promise.reject(ja(r));const i="reauthenticate";try{const s=await uc(n,Ly(r,i,t,n),e);ye(s.idToken,r,"internal-error");const o=Ng(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(n.uid===a,r,"user-mismatch"),Ul._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&so(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(n,t,e=!1){if(ws(n.app))return Promise.reject(ja(n));const r="signIn",i=await Ly(n,r,t),s=await Ul._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(s.user),s}function R6(n,t,e,r){return ho(n).onIdTokenChanged(t,e,r)}function k6(n,t,e){return ho(n).beforeAuthStateChanged(t,e)}function O6(n,t,e,r){return ho(n).onAuthStateChanged(t,e,r)}function D6(n){return ho(n).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,F6=10;class ky extends Ry{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ty(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),i=this.localCache[e];r!==i&&t(e,i,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!e&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);d6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,F6):i()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ky.type="LOCAL";const V6=ky;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ry{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Oy.type="SESSION";const Dy=Oy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const r=new wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:i,data:s}=e.data,o=this.handlersMap[i];if(!o?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(e.origin,s)),l=await B6(a);e.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=kg("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function U6(n){Ts().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function q6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){return navigator?.serviceWorker?.controller||null}function H6(){return My()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="firebaseLocalStorageDb",W6=1,$h="firebaseLocalStorage",Vy="fbase_key";class Ic{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function bf(n,t){return n.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function $6(){const n=indexedDB.deleteDatabase(Fy);return new Ic(n).toPromise()}function wp(){const n=indexedDB.open(Fy,W6);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($h,{keyPath:Vy})}catch(i){e(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($h)?t(r):(r.close(),await $6(),t(await wp()))})})}async function r0(n,t,e){const r=bf(n,!0).put({[Vy]:t,value:e});return new Ic(r).toPromise()}async function G6(n,t){const e=bf(n,!1).get(t),r=await new Ic(e).toPromise();return r===void 0?null:r.value}function i0(n,t){const e=bf(n,!0).delete(t);return new Ic(e).toPromise()}const K6=800,Y6=3;class By{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>Y6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return My()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(H6()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q6(),!this.activeServiceWorker)return;this.sender=new j6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wp();return await r0(t,Wh,"1"),await i0(t,Wh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>r0(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>G6(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>i0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=bf(i,!1).getAll();return new Ic(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}By.type="LOCAL";const J6=By;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(n,t){return t?to(t):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Ny{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Q6(n){return L6(n.auth,new Og(n),n.bypassAuthState)}function Z6(n){const{auth:t,user:e}=n;return ye(e,t,"internal-error"),C6(e,new Og(n),n.bypassAuthState)}async function tI(n){const{auth:t,user:e}=n;return ye(e,t,"internal-error"),N6(e,new Og(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Q6;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return Z6;default:so(this.auth,"internal-error")}}resolve(t){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Sc(2e3,1e4);class bl extends jy{constructor(t,e,r,i,s){super(t,e,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ye(t,this.auth,"internal-error"),t}async onExecution(){oo(this.filter.length===1,"Popup operations only handle one event");const t=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eI.get())};t()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="pendingRedirect",bh=new Map;class rI extends jy{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=bh.get(this.auth._key());if(!t){try{const r=await iI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}bh.set(this.auth._key(),t)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iI(n,t){const e=aI(t),r=oI(n);if(!await r._isAvailable())return!1;const i=await r._get(e)==="true";return await r._remove(e),i}function sI(n,t){bh.set(n._key(),t)}function oI(n){return to(n._redirectPersistence)}function aI(n){return wh(nI,n.config.apiKey,n.name)}async function lI(n,t,e=!1){if(ws(n.app))return Promise.reject(ja(n));const r=Lg(n),i=X6(r,t),o=await new rI(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=600*1e3;class cI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Uy(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Is(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uI&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(t))}saveEventToCache(t){this.cachedEventUids.add(s0(t)),this.lastProcessedEventTime=Date.now()}}function s0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Uy({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function hI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uy(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(n,t={}){return Xl(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pI=/^https?/;async function gI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await fI(n);for(const e of t)try{if(mI(e))return}catch{}so(n,"unauthorized-domain")}function mI(n){const t=yp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!pI.test(e))return!1;if(dI.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Sc(3e4,6e4);function o0(){const n=Ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function yI(n){return new Promise((t,e)=>{function r(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),e(Is(n,"network-request-failed"))},timeout:vI.get()})}if(Ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ts().gapi?.load)r();else{const i=A6("iframefcb");return Ts()[i]=()=>{gapi.load?r():e(Is(n,"network-request-failed"))},w6(`${b6()}?onload=${i}`).catch(s=>e(s))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function _I(n){return Ah=Ah||yI(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Sc(5e3,15e3),bI="__/auth/iframe",AI="emulator/auth/iframe",SI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(n){const t=n.config;ye(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xg(t,AI):`https://${n.config.authDomain}/${bI}`,r={apiKey:t.apiKey,appName:n.name,v:Jl},i=EI.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${bc(r).slice(1)}`}async function TI(n){const t=await _I(n),e=Ts().gapi;return ye(e,n,"internal-error"),t.open({where:document.body,url:II(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SI,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Is(n,"network-request-failed"),a=Ts().setTimeout(()=>{s(o)},wI.get());function l(){Ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,NI=600,CI="_blank",LI="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(n,t,e,r=PI,i=NI){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...xI,width:r.toString(),height:i.toString(),top:s,left:o},u=Or().toLowerCase();e&&(a=by(u)?CI:e),_y(u)&&(t=t||LI,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[p,T])=>`${v}${p}=${T},`,"");if(f6(u)&&a!=="_self")return kI(t||"",a),new a0(null);const g=window.open(t||"",a,f);ye(g,n,"popup-blocked");try{g.focus()}catch{}return new a0(g)}function kI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__/auth/handler",DI="emulator/auth/handler",MI=encodeURIComponent("fac");async function l0(n,t,e,r,i,s){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Jl,eventId:i};if(t instanceof Cy){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",MS(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(t instanceof Ec){const f=t.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await n._getAppCheckToken(),u=l?`#${MI}=${encodeURIComponent(l)}`:"";return`${FI(n)}?${bc(a).slice(1)}${u}`}function FI({config:n}){return n.emulator?xg(n,DI):`https://${n.authDomain}/${OI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dy,this._completeRedirectFn=lI,this._overrideRedirectResult=sI}async _openPopup(t,e,r,i){oo(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await l0(t,e,r,yp(),i);return RI(t,s,kg())}async _openRedirect(t,e,r,i){await this._originValidation(t);const s=await l0(t,e,r,yp(),i);return U6(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(oo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await TI(t),r=new cI(t);return e.register("authEvent",i=>(ye(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yd,{type:yd},i=>{const s=i?.[0]?.[yd];s!==void 0&&e(!!s),so(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=gI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ty()||wy()||Cg()}}const BI=VI;var u0="@firebase/auth",c0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(n){jl(new Ga("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xy(n)},u=new y6(r,i,s,l);return E6(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),jl(new Ga("auth-internal",t=>{const e=Lg(t.getProvider("auth").getImmediate());return(r=>new jI(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(u0,c0,UI(n)),ta(u0,c0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=300,HI=iy("authIdTokenMaxAge")||zI;let h0=null;const WI=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>HI)return;const i=e?.token;h0!==i&&(h0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qy(n=Ac()){const t=Eg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=S6(n,{popupRedirectResolver:BI,persistence:[J6,V6,Dy]}),r=iy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=WI(s.toString());k6(e,o,()=>o(e.currentUser)),R6(e,a=>o(a))}}const i=ny("auth");return i&&I6(e,`http://${i}`),e}function $I(){return document.getElementsByTagName("head")?.[0]??document}_6({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const s=Is("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",$I().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");var GI="firebase",KI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(GI,KI,"app");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,zy;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(U,x){function S(){}S.prototype=x.prototype,U.D=x.prototype,U.prototype=new S,U.prototype.constructor=U,U.C=function(F,b,E){for(var I=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)I[tt-2]=arguments[tt];return x.prototype[b].apply(F,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,x,S){S||(S=0);var F=Array(16);if(typeof x=="string")for(var b=0;16>b;++b)F[b]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(b=0;16>b;++b)F[b]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=U.g[0],S=U.g[1],b=U.g[2];var E=U.g[3],I=x+(E^S&(b^E))+F[0]+3614090360&4294967295;x=S+(I<<7&4294967295|I>>>25),I=E+(b^x&(S^b))+F[1]+3905402710&4294967295,E=x+(I<<12&4294967295|I>>>20),I=b+(S^E&(x^S))+F[2]+606105819&4294967295,b=E+(I<<17&4294967295|I>>>15),I=S+(x^b&(E^x))+F[3]+3250441966&4294967295,S=b+(I<<22&4294967295|I>>>10),I=x+(E^S&(b^E))+F[4]+4118548399&4294967295,x=S+(I<<7&4294967295|I>>>25),I=E+(b^x&(S^b))+F[5]+1200080426&4294967295,E=x+(I<<12&4294967295|I>>>20),I=b+(S^E&(x^S))+F[6]+2821735955&4294967295,b=E+(I<<17&4294967295|I>>>15),I=S+(x^b&(E^x))+F[7]+4249261313&4294967295,S=b+(I<<22&4294967295|I>>>10),I=x+(E^S&(b^E))+F[8]+1770035416&4294967295,x=S+(I<<7&4294967295|I>>>25),I=E+(b^x&(S^b))+F[9]+2336552879&4294967295,E=x+(I<<12&4294967295|I>>>20),I=b+(S^E&(x^S))+F[10]+4294925233&4294967295,b=E+(I<<17&4294967295|I>>>15),I=S+(x^b&(E^x))+F[11]+2304563134&4294967295,S=b+(I<<22&4294967295|I>>>10),I=x+(E^S&(b^E))+F[12]+1804603682&4294967295,x=S+(I<<7&4294967295|I>>>25),I=E+(b^x&(S^b))+F[13]+4254626195&4294967295,E=x+(I<<12&4294967295|I>>>20),I=b+(S^E&(x^S))+F[14]+2792965006&4294967295,b=E+(I<<17&4294967295|I>>>15),I=S+(x^b&(E^x))+F[15]+1236535329&4294967295,S=b+(I<<22&4294967295|I>>>10),I=x+(b^E&(S^b))+F[1]+4129170786&4294967295,x=S+(I<<5&4294967295|I>>>27),I=E+(S^b&(x^S))+F[6]+3225465664&4294967295,E=x+(I<<9&4294967295|I>>>23),I=b+(x^S&(E^x))+F[11]+643717713&4294967295,b=E+(I<<14&4294967295|I>>>18),I=S+(E^x&(b^E))+F[0]+3921069994&4294967295,S=b+(I<<20&4294967295|I>>>12),I=x+(b^E&(S^b))+F[5]+3593408605&4294967295,x=S+(I<<5&4294967295|I>>>27),I=E+(S^b&(x^S))+F[10]+38016083&4294967295,E=x+(I<<9&4294967295|I>>>23),I=b+(x^S&(E^x))+F[15]+3634488961&4294967295,b=E+(I<<14&4294967295|I>>>18),I=S+(E^x&(b^E))+F[4]+3889429448&4294967295,S=b+(I<<20&4294967295|I>>>12),I=x+(b^E&(S^b))+F[9]+568446438&4294967295,x=S+(I<<5&4294967295|I>>>27),I=E+(S^b&(x^S))+F[14]+3275163606&4294967295,E=x+(I<<9&4294967295|I>>>23),I=b+(x^S&(E^x))+F[3]+4107603335&4294967295,b=E+(I<<14&4294967295|I>>>18),I=S+(E^x&(b^E))+F[8]+1163531501&4294967295,S=b+(I<<20&4294967295|I>>>12),I=x+(b^E&(S^b))+F[13]+2850285829&4294967295,x=S+(I<<5&4294967295|I>>>27),I=E+(S^b&(x^S))+F[2]+4243563512&4294967295,E=x+(I<<9&4294967295|I>>>23),I=b+(x^S&(E^x))+F[7]+1735328473&4294967295,b=E+(I<<14&4294967295|I>>>18),I=S+(E^x&(b^E))+F[12]+2368359562&4294967295,S=b+(I<<20&4294967295|I>>>12),I=x+(S^b^E)+F[5]+4294588738&4294967295,x=S+(I<<4&4294967295|I>>>28),I=E+(x^S^b)+F[8]+2272392833&4294967295,E=x+(I<<11&4294967295|I>>>21),I=b+(E^x^S)+F[11]+1839030562&4294967295,b=E+(I<<16&4294967295|I>>>16),I=S+(b^E^x)+F[14]+4259657740&4294967295,S=b+(I<<23&4294967295|I>>>9),I=x+(S^b^E)+F[1]+2763975236&4294967295,x=S+(I<<4&4294967295|I>>>28),I=E+(x^S^b)+F[4]+1272893353&4294967295,E=x+(I<<11&4294967295|I>>>21),I=b+(E^x^S)+F[7]+4139469664&4294967295,b=E+(I<<16&4294967295|I>>>16),I=S+(b^E^x)+F[10]+3200236656&4294967295,S=b+(I<<23&4294967295|I>>>9),I=x+(S^b^E)+F[13]+681279174&4294967295,x=S+(I<<4&4294967295|I>>>28),I=E+(x^S^b)+F[0]+3936430074&4294967295,E=x+(I<<11&4294967295|I>>>21),I=b+(E^x^S)+F[3]+3572445317&4294967295,b=E+(I<<16&4294967295|I>>>16),I=S+(b^E^x)+F[6]+76029189&4294967295,S=b+(I<<23&4294967295|I>>>9),I=x+(S^b^E)+F[9]+3654602809&4294967295,x=S+(I<<4&4294967295|I>>>28),I=E+(x^S^b)+F[12]+3873151461&4294967295,E=x+(I<<11&4294967295|I>>>21),I=b+(E^x^S)+F[15]+530742520&4294967295,b=E+(I<<16&4294967295|I>>>16),I=S+(b^E^x)+F[2]+3299628645&4294967295,S=b+(I<<23&4294967295|I>>>9),I=x+(b^(S|~E))+F[0]+4096336452&4294967295,x=S+(I<<6&4294967295|I>>>26),I=E+(S^(x|~b))+F[7]+1126891415&4294967295,E=x+(I<<10&4294967295|I>>>22),I=b+(x^(E|~S))+F[14]+2878612391&4294967295,b=E+(I<<15&4294967295|I>>>17),I=S+(E^(b|~x))+F[5]+4237533241&4294967295,S=b+(I<<21&4294967295|I>>>11),I=x+(b^(S|~E))+F[12]+1700485571&4294967295,x=S+(I<<6&4294967295|I>>>26),I=E+(S^(x|~b))+F[3]+2399980690&4294967295,E=x+(I<<10&4294967295|I>>>22),I=b+(x^(E|~S))+F[10]+4293915773&4294967295,b=E+(I<<15&4294967295|I>>>17),I=S+(E^(b|~x))+F[1]+2240044497&4294967295,S=b+(I<<21&4294967295|I>>>11),I=x+(b^(S|~E))+F[8]+1873313359&4294967295,x=S+(I<<6&4294967295|I>>>26),I=E+(S^(x|~b))+F[15]+4264355552&4294967295,E=x+(I<<10&4294967295|I>>>22),I=b+(x^(E|~S))+F[6]+2734768916&4294967295,b=E+(I<<15&4294967295|I>>>17),I=S+(E^(b|~x))+F[13]+1309151649&4294967295,S=b+(I<<21&4294967295|I>>>11),I=x+(b^(S|~E))+F[4]+4149444226&4294967295,x=S+(I<<6&4294967295|I>>>26),I=E+(S^(x|~b))+F[11]+3174756917&4294967295,E=x+(I<<10&4294967295|I>>>22),I=b+(x^(E|~S))+F[2]+718787259&4294967295,b=E+(I<<15&4294967295|I>>>17),I=S+(E^(b|~x))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+x&4294967295,U.g[1]=U.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,U.g[2]=U.g[2]+b&4294967295,U.g[3]=U.g[3]+E&4294967295}r.prototype.u=function(U,x){x===void 0&&(x=U.length);for(var S=x-this.blockSize,F=this.B,b=this.h,E=0;E<x;){if(b==0)for(;E<=S;)i(this,U,E),E+=this.blockSize;if(typeof U=="string"){for(;E<x;)if(F[b++]=U.charCodeAt(E++),b==this.blockSize){i(this,F),b=0;break}}else for(;E<x;)if(F[b++]=U[E++],b==this.blockSize){i(this,F),b=0;break}}this.h=b,this.o+=x},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var x=1;x<U.length-8;++x)U[x]=0;var S=8*this.o;for(x=U.length-8;x<U.length;++x)U[x]=S&255,S/=256;for(this.u(U),U=Array(16),x=S=0;4>x;++x)for(var F=0;32>F;F+=8)U[S++]=this.g[x]>>>F&255;return U};function s(U,x){var S=a;return Object.prototype.hasOwnProperty.call(S,U)?S[U]:S[U]=x(U)}function o(U,x){this.h=x;for(var S=[],F=!0,b=U.length-1;0<=b;b--){var E=U[b]|0;F&&E==x||(S[b]=E,F=!1)}this.g=S}var a={};function l(U){return-128<=U&&128>U?s(U,function(x){return new o([x|0],0>x?-1:0)}):new o([U|0],0>U?-1:0)}function u(U){if(isNaN(U)||!isFinite(U))return g;if(0>U)return R(u(-U));for(var x=[],S=1,F=0;U>=S;F++)x[F]=U/S|0,S*=4294967296;return new o(x,0)}function f(U,x){if(U.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U.charAt(0)=="-")return R(f(U.substring(1),x));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(x,8)),F=g,b=0;b<U.length;b+=8){var E=Math.min(8,U.length-b),I=parseInt(U.substring(b,b+E),x);8>E?(E=u(Math.pow(x,E)),F=F.j(E).add(u(I))):(F=F.j(S),F=F.add(u(I)))}return F}var g=l(0),v=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(L(this))return-R(this).m();for(var U=0,x=1,S=0;S<this.g.length;S++){var F=this.i(S);U+=(0<=F?F:4294967296+F)*x,x*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(T(this))return"0";if(L(this))return"-"+R(this).toString(U);for(var x=u(Math.pow(U,6)),S=this,F="";;){var b=z(S,x).g;S=C(S,b.j(x));var E=((0<S.g.length?S.g[0]:S.h)>>>0).toString(U);if(S=b,T(S))return E+F;for(;6>E.length;)E="0"+E;F=E+F}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function T(U){if(U.h!=0)return!1;for(var x=0;x<U.g.length;x++)if(U.g[x]!=0)return!1;return!0}function L(U){return U.h==-1}n.l=function(U){return U=C(this,U),L(U)?-1:T(U)?0:1};function R(U){for(var x=U.g.length,S=[],F=0;F<x;F++)S[F]=~U.g[F];return new o(S,~U.h).add(v)}n.abs=function(){return L(this)?R(this):this},n.add=function(U){for(var x=Math.max(this.g.length,U.g.length),S=[],F=0,b=0;b<=x;b++){var E=F+(this.i(b)&65535)+(U.i(b)&65535),I=(E>>>16)+(this.i(b)>>>16)+(U.i(b)>>>16);F=I>>>16,E&=65535,I&=65535,S[b]=I<<16|E}return new o(S,S[S.length-1]&-2147483648?-1:0)};function C(U,x){return U.add(R(x))}n.j=function(U){if(T(this)||T(U))return g;if(L(this))return L(U)?R(this).j(R(U)):R(R(this).j(U));if(L(U))return R(this.j(R(U)));if(0>this.l(p)&&0>U.l(p))return u(this.m()*U.m());for(var x=this.g.length+U.g.length,S=[],F=0;F<2*x;F++)S[F]=0;for(F=0;F<this.g.length;F++)for(var b=0;b<U.g.length;b++){var E=this.i(F)>>>16,I=this.i(F)&65535,tt=U.i(b)>>>16,wt=U.i(b)&65535;S[2*F+2*b]+=I*wt,$(S,2*F+2*b),S[2*F+2*b+1]+=E*wt,$(S,2*F+2*b+1),S[2*F+2*b+1]+=I*tt,$(S,2*F+2*b+1),S[2*F+2*b+2]+=E*tt,$(S,2*F+2*b+2)}for(F=0;F<x;F++)S[F]=S[2*F+1]<<16|S[2*F];for(F=x;F<2*x;F++)S[F]=0;return new o(S,0)};function $(U,x){for(;(U[x]&65535)!=U[x];)U[x+1]+=U[x]>>>16,U[x]&=65535,x++}function G(U,x){this.g=U,this.h=x}function z(U,x){if(T(x))throw Error("division by zero");if(T(U))return new G(g,g);if(L(U))return x=z(R(U),x),new G(R(x.g),R(x.h));if(L(x))return x=z(U,R(x)),new G(R(x.g),x.h);if(30<U.g.length){if(L(U)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var S=v,F=x;0>=F.l(U);)S=ct(S),F=ct(F);var b=Et(S,1),E=Et(F,1);for(F=Et(F,2),S=Et(S,2);!T(F);){var I=E.add(F);0>=I.l(U)&&(b=b.add(S),E=I),F=Et(F,1),S=Et(S,1)}return x=C(U,b.j(x)),new G(b,x)}for(b=g;0<=U.l(x);){for(S=Math.max(1,Math.floor(U.m()/x.m())),F=Math.ceil(Math.log(S)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),E=u(S),I=E.j(x);L(I)||0<I.l(U);)S-=F,E=u(S),I=E.j(x);T(E)&&(E=v),b=b.add(E),U=C(U,I)}return new G(b,U)}n.A=function(U){return z(this,U).h},n.and=function(U){for(var x=Math.max(this.g.length,U.g.length),S=[],F=0;F<x;F++)S[F]=this.i(F)&U.i(F);return new o(S,this.h&U.h)},n.or=function(U){for(var x=Math.max(this.g.length,U.g.length),S=[],F=0;F<x;F++)S[F]=this.i(F)|U.i(F);return new o(S,this.h|U.h)},n.xor=function(U){for(var x=Math.max(this.g.length,U.g.length),S=[],F=0;F<x;F++)S[F]=this.i(F)^U.i(F);return new o(S,this.h^U.h)};function ct(U){for(var x=U.g.length+1,S=[],F=0;F<x;F++)S[F]=U.i(F)<<1|U.i(F-1)>>>31;return new o(S,U.h)}function Et(U,x){var S=x>>5;x%=32;for(var F=U.g.length-S,b=[],E=0;E<F;E++)b[E]=0<x?U.i(E+S)>>>x|U.i(E+S+1)<<32-x:U.i(E+S);return new o(b,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ea=o}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hy,Cu,Wy,Sh,bp,$y,Gy,Ky;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,A){return h==Array.prototype||h==Object.prototype||(h[_]=A.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var _=0;_<h.length;++_){var A=h[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function i(h,_){if(_)t:{var A=r;h=h.split(".");for(var B=0;B<h.length-1;B++){var dt=h[B];if(!(dt in A))break t;A=A[dt]}h=h[h.length-1],B=A[h],_=_(B),_!=B&&_!=null&&t(A,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var A=0,B=!1,dt={next:function(){if(!B&&A<h.length){var bt=A++;return{value:_(bt,h[bt]),done:!1}}return B=!0,{done:!0,value:void 0}}};return dt[Symbol.iterator]=function(){return dt},dt}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function u(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,A){return h.call.apply(h.bind,arguments)}function g(h,_,A){if(!h)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var dt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dt,B),h.apply(_,dt)}}return function(){return h.apply(_,arguments)}}function v(h,_,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function p(h,_){var A=Array.prototype.slice.call(arguments,1);return function(){var B=A.slice();return B.push.apply(B,arguments),h.apply(this,B)}}function T(h,_){function A(){}A.prototype=_.prototype,h.aa=_.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(B,dt,bt){for(var zt=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)zt[Fe-2]=arguments[Fe];return _.prototype[dt].apply(B,zt)}}function L(h){const _=h.length;if(0<_){const A=Array(_);for(let B=0;B<_;B++)A[B]=h[B];return A}return[]}function R(h,_){for(let A=1;A<arguments.length;A++){const B=arguments[A];if(l(B)){const dt=h.length||0,bt=B.length||0;h.length=dt+bt;for(let zt=0;zt<bt;zt++)h[dt+zt]=B[zt]}else h.push(B)}}class C{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function $(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var ct=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Et(h,_,A){for(const B in h)_.call(A,h[B],B,h)}function U(h,_){for(const A in h)_.call(void 0,h[A],A,h)}function x(h){const _={};for(const A in h)_[A]=h[A];return _}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,_){let A,B;for(let dt=1;dt<arguments.length;dt++){B=arguments[dt];for(A in B)h[A]=B[A];for(let bt=0;bt<S.length;bt++)A=S[bt],Object.prototype.hasOwnProperty.call(B,A)&&(h[A]=B[A])}}function b(h){var _=1;h=h.split(":");const A=[];for(;0<_&&h.length;)A.push(h.shift()),_--;return h.length&&A.push(h.join(":")),A}function E(h){a.setTimeout(()=>{throw h},0)}function I(){var h=Tt;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class tt{constructor(){this.h=this.g=null}add(_,A){const B=wt.get();B.set(_,A),this.h?this.h.next=B:this.g=B,this.h=B}}var wt=new C(()=>new At,h=>h.reset());class At{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,at=!1,Tt=new tt,Vt=()=>{const h=a.Promise.resolve(void 0);mt=()=>{h.then(Ot)}};var Ot=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(A){E(A)}var _=wt;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}at=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};a.addEventListener("test",A,_),a.removeEventListener("test",A,_)}catch{}return h})();function rt(h,_){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,B=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(ct){t:{try{z(_.nodeName);var dt=!0;break t}catch{}dt=!1}dt||(_=null)}}else A=="mouseover"?_=h.fromElement:A=="mouseout"&&(_=h.toElement);this.relatedTarget=_,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ot[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&rt.aa.h.call(this)}}T(rt,K);var ot={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),it=0;function nt(h,_,A,B,dt){this.listener=h,this.proxy=null,this.src=_,this.type=A,this.capture=!!B,this.ha=dt,this.key=++it,this.da=this.fa=!1}function ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Nt(h){this.src=h,this.g={},this.h=0}Nt.prototype.add=function(h,_,A,B,dt){var bt=h.toString();h=this.g[bt],h||(h=this.g[bt]=[],this.h++);var zt=W(h,_,B,dt);return-1<zt?(_=h[zt],A||(_.fa=!1)):(_=new nt(_,this.src,bt,!!B,dt),_.fa=A,h.push(_)),_};function j(h,_){var A=_.type;if(A in h.g){var B=h.g[A],dt=Array.prototype.indexOf.call(B,_,void 0),bt;(bt=0<=dt)&&Array.prototype.splice.call(B,dt,1),bt&&(ut(_),h.g[A].length==0&&(delete h.g[A],h.h--))}}function W(h,_,A,B){for(var dt=0;dt<h.length;++dt){var bt=h[dt];if(!bt.da&&bt.listener==_&&bt.capture==!!A&&bt.ha==B)return dt}return-1}var H="closure_lm_"+(1e6*Math.random()|0),D={};function St(h,_,A,B,dt){if(Array.isArray(_)){for(var bt=0;bt<_.length;bt++)St(h,_[bt],A,B,dt);return null}return A=qt(A),h&&h[Q]?h.K(_,A,u(B)?!!B.capture:!1,dt):yt(h,_,A,!1,B,dt)}function yt(h,_,A,B,dt,bt){if(!_)throw Error("Invalid event type");var zt=u(dt)?!!dt.capture:!!dt,Fe=Pt(h);if(Fe||(h[H]=Fe=new Nt(h)),A=Fe.add(_,A,B,zt,bt),A.proxy)return A;if(B=xt(),A.proxy=B,B.src=h,B.listener=A,h.addEventListener)Z||(dt=zt),dt===void 0&&(dt=!1),h.addEventListener(_.toString(),B,dt);else if(h.attachEvent)h.attachEvent(pt(_.toString()),B);else if(h.addListener&&h.removeListener)h.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return A}function xt(){function h(A){return _.call(h.src,h.listener,A)}const _=jt;return h}function ft(h,_,A,B,dt){if(Array.isArray(_))for(var bt=0;bt<_.length;bt++)ft(h,_[bt],A,B,dt);else B=u(B)?!!B.capture:!!B,A=qt(A),h&&h[Q]?(h=h.i,_=String(_).toString(),_ in h.g&&(bt=h.g[_],A=W(bt,A,B,dt),-1<A&&(ut(bt[A]),Array.prototype.splice.call(bt,A,1),bt.length==0&&(delete h.g[_],h.h--)))):h&&(h=Pt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=W(_,A,B,dt)),(A=-1<h?_[h]:null)&&It(A))}function It(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Q])j(_.i,h);else{var A=h.type,B=h.proxy;_.removeEventListener?_.removeEventListener(A,B,h.capture):_.detachEvent?_.detachEvent(pt(A),B):_.addListener&&_.removeListener&&_.removeListener(B),(A=Pt(_))?(j(A,h),A.h==0&&(A.src=null,_[H]=null)):ut(h)}}}function pt(h){return h in D?D[h]:D[h]="on"+h}function jt(h,_){if(h.da)h=!0;else{_=new rt(_,this);var A=h.listener,B=h.ha||h.src;h.fa&&It(h),h=A.call(B,_)}return h}function Pt(h){return h=h[H],h instanceof Nt?h:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(h){return typeof h=="function"?h:(h[Ht]||(h[Ht]=function(_){return h.handleEvent(_)}),h[Ht])}function Ut(){k.call(this),this.i=new Nt(this),this.M=this,this.F=null}T(Ut,k),Ut.prototype[Q]=!0,Ut.prototype.removeEventListener=function(h,_,A,B){ft(this,h,_,A,B)};function Yt(h,_){var A,B=h.F;if(B)for(A=[];B;B=B.F)A.push(B);if(h=h.M,B=_.type||_,typeof _=="string")_=new K(_,h);else if(_ instanceof K)_.target=_.target||h;else{var dt=_;_=new K(B,h),F(_,dt)}if(dt=!0,A)for(var bt=A.length-1;0<=bt;bt--){var zt=_.g=A[bt];dt=Gt(zt,B,!0,_)&&dt}if(zt=_.g=h,dt=Gt(zt,B,!0,_)&&dt,dt=Gt(zt,B,!1,_)&&dt,A)for(bt=0;bt<A.length;bt++)zt=_.g=A[bt],dt=Gt(zt,B,!1,_)&&dt}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var A=h.g[_],B=0;B<A.length;B++)ut(A[B]);delete h.g[_],h.h--}}this.F=null},Ut.prototype.K=function(h,_,A,B){return this.i.add(String(h),_,!1,A,B)},Ut.prototype.L=function(h,_,A,B){return this.i.add(String(h),_,!0,A,B)};function Gt(h,_,A,B){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var dt=!0,bt=0;bt<_.length;++bt){var zt=_[bt];if(zt&&!zt.da&&zt.capture==A){var Fe=zt.listener,In=zt.ha||zt.src;zt.fa&&j(h.i,zt),dt=Fe.call(In,B)!==!1&&dt}}return dt&&!B.defaultPrevented}function Kt(h,_,A){if(typeof h=="function")A&&(h=v(h,A));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function Zt(h){h.g=Kt(()=>{h.g=null,h.i&&(h.i=!1,Zt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Jt extends k{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(h){k.call(this),this.h=h,this.g={}}T(Ae,k);var Ce=[];function ee(h){Et(h.g,function(_,A){this.g.hasOwnProperty(A)&&It(_)},h),h.g={}}Ae.prototype.N=function(){Ae.aa.N.call(this),ee(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=a.JSON.stringify,Le=a.JSON.parse,ce=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Te(){}Te.prototype.h=null;function _e(h){return h.h||(h.h=h.i())}function yn(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $e(){K.call(this,"d")}T($e,K);function pe(){K.call(this,"c")}T(pe,K);var ke={},Xi=null;function Dn(){return Xi=Xi||new Ut}ke.La="serverreachability";function wi(h){K.call(this,ke.La,h)}T(wi,K);function mr(h){const _=Dn();Yt(_,new wi(_))}ke.STAT_EVENT="statevent";function he(h,_){K.call(this,ke.STAT_EVENT,h),this.stat=_}T(he,K);function gn(h){const _=Dn();Yt(_,new he(_,h))}ke.Ma="timingevent";function bi(h,_){K.call(this,ke.Ma,h),this.size=_}T(bi,K);function rr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function _n(h,_,A,B,dt,bt){h.info(function(){if(h.g)if(bt)for(var zt="",Fe=bt.split("&"),In=0;In<Fe.length;In++){var Oe=Fe[In].split("=");if(1<Oe.length){var Re=Oe[0];Oe=Oe[1];var cn=Re.split("_");zt=2<=cn.length&&cn[1]=="type"?zt+(Re+"="+Oe+"&"):zt+(Re+"=redacted&")}}else zt=null;else zt=bt;return"XMLHTTP REQ ("+B+") [attempt "+dt+"]: "+_+`
`+A+`
`+zt})}function $n(h,_,A,B,dt,bt,zt){h.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+dt+"]: "+_+`
`+A+`
`+bt+" "+zt})}function wn(h,_,A,B){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qi(h,A)+(B?" "+B:"")})}function Rs(h,_){h.info(function(){return"TIMEOUT: "+_})}ir.prototype.info=function(){};function Qi(h,_){if(!h.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var B=A[h];if(!(2>B.length)){var dt=B[1];if(Array.isArray(dt)&&!(1>dt.length)){var bt=dt[0];if(bt!="noop"&&bt!="stop"&&bt!="close")for(var zt=1;zt<dt.length;zt++)dt[zt]=""}}}}return ie(A)}catch{return _}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function yr(){}T(yr,Te),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},Dr=new yr;function Mn(h,_,A,B){this.j=h,this.i=_,this.l=A,this.R=B||1,this.U=new Ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var ri={},Ri={};function ts(h,_,A){h.L=1,h.v=Ms(Mr(_)),h.m=A,h.P=!0,ks(h,null)}function ks(h,_){h.F=Date.now(),es(h),h.A=Mr(h.v);var A=h.A,B=h.R;Array.isArray(B)||(B=[String(B)]),ge(A.i,"t",B),h.C=0,A=h.j.J,h.h=new Zi,h.g=Cn(h.j,A?_:null,!h.m),0<h.O&&(h.M=new Jt(v(h.Y,h,h.g),h.O)),_=h.U,A=h.g,B=h.ca;var dt="readystatechange";Array.isArray(dt)||(dt&&(Ce[0]=dt.toString()),dt=Ce);for(var bt=0;bt<dt.length;bt++){var zt=St(A,dt[bt],B||_.handleEvent,!1,_.h||_);if(!zt)break;_.g[zt.key]=zt}_=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),mr(),_n(h.i,h.u,h.A,h.l,h.R,h.m)}Mn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Yr(h)==3?_.j():this.Y(h)},Mn.prototype.Y=function(h){try{if(h==this.g)t:{const cn=Yr(this.g);var _=this.g.Ba();const ai=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||cn!=4||_==7||(_==8||0>=ai?mr(3):mr(2)),fo(this);var A=this.g.Z();this.X=A;e:if(Os(this)){var B=Ea(this.g);h="";var dt=B.length,bt=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),sr(this);var zt="";break e}this.h.i=new a.TextDecoder}for(_=0;_<dt;_++)this.h.h=!0,h+=this.h.i.decode(B[_],{stream:!(bt&&_==dt-1)});B.length=0,this.h.g+=h,this.C=0,zt=this.h.g}else zt=this.g.oa();if(this.o=A==200,$n(this.i,this.u,this.A,this.l,this.R,cn,A),this.o){if(this.T&&!this.K){e:{if(this.g){var Fe,In=this.g;if((Fe=In.g?In.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Fe)){var Oe=Fe;break e}}Oe=null}if(A=Oe)wn(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,A);else{this.o=!1,this.s=3,gn(12),ii(this),sr(this);break t}}if(this.P){A=!0;let _r;for(;!this.J&&this.C<zt.length;)if(_r=nu(this,zt),_r==Ri){cn==4&&(this.s=4,gn(14),A=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==ri){this.s=4,gn(15),wn(this.i,this.l,zt,"[Invalid Chunk]"),A=!1;break}else wn(this.i,this.l,_r,null),po(this,_r);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||zt.length!=0||this.h.h||(this.s=1,gn(16),A=!1),this.o=this.o&&A,!A)wn(this.i,this.l,zt,"[Invalid Chunked Response]"),ii(this),sr(this);else if(0<zt.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+zt.length),Xt(Re),Re.M=!0,gn(11))}}else wn(this.i,this.l,zt,null),po(this,zt);cn==4&&ii(this),this.o&&!this.J&&(cn==4?me(this.j,this):(this.o=!1,es(this)))}else Mi(this.g),A==400&&0<zt.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),ii(this),sr(this)}}}catch{}finally{}};function Os(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nu(h,_){var A=h.C,B=_.indexOf(`
`,A);return B==-1?Ri:(A=Number(_.substring(A,B)),isNaN(A)?ri:(B+=1,B+A>_.length?Ri:(_=_.slice(B,B+A),h.C=B+A,_)))}Mn.prototype.cancel=function(){this.J=!0,ii(this)};function es(h){h.S=Date.now()+h.I,da(h,h.I)}function da(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=rr(v(h.ba,h),_)}function fo(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Rs(this.i,this.A),this.L!=2&&(mr(),gn(17)),ii(this),this.s=2,sr(this)):da(this,this.S-h)};function sr(h){h.j.G==0||h.J||me(h.j,h)}function ii(h){fo(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,ee(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function po(h,_){try{var A=h.j;if(A.G!=0&&(A.g==h||ns(A.h,h))){if(!h.K&&ns(A.h,h)&&A.G==3){try{var B=A.Da.g.parse(_)}catch{B=null}if(Array.isArray(B)&&B.length==3){var dt=B;if(dt[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)fe(A),Ei(A);else break t;Mt(A),gn(18)}}else A.za=dt[1],0<A.za-A.T&&37500>dt[2]&&A.F&&A.v==0&&!A.C&&(A.C=rr(v(A.Za,A),6e3));if(1>=va(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ge(A,11)}else if((h.K||A.g==h)&&fe(A),!$(_))for(dt=A.Da.g.parse(_),_=0;_<dt.length;_++){let Oe=dt[_];if(A.T=Oe[0],Oe=Oe[1],A.G==2)if(Oe[0]=="c"){A.K=Oe[1],A.ia=Oe[2];const Re=Oe[3];Re!=null&&(A.la=Re,A.j.info("VER="+A.la));const cn=Oe[4];cn!=null&&(A.Aa=cn,A.j.info("SVER="+A.Aa));const ai=Oe[5];ai!=null&&typeof ai=="number"&&0<ai&&(B=1.5*ai,A.L=B,A.j.info("backChannelRequestTimeoutMs_="+B)),B=A;const _r=h.g;if(_r){const cr=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var bt=B.h;bt.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(bt.j=bt.l,bt.g=new Set,bt.h&&(ya(bt,bt.h),bt.h=null))}if(B.D){const Fi=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Fi&&(B.ya=Fi,De(B.I,B.D,Fi))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),B=A;var zt=h;if(B.qa=Ze(B,B.J?B.ia:null,B.W),zt.K){An(B.h,zt);var Fe=zt,In=B.L;In&&(Fe.I=In),Fe.B&&(fo(Fe),es(Fe)),B.g=zt}else Lt(B);0<A.i.length&&m(A)}else Oe[0]!="stop"&&Oe[0]!="close"||Ge(A,7);else A.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ge(A,7):bo(A):Oe[0]!="noop"&&A.l&&A.l.ta(Oe),A.v=0)}}mr(4)}catch{}}var pa=class{constructor(h,_){this.g=h,this.map=_}};function ga(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function va(h){return h.h?1:h.g?h.g.size:0}function ns(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ya(h,_){h.g?h.g.add(_):h.h=_}function An(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ga.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _a(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const A of h.g.values())_=_.concat(A.D);return _}return L(h.i)}function nl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var _=[],A=h.length,B=0;B<A;B++)_.push(h[B]);return _}_=[],A=0;for(B in h)_[A++]=h[B];return _}function ki(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var _=[];h=h.length;for(var A=0;A<h;A++)_.push(A);return _}_=[],A=0;for(const B in h)_[A++]=B;return _}}}function rs(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var A=ki(h),B=nl(h),dt=B.length,bt=0;bt<dt;bt++)_.call(void 0,B[bt],A&&A[bt],h)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(h,_){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var B=h[A].indexOf("="),dt=null;if(0<=B){var bt=h[A].substring(0,B);dt=h[A].substring(B+1)}else bt=h[A];_(bt,dt?decodeURIComponent(dt.replace(/\+/g," ")):"")}}}function Qe(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qe){this.h=h.h,go(this,h.j),this.o=h.o,this.g=h.g,mo(this,h.s),this.l=h.l;var _=h.i,A=new Kr;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),rl(this,A),this.m=h.m}else h&&(_=String(h).match($r))?(this.h=!1,go(this,_[1]||"",!0),this.o=is(_[2]||""),this.g=is(_[3]||"",!0),mo(this,_[4]),this.l=is(_[5]||"",!0),rl(this,_[6]||"",!0),this.m=is(_[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}Qe.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Gr(_,il,!0),":");var A=this.g;return(A||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Gr(_,il,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(Gr(A,A.charAt(0)=="/"?iu:ru,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",Gr(A,Fs)),h.join("")};function Mr(h){return new Qe(h)}function go(h,_,A){h.j=A?is(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function mo(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function rl(h,_,A){_ instanceof Kr?(h.i=_,su(h.i,h.h)):(A||(_=Gr(_,ba)),h.i=new Kr(_,h.h))}function De(h,_,A){h.i.set(_,A)}function Ms(h){return De(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function is(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gr(h,_,A){return typeof h=="string"?(h=encodeURI(h).replace(_,wa),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wa(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var il=/[#\/\?@]/g,ru=/[#\?:]/g,iu=/[#\?]/g,ba=/[#\?@]/g,Fs=/#/g;function Kr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Ai(h){h.g||(h.g=new Map,h.h=0,h.i&&Ds(h.i,function(_,A){h.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}n=Kr.prototype,n.add=function(h,_){Ai(this),this.i=null,h=os(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(_),this.h+=1,this};function ss(h,_){Ai(h),_=os(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function vo(h,_){return Ai(h),_=os(h,_),h.g.has(_)}n.forEach=function(h,_){Ai(this),this.g.forEach(function(A,B){A.forEach(function(dt){h.call(_,dt,B,this)},this)},this)},n.na=function(){Ai(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let B=0;B<_.length;B++){const dt=h[B];for(let bt=0;bt<dt.length;bt++)A.push(_[B])}return A},n.V=function(h){Ai(this);let _=[];if(typeof h=="string")vo(this,h)&&(_=_.concat(this.g.get(os(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)_=_.concat(h[A])}return _},n.set=function(h,_){return Ai(this),this.i=null,h=os(this,h),vo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function ge(h,_,A){ss(h,_),0<A.length&&(h.i=null,h.g.set(os(h,_),L(A)),h.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var B=_[A];const bt=encodeURIComponent(String(B)),zt=this.V(B);for(B=0;B<zt.length;B++){var dt=bt;zt[B]!==""&&(dt+="="+encodeURIComponent(String(zt[B]))),h.push(dt)}}return this.i=h.join("&")};function os(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function su(h,_){_&&!h.j&&(Ai(h),h.i=null,h.g.forEach(function(A,B){var dt=B.toLowerCase();B!=dt&&(ss(this,B),ge(this,dt,A))},h)),h.j=_}function ou(h,_){const A=new ir;if(a.Image){const B=new Image;B.onload=p(or,A,"TestLoadImage: loaded",!0,_,B),B.onerror=p(or,A,"TestLoadImage: error",!1,_,B),B.onabort=p(or,A,"TestLoadImage: abort",!1,_,B),B.ontimeout=p(or,A,"TestLoadImage: timeout",!1,_,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=h}else _(!1)}function au(h,_){const A=new ir,B=new AbortController,dt=setTimeout(()=>{B.abort(),or(A,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:B.signal}).then(bt=>{clearTimeout(dt),bt.ok?or(A,"TestPingServer: ok",!0,_):or(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(dt),or(A,"TestPingServer: error",!1,_)})}function or(h,_,A,B,dt){try{dt&&(dt.onload=null,dt.onerror=null,dt.onabort=null,dt.ontimeout=null),B(A)}catch{}}function Oi(){this.g=new ce}function lu(h,_,A){const B=A||"";try{rs(h,function(dt,bt){let zt=dt;u(dt)&&(zt=ie(dt)),_.push(B+bt+"="+encodeURIComponent(zt))})}catch(dt){throw _.push(B+"type="+encodeURIComponent("_badmap")),dt}}function yo(h){this.l=h.Ub||null,this.j=h.eb||!1}T(yo,Te),yo.prototype.g=function(){return new Di(this.l,this.j)},yo.prototype.i=(function(h){return function(){return h}})({});function Di(h,_){Ut.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Di,Ut),n=Di.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Si(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?si(this):Si(this),this.readyState==3&&_o(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,si(this))},n.Qa=function(h){this.g&&(this.response=h,si(this))},n.ga=function(){this.g&&si(this)};function si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Si(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=_.next();return h.join(`\r
`)};function Si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vs(h){let _="";return Et(h,function(A,B){_+=B,_+=":",_+=A,_+=`\r
`}),_}function Aa(h,_,A){t:{for(B in A){var B=!1;break t}B=!0}B||(A=Vs(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):De(h,_,A))}function sn(h){Ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(sn,Ut);var Sa=/^https?$/i,Bs=["POST","PUT"];n=sn.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,A,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?_e(this.o):_e(Dr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(bt){as(this,bt);return}if(h=A||"",A=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var dt in B)A.set(dt,B[dt]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const bt of B.keys())A.set(bt,B.get(bt));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(A.keys()).find(bt=>bt.toLowerCase()=="content-type"),dt=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bs,_,void 0))||B||dt||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[bt,zt]of A)this.g.setRequestHeader(bt,zt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(h),this.u=!1}catch(bt){as(this,bt)}};function as(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,wo(h),ls(h)}function wo(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),sn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},n.bb=function(){js(this)};function js(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Yr(h)!=4||h.Z()!=2)){if(h.u&&Yr(h)==4)Kt(h.Ea,0,h);else if(Yt(h,"readystatechange"),Yr(h)==4){h.h=!1;try{const zt=h.Z();t:switch(zt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var A;if(!(A=_)){var B;if(B=zt===0){var dt=String(h.D).match($r)[1]||null;!dt&&a.self&&a.self.location&&(dt=a.self.location.protocol.slice(0,-1)),B=!Sa.test(dt?dt.toLowerCase():"")}A=B}if(A)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var bt=2<Yr(h)?h.g.statusText:""}catch{bt=""}h.l=bt+" ["+h.Z()+"]",wo(h)}}finally{ls(h)}}}}function ls(h,_){if(h.g){us(h);const A=h.g,B=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Yt(h,"ready");try{A.onreadystatechange=B}catch{}}}function us(h){h.I&&(a.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Yr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Le(_)}};function Ea(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(h){const _={};h=(h.g&&2<=Yr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<h.length;B++){if($(h[B]))continue;var A=b(h[B]);const dt=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const bt=_[dt]||[];_[dt]=bt,bt.push(A)}U(_,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(h,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||_}function Ia(h){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,h),this.cb=Fr("retryDelaySeedMs",1e4,h),this.Wa=Fr("forwardChannelMaxRetries",2,h),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ga(h&&h.concurrentRequestLimit),this.Da=new Oi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(h,_,A,B){gn(0),this.W=h,this.H=_||{},A&&B!==void 0&&(this.H.OSID=A,this.H.OAID=B),this.F=this.X,this.I=Ze(this,null,this.W),m(this)};function bo(h){if(Ta(h),h.G==3){var _=h.U++,A=Mr(h.I);if(De(A,"SID",h.K),De(A,"RID",_),De(A,"TYPE","terminate"),et(h,A),_=new Mn(h,h.j,_),_.L=2,_.v=Ms(Mr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=_.v,A=!0),A||(_.g=Cn(_.j,null),_.g.ea(_.v)),_.F=Date.now(),es(_)}Sn(h)}function Ei(h){h.g&&(Xt(h),h.g.cancel(),h.g=null)}function Ta(h){Ei(h),h.u&&(a.clearTimeout(h.u),h.u=null),fe(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function m(h){if(!ma(h.h)&&!h.s){h.s=!0;var _=h.Ga;mt||Vt(),at||(mt(),at=!0),Tt.add(_,h),h.B=0}}function P(h,_){return va(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=rr(v(h.Ga,h,_),je(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const dt=new Mn(this,this.j,h);let bt=this.o;if(this.S&&(bt?(bt=x(bt),F(bt,this.S)):bt=this.S),this.m!==null||this.O||(dt.H=bt,bt=null),this.P)t:{for(var _=0,A=0;A<this.i.length;A++){e:{var B=this.i[A];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break e}B=void 0}if(B===void 0)break;if(_+=B,4096<_){_=A;break t}if(_===4096||A===this.i.length-1){_=A+1;break t}}_=1e3}else _=1e3;_=ht(this,dt,_),A=Mr(this.I),De(A,"RID",h),De(A,"CVER",22),this.D&&De(A,"X-HTTP-Session-Id",this.D),et(this,A),bt&&(this.O?_="headers="+encodeURIComponent(String(Vs(bt)))+"&"+_:this.m&&Aa(A,this.m,bt)),ya(this.h,dt),this.Ua&&De(A,"TYPE","init"),this.P?(De(A,"$req",_),De(A,"SID","null"),dt.T=!0,ts(dt,A,null)):ts(dt,A,_),this.G=2}}else this.G==3&&(h?Y(this,h):this.i.length==0||ma(this.h)||Y(this))};function Y(h,_){var A;_?A=_.l:A=h.U++;const B=Mr(h.I);De(B,"SID",h.K),De(B,"RID",A),De(B,"AID",h.T),et(h,B),h.m&&h.o&&Aa(B,h.m,h.o),A=new Mn(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),_&&(h.i=_.D.concat(h.i)),_=ht(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ya(h.h,A),ts(A,B,_)}function et(h,_){h.H&&Et(h.H,function(A,B){De(_,B,A)}),h.l&&rs({},function(A,B){De(_,B,A)})}function ht(h,_,A){A=Math.min(h.i.length,A);var B=h.l?v(h.l.Na,h.l,h):null;t:{var dt=h.i;let bt=-1;for(;;){const zt=["count="+A];bt==-1?0<A?(bt=dt[0].g,zt.push("ofs="+bt)):bt=0:zt.push("ofs="+bt);let Fe=!0;for(let In=0;In<A;In++){let Oe=dt[In].g;const Re=dt[In].map;if(Oe-=bt,0>Oe)bt=Math.max(0,dt[In].g-100),Fe=!1;else try{lu(Re,zt,"req"+Oe+"_")}catch{B&&B(Re)}}if(Fe){B=zt.join("&");break t}}}return h=h.i.splice(0,A),_.D=h,B}function Lt(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;mt||Vt(),at||(mt(),at=!0),Tt.add(_,h),h.v=0}}function Mt(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=rr(v(h.Fa,h),je(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,re(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=rr(v(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),Ei(this),re(this))};function Xt(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function re(h){h.g=new Mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Mr(h.qa);De(_,"RID","rpc"),De(_,"SID",h.K),De(_,"AID",h.T),De(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&De(_,"TO",h.ja),De(_,"TYPE","xmlhttp"),et(h,_),h.m&&h.o&&Aa(_,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=Ms(Mr(_)),A.m=null,A.P=!0,ks(A,h)}n.Za=function(){this.C!=null&&(this.C=null,Ei(this),Mt(this),gn(19))};function fe(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function me(h,_){var A=null;if(h.g==_){fe(h),Xt(h),h.g=null;var B=2}else if(ns(h.h,_))A=_.D,An(h.h,_),B=1;else return;if(h.G!=0){if(_.o)if(B==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var dt=h.B;B=Dn(),Yt(B,new bi(B,A)),m(h)}else Lt(h);else if(dt=_.s,dt==3||dt==0&&0<_.X||!(B==1&&P(h,_)||B==2&&Mt(h)))switch(A&&0<A.length&&(_=h.h,_.i=_.i.concat(A)),dt){case 1:Ge(h,5);break;case 4:Ge(h,10);break;case 3:Ge(h,6);break;default:Ge(h,2)}}}function je(h,_){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*_}function Ge(h,_){if(h.j.info("Error code "+_),_==2){var A=v(h.fb,h),B=h.Xa;const dt=!B;B=new Qe(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||go(B,"https"),Ms(B),dt?ou(B.toString(),A):au(B.toString(),A)}else gn(2);h.G=0,h.l&&h.l.sa(_),Sn(h),Ta(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function Sn(h){if(h.G=0,h.ka=[],h.l){const _=_a(h.h);(_.length!=0||h.i.length!=0)&&(R(h.ka,_),R(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Ze(h,_,A){var B=A instanceof Qe?Mr(A):new Qe(A);if(B.g!="")_&&(B.g=_+"."+B.g),mo(B,B.s);else{var dt=a.location;B=dt.protocol,_=_?_+"."+dt.hostname:dt.hostname,dt=+dt.port;var bt=new Qe(null);B&&go(bt,B),_&&(bt.g=_),dt&&mo(bt,dt),A&&(bt.l=A),B=bt}return A=h.D,_=h.ya,A&&_&&De(B,A,_),De(B,"VER",h.la),et(h,B),B}function Cn(h,_,A){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new sn(new yo({eb:A})):new sn(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function En(){}n=En.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ln(){}Ln.prototype.g=function(h,_){return new un(h,_)};function un(h,_){Ut.call(this),this.g=new Ia(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!$(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!$(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new oi(this)}T(un,Ut),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){bo(this.g)},un.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=ie(h),h=A);_.i.push(new pa(_.Ya++,h)),_.G==3&&m(_)},un.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,un.aa.N.call(this)};function ur(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const A in _){h=A;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(ur,$e);function xa(){pe.call(this),this.status=1}T(xa,pe);function oi(h){this.g=h}T(oi,En),oi.prototype.ua=function(){Yt(this.g,"a")},oi.prototype.ta=function(h){Yt(this.g,new ur(h))},oi.prototype.sa=function(h){Yt(this.g,new xa)},oi.prototype.ra=function(){Yt(this.g,"b")},Ln.prototype.createWebChannel=Ln.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Ky=function(){return new Ln},Gy=function(){return Dn()},$y=ke,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Sh=vr,ni.COMPLETE="complete",Wy=ni,yn.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,Cu=yn,sn.prototype.listenOnce=sn.prototype.L,sn.prototype.getLastError=sn.prototype.Ka,sn.prototype.getLastErrorCode=sn.prototype.Ba,sn.prototype.getStatus=sn.prototype.Z,sn.prototype.getResponseJson=sn.prototype.Oa,sn.prototype.getResponseText=sn.prototype.oa,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Ha,Hy=sn}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",p0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Ag("@firebase/firestore");function gl(){return Ya.logLevel}function Qt(n,...t){if(Ya.logLevel<=Me.DEBUG){const e=t.map(Dg);Ya.debug(`Firestore (${Ql}): ${n}`,...e)}}function ao(n,...t){if(Ya.logLevel<=Me.ERROR){const e=t.map(Dg);Ya.error(`Firestore (${Ql}): ${n}`,...e)}}function ql(n,...t){if(Ya.logLevel<=Me.WARN){const e=t.map(Dg);Ya.warn(`Firestore (${Ql}): ${n}`,...e)}}function Dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Yy(n,r,e)}function Yy(n,t,e){let r=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw ao(r),new Error(r)}function Pn(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||Yy(t,i,r)}function ze(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends co{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Pr.UNAUTHENTICATED)))}shutdown(){}}class JI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class XI{constructor(t){this.t=t,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Pn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ua,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ua)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pn(typeof r.accessToken=="string",31837,{l:r}),new Jy(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pn(t===null||typeof t=="string",2055,{h:t}),new Pr(t)}}class QI{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZI{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tT{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ws(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Pn(this.o===void 0,3512);const r=s=>{s.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Qt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>r(s)))};const i=s=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Pn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new g0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}}function Be(n,t){return n<t?-1:n>t?1:0}function Ap(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const i=n.charAt(r),s=t.charAt(r);if(i!==s)return _d(i)===_d(s)?Be(i,s):_d(i)?1:-1}return Be(n.length,t.length)}const nT=55296,rT=57343;function _d(n){const t=n.charCodeAt(0);return t>=nT&&t<=rT}function zl(n,t,e){return n.length===t.length&&n.every(((r,i)=>e(r,t[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__name__";class vs{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ee(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ee(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return vs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=vs.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return Be(t.length,e.length)}static compareSegments(t,e){const r=vs.isNumericId(t),i=vs.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?vs.extractNumericId(t).compare(vs.extractNumericId(e)):Ap(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ea.fromString(t.substring(4,t.length-2))}}class xn extends vs{construct(t,e,r){return new xn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ue(Wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((i=>i.length>0)))}return new xn(e)}static emptyPath(){return new xn([])}}const iT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends vs{construct(t,e,r){return new Hr(t,e,r)}static isValidIdentifier(t){return iT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new Hr([m0])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(Wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ue(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hr(e)}static emptyPath(){return new Hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.path=t}static fromPath(t){return new de(xn.fromString(t))}static fromName(t){return new de(xn.fromString(t).popFirst(5))}static empty(){return new de(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new de(new xn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,t,e){if(!e)throw new ue(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oT(n,t,e,r){if(t===!0&&r===!0)throw new ue(Wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function v0(n){if(!de.isDocumentKey(n))throw new ue(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Sp(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ue(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=lT(n);throw new ue(Wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Tc(n,t){if(!aT(n))throw new ue(Wt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new ue(Wt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,_0=1e6;class Kn{static now(){return Kn.fromMillis(Date.now())}static fromDate(t){return Kn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*_0);return new Kn(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ue(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ue(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<y0)throw new ue(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(t){return this.seconds===t.seconds?Be(this.nanoseconds,t.nanoseconds):Be(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tc(t,Kn._jsonSchema))return new Kn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-y0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kn._jsonSchemaVersion="firestore/timestamp/1.0",Kn._jsonSchema={type:Yn("string",Kn._jsonSchemaVersion),seconds:Yn("number"),nanoseconds:Yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(t){return new be(t)}static min(){return new be(new Kn(0,0))}static max(){return new be(new Kn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function uT(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Kn(e+1,0):new Kn(e,r));return new sa(i,de.empty(),t)}function cT(n){return new sa(n.readTime,n.key,cc)}class sa{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new sa(be.min(),de.empty(),cc)}static max(){return new sa(be.max(),de.empty(),cc)}}function hT(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=de.comparator(n.documentKey,t.documentKey),e!==0?e:Be(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==fT)throw n;Qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Dt(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Dt?e:Dt.resolve(e)}catch(e){return Dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Dt.reject(e)}static resolve(t){return new Dt(((e,r)=>{e(t)}))}static reject(t){return new Dt(((e,r)=>{r(t)}))}static waitFor(t){return new Dt(((e,r)=>{let i=0,s=0,o=!1;t.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&e()}),(l=>r(l)))})),o=!0,s===i&&e()}))}static or(t){let e=Dt.resolve(!1);for(const r of t)e=e.next((i=>i?Dt.resolve(i):r()));return e}static forEach(t,e){const r=[];return t.forEach(((i,s)=>{r.push(e.call(this,i,s))})),this.waitFor(r)}static mapArray(t,e){return new Dt(((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;e(t[u]).next((f=>{o[u]=f,++a,a===s&&r(o)}),(f=>i(f)))}}))}static doWhile(t,e){return new Dt(((r,i)=>{const s=()=>{t()===!0?e().next((()=>{s()}),i):r()};s()}))}}function pT(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-1;function Ef(n){return n==null}function Ep(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="";function mT(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=w0(t)),t=vT(n.get(e),t);return w0(t)}function vT(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="";break;case Xy:e+="";break;default:e+=s}}return e}function w0(n){return n+Xy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e){this.comparator=t,this.root=e||pr.EMPTY}insert(t,e){return new Wn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(t){return new Wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}}class eh{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pr{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??pr.RED,this.left=i??pr.EMPTY,this.right=s??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new pr(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ee(27949);return t+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new pr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.comparator=t,this.data=new Wn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(t){return new A0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof er)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new er(this.comparator);return e.data=t,e}}class A0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.fields=t,t.sort(Hr.comparator)}static empty(){return new Ko([])}unionWith(t){let e=new er(Hr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ko(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zl(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qy("Invalid base64 string: "+s):s}})(t);return new gr(e)}static fromUint8Array(t){const e=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new gr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Be(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(Pn(!!n,39018),typeof n=="string"){let t=0;const e=_T.exec(n);if(Pn(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function aa(n){return typeof n=="string"?gr.fromBase64String(n):gr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="server_timestamp",t_="__type__",e_="__previous_value__",n_="__local_write_time__";function Fg(n){return(n?.mapValue?.fields||{})[t_]?.stringValue===Zy}function If(n){const t=n.mapValue.fields[e_];return Fg(t)?If(t):t}function hc(n){const t=oa(n.mapValue.fields[n_].timestampValue);return new Kn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,e,r,i,s,o,a,l,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Gh="(default)";class fc{constructor(t,e){this.projectId=t,this.database=e||Gh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(t){return t instanceof fc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",AT="__max__",nh={mapValue:{}},ST="__vector__",Ip="value";function la(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fg(n)?4:IT(n)?9007199254740991:ET(n)?10:11:Ee(28295,{value:n})}function Ns(n,t){if(n===t)return!0;const e=la(n);if(e!==la(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hc(n).isEqual(hc(t));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oa(i.timestampValue),a=oa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,s){return aa(i.bytesValue).isEqual(aa(s.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,s){return Un(i.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(s.geoPointValue.longitude)})(n,t);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Un(i.integerValue)===Un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Un(i.doubleValue),a=Un(s.doubleValue);return o===a?Ep(o)===Ep(a):isNaN(o)&&isNaN(a)}return!1})(n,t);case 9:return zl(n.arrayValue.values||[],t.arrayValue.values||[],Ns);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(b0(o)!==b0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ns(o[l],a[l])))return!1;return!0})(n,t);default:return Ee(52216,{left:n})}}function dc(n,t){return(n.values||[]).find((e=>Ns(e,t)))!==void 0}function Hl(n,t){if(n===t)return 0;const e=la(n),r=la(t);if(e!==r)return Be(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,t.booleanValue);case 2:return(function(s,o){const a=Un(s.integerValue||s.doubleValue),l=Un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,t);case 3:return S0(n.timestampValue,t.timestampValue);case 4:return S0(hc(n),hc(t));case 5:return Ap(n.stringValue,t.stringValue);case 6:return(function(s,o){const a=aa(s),l=aa(o);return a.compareTo(l)})(n.bytesValue,t.bytesValue);case 7:return(function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Be(a[u],l[u]);if(f!==0)return f}return Be(a.length,l.length)})(n.referenceValue,t.referenceValue);case 8:return(function(s,o){const a=Be(Un(s.latitude),Un(o.latitude));return a!==0?a:Be(Un(s.longitude),Un(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return E0(n.arrayValue,t.arrayValue);case 10:return(function(s,o){const a=s.fields||{},l=o.fields||{},u=a[Ip]?.arrayValue,f=l[Ip]?.arrayValue,g=Be(u?.values?.length||0,f?.values?.length||0);return g!==0?g:E0(u,f)})(n.mapValue,t.mapValue);case 11:return(function(s,o){if(s===nh.mapValue&&o===nh.mapValue)return 0;if(s===nh.mapValue)return 1;if(o===nh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){const v=Ap(l[g],f[g]);if(v!==0)return v;const p=Hl(a[l[g]],u[f[g]]);if(p!==0)return p}return Be(l.length,f.length)})(n.mapValue,t.mapValue);default:throw Ee(23264,{he:e})}}function S0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Be(n,t);const e=oa(n),r=oa(t),i=Be(e.seconds,r.seconds);return i!==0?i:Be(e.nanos,r.nanos)}function E0(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const s=Hl(e[i],r[i]);if(s)return s}return Be(e.length,r.length)}function Wl(n){return Tp(n)}function Tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=oa(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return aa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return de.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(const s of e.values||[])i?i=!1:r+=",",r+=Tp(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tp(e.fields[o])}`;return i+"}"})(n.mapValue):Ee(61005,{value:n})}function Eh(n){switch(la(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=If(n);return t?16+Eh(t):16;case 5:return 2*n.stringValue.length;case 6:return aa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Eh(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return xc(r.fields,((s,o)=>{i+=s.length+Eh(o)})),i})(n.mapValue);default:throw Ee(13486,{value:n})}}function xp(n){return!!n&&"integerValue"in n}function Vg(n){return!!n&&"arrayValue"in n}function I0(n){return!!n&&"nullValue"in n}function T0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wd(n){return!!n&&"mapValue"in n}function ET(n){return(n?.mapValue?.fields||{})[bT]?.stringValue===ST}function $u(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return xc(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=$u(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$u(n.arrayValue.values[e]);return t}return{...n}}function IT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this.value=t}static empty(){return new bs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!wd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$u(e)}setAll(t){let e=Hr.emptyPath(),r={},i=[];t.forEach(((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,r,i),r={},i=[],e=a.popLast()}o?r[a.lastSegment()]=$u(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());wd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ns(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){xc(e,((i,s)=>t[i]=s));for(const i of r)delete t[i]}clone(){return new bs($u(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,e,r,i,s,o,a){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Cr(t,0,be.min(),be.min(),be.min(),bs.empty(),0)}static newFoundDocument(t,e,r,i){return new Cr(t,1,e,be.min(),r,i,0)}static newNoDocument(t,e){return new Cr(t,2,e,be.min(),be.min(),bs.empty(),0)}static newUnknownDocument(t,e){return new Cr(t,3,e,be.min(),be.min(),bs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e){this.position=t,this.inclusive=e}}function x0(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],o=n.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),e.key):r=Hl(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function P0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ns(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e="asc"){this.field=t,this.dir=e}}function TT(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{}class tr extends r_{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new PT(t,e,r):e==="array-contains"?new LT(t,r):e==="in"?new RT(t,r):e==="not-in"?new kT(t,r):e==="array-contains-any"?new OT(t,r):new tr(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new NT(t,r):new CT(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Hl(e,this.value)):e!==null&&la(this.value)===la(e)&&this.matchesComparison(Hl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cs extends r_{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Cs(t,e)}matches(t){return i_(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i_(n){return n.op==="and"}function s_(n){return xT(n)&&i_(n)}function xT(n){for(const t of n.filters)if(t instanceof Cs)return!1;return!0}function Pp(n){if(n instanceof tr)return n.field.canonicalString()+n.op.toString()+Wl(n.value);if(s_(n))return n.filters.map((t=>Pp(t))).join(",");{const t=n.filters.map((e=>Pp(e))).join(",");return`${n.op}(${t})`}}function o_(n,t){return n instanceof tr?(function(r,i){return i instanceof tr&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)})(n,t):n instanceof Cs?(function(r,i){return i instanceof Cs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&o_(o,i.filters[a])),!0):!1})(n,t):void Ee(19439)}function a_(n){return n instanceof tr?(function(e){return`${e.field.canonicalString()} ${e.op} ${Wl(e.value)}`})(n):n instanceof Cs?(function(e){return e.op.toString()+" {"+e.getFilters().map(a_).join(" ,")+"}"})(n):"Filter"}class PT extends tr{constructor(t,e,r){super(t,e,r),this.key=de.fromName(r.referenceValue)}matches(t){const e=de.comparator(t.key,this.key);return this.matchesComparison(e)}}class NT extends tr{constructor(t,e){super(t,"in",e),this.keys=l_("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class CT extends tr{constructor(t,e){super(t,"not-in",e),this.keys=l_("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function l_(n,t){return(t.arrayValue?.values||[]).map((e=>de.fromName(e.referenceValue)))}class LT extends tr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Vg(e)&&dc(e.arrayValue,this.value)}}class RT extends tr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&dc(this.value.arrayValue,e)}}class kT extends tr{constructor(t,e){super(t,"not-in",e)}matches(t){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!dc(this.value.arrayValue,e)}}class OT extends tr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Vg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>dc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,e=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function N0(n,t=null,e=[],r=[],i=null,s=null,o=null){return new DT(n,t,e,r,i,s,o)}function Bg(n){const t=ze(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Pp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Ef(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Wl(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Wl(r))).join(",")),t.Te=e}return t.Te}function jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!TT(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!o_(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!P0(n.startAt,t.startAt)&&P0(n.endAt,t.endAt)}function Np(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MT(n,t,e,r,i,s,o,a){return new Tf(n,t,e,r,i,s,o,a)}function Ug(n){return new Tf(n)}function C0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FT(n){return n.collectionGroup!==null}function Gu(n){const t=ze(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new er(Hr.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Yh(s,r))})),e.has(Hr.keyField().canonicalString())||t.Ie.push(new Yh(Hr.keyField(),r))}return t.Ie}function xs(n){const t=ze(n);return t.Ee||(t.Ee=VT(t,Gu(n))),t.Ee}function VT(n,t){if(n.limitType==="F")return N0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Yh(i.field,s)}));const e=n.endAt?new Kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kh(n.startAt.position,n.startAt.inclusive):null;return N0(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Cp(n,t,e){return new Tf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function xf(n,t){return jg(xs(n),xs(t))&&n.limitType===t.limitType}function u_(n){return`${Bg(xs(n))}|lt:${n.limitType}`}function ml(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((i=>a_(i))).join(", ")}]`),Ef(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>Wl(i))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>Wl(i))).join(",")),`Target(${r})`})(xs(n))}; limitType=${n.limitType})`}function Pf(n,t){return t.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,t)&&(function(r,i){for(const s of Gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(o,a,l){const u=x0(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,Gu(r),i)||r.endAt&&!(function(o,a,l){const u=x0(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,Gu(r),i))})(n,t)}function BT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function c_(n){return(t,e)=>{let r=!1;for(const i of Gu(n)){const s=jT(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jT(n,t,e){const r=n.field.isKeyField()?de.comparator(t.key,e.key):(function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Hl(l,u):Ee(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){xc(this.inner,((e,r)=>{for(const[i,s]of r)t(i,s)}))}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Wn(de.comparator);function ua(){return UT}const h_=new Wn(de.comparator);function Lu(...n){let t=h_;for(const e of n)t=t.insert(e.key,e);return t}function qT(n){let t=h_;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Va(){return Ku()}function f_(){return Ku()}function Ku(){return new Za((n=>n.toString()),((n,t)=>n.isEqual(t)))}const zT=new er(de.comparator);function We(...n){let t=zT;for(const e of n)t=t.add(e);return t}const HT=new er(Be);function WT(){return HT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(t)?"-0":t}}function GT(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function KT(n,t,e){return n instanceof Lp?(function(i,s){const o={fields:{[t_]:{stringValue:Zy},[n_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fg(s)&&(s=If(s)),s&&(o.fields[e_]=s),{mapValue:o}})(e,t):n instanceof Jh?d_(n,t):n instanceof Xh?p_(n,t):(function(i,s){const o=JT(i,s),a=L0(o)+L0(i.Ae);return xp(o)&&xp(i.Ae)?GT(a):$T(i.serializer,a)})(n,t)}function YT(n,t,e){return n instanceof Jh?d_(n,t):n instanceof Xh?p_(n,t):e}function JT(n,t){return n instanceof Rp?(function(r){return xp(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(t)?t:{integerValue:0}:null}class Lp extends Nf{}class Jh extends Nf{constructor(t){super(),this.elements=t}}function d_(n,t){const e=g_(t);for(const r of n.elements)e.some((i=>Ns(i,r)))||e.push(r);return{arrayValue:{values:e}}}class Xh extends Nf{constructor(t){super(),this.elements=t}}function p_(n,t){let e=g_(t);for(const r of n.elements)e=e.filter((i=>!Ns(i,r)));return{arrayValue:{values:e}}}class Rp extends Nf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function L0(n){return Un(n.integerValue||n.doubleValue)}function g_(n){return Vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function XT(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof Jh&&i instanceof Jh||r instanceof Xh&&i instanceof Xh?zl(r.elements,i.elements,Ns):r instanceof Rp&&i instanceof Rp?Ns(r.Ae,i.Ae):r instanceof Lp&&i instanceof Lp})(n.transform,t.transform)}class qa{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qa}static exists(t){return new qa(void 0,t)}static updateTime(t){return new qa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ih(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qg{}function m_(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ZT(n.key,qa.none()):new zg(n.key,n.data,qa.none());{const e=n.data,r=bs.empty();let i=new er(Hr.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cf(n.key,r,new Ko(i.toArray()),qa.none())}}function QT(n,t,e){n instanceof zg?(function(i,s,o){const a=i.value.clone(),l=k0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,t,e):n instanceof Cf?(function(i,s,o){if(!Ih(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=k0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(v_(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,t,e):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Yu(n,t,e,r){return n instanceof zg?(function(s,o,a,l){if(!Ih(s.precondition,o))return a;const u=s.value.clone(),f=O0(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,t,e,r):n instanceof Cf?(function(s,o,a,l){if(!Ih(s.precondition,o))return a;const u=O0(s.fieldTransforms,l,o),f=o.data;return f.setAll(v_(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(n,t,e,r):(function(s,o,a){return Ih(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,t,e)}function R0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zl(r,i,((s,o)=>XT(s,o)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zg extends qg{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cf extends qg{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v_(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function k0(n,t,e){const r=new Map;Pn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){const s=n[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,YT(o,a,e[i]))}return r}function O0(n,t,e){const r=new Map;for(const i of n){const s=i.transform,o=e.data.field(i.field);r.set(i.field,KT(s,o,t))}return r}class ZT extends qg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&QT(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Yu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Yu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=f_();return this.mutations.forEach((i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(i.key)?null:a;const l=m_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),We())}isEqual(t){return this.batchId===t.batchId&&zl(this.mutations,t.mutations,((e,r)=>R0(e,r)))&&zl(this.baseMutations,t.baseMutations,((e,r)=>R0(e,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,qe;function y_(n){if(n===void 0)return ao("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case Gn.OK:return Wt.OK;case Gn.CANCELLED:return Wt.CANCELLED;case Gn.UNKNOWN:return Wt.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Wt.INTERNAL;case Gn.UNAVAILABLE:return Wt.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Wt.NOT_FOUND;case Gn.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case Gn.ABORTED:return Wt.ABORTED;case Gn.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case Gn.DATA_LOSS:return Wt.DATA_LOSS;default:return Ee(39323,{code:n})}}(qe=Gn||(Gn={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new ea([4294967295,4294967295],0);function D0(n){const t=rx().encode(n),e=new zy;return e.update(t),new Uint8Array(e.digest())}function M0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ea([e,r],0),new ea([i,s],0)]}class Hg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ru(`Invalid padding: ${e}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ea.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(ea.fromNumber(r)));return i.compare(ix)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=D0(t),[r,i]=M0(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Hg(s,i,e);return r.forEach((a=>o.insert(a))),o}insert(t){if(this.ge===0)return;const e=D0(t),[r,i]=M0(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Lf(be.min(),i,new Wn(Be),ua(),We())}}class Pc{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Pc(r,e,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}}class __{constructor(t,e){this.targetId=t,this.Ce=e}}class w_{constructor(t,e,r=gr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class F0{constructor(){this.ve=0,this.Fe=V0(),this.Me=gr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=We(),e=We(),r=We();return this.Fe.forEach(((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:s})}})),new Pc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=V0()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sx{constructor(t){this.Ge=t,this.ze=new Map,this.je=ua(),this.Je=rh(),this.He=rh(),this.Ye=new Wn(Be)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Ee(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,i)=>{this.rt(i)&&e(i)}))}st(t){const e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){const s=i.target;if(Np(s))if(r===0){const o=new de(s.path);this.et(e,o,Cr.newNoDocument(o,be.min()))}else Pn(r===1,20013,{expectedCount:r});else{const o=this._t(e);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(e);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,u)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e;let o,a;try{o=aa(r).toUint8Array()}catch(l){if(l instanceof Qy)return ql("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hg(o,i,s)}catch(l){return ql(l instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(e,s,null),i++)})),i}Tt(t){const e=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Np(a.target)){const l=new de(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Cr.newNoDocument(l,t))}s.Be&&(e.set(o,s.ke()),s.qe())}}));let r=We();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(t)));const i=new Lf(t,e,this.Ye,this.je,r);return this.je=ua(),this.Je=rh(),this.He=rh(),this.Ye=new Wn(Be),i}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new F0,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new er(Be),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new er(Be),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Qt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new F0),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rh(){return new Wn(de.comparator)}function V0(){return new Wn(de.comparator)}const ox={asc:"ASCENDING",desc:"DESCENDING"},ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lx={and:"AND",or:"OR"};class ux{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function kp(n,t){return n.useProto3Json||Ef(t)?t:{value:t}}function cx(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Cl(n){return Pn(!!n,49232),be.fromTimestamp((function(e){const r=oa(e);return new Kn(r.seconds,r.nanos)})(n))}function fx(n,t){return Op(n,t).canonicalString()}function Op(n,t){const e=(function(i){return new xn(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function b_(n){const t=xn.fromString(n);return Pn(T_(t),10190,{key:t.toString()}),t}function bd(n,t){const e=b_(t);if(e.get(1)!==n.databaseId.projectId)throw new ue(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ue(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new de(S_(e))}function A_(n,t){return fx(n.databaseId,t)}function dx(n){const t=b_(n);return t.length===4?xn.emptyPath():S_(t)}function B0(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function S_(n){return Pn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function px(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=(function(u,f){return u.useProto3Json?(Pn(f===void 0||typeof f=="string",58123),gr.fromBase64String(f||"")):(Pn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),gr.fromUint8Array(f||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&(function(u){const f=u.code===void 0?Wt.UNKNOWN:y_(u.code);return new ue(f,u.message||"")})(o);e=new w_(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bd(n,r.document.name),s=Cl(r.document.updateTime),o=r.document.createTime?Cl(r.document.createTime):be.min(),a=new bs({mapValue:{fields:r.document.fields}}),l=Cr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];e=new Th(u,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bd(n,r.document),s=r.readTime?Cl(r.readTime):be.min(),o=Cr.newNoDocument(i,s),a=r.removedTargetIds||[];e=new Th([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bd(n,r.document),s=r.removedTargetIds||[];e=new Th([],s,i,null)}else{if(!("filter"in t))return Ee(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nx(i,s),a=r.targetId;e=new __(a,o)}}return e}function gx(n,t){return{documents:[A_(n,t.path)]}}function mx(n,t){const e={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=A_(n,i);const s=(function(u){if(u.length!==0)return I_(Cs.create(u,"and"))})(t.filters);s&&(e.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((f=>(function(v){return{field:vl(v.field),direction:_x(v.dir)}})(f)))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=kp(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:e,parent:i}}function vx(n){let t=dx(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Pn(r===1,65062);const f=e.from[0];f.allDescendants?i=f.collectionId:t=t.child(f.collectionId)}let s=[];e.where&&(s=(function(g){const v=E_(g);return v instanceof Cs&&s_(v)?v.getFilters():[v]})(e.where));let o=[];e.orderBy&&(o=(function(g){return g.map((v=>(function(T){return new Yh(yl(T.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(e.orderBy));let a=null;e.limit&&(a=(function(g){let v;return v=typeof g=="object"?g.value:g,Ef(v)?null:v})(e.limit));let l=null;e.startAt&&(l=(function(g){const v=!!g.before,p=g.values||[];return new Kh(p,v)})(e.startAt));let u=null;return e.endAt&&(u=(function(g){const v=!g.before,p=g.values||[];return new Kh(p,v)})(e.endAt)),MT(t,i,o,s,a,"F",l,u)}function yx(n,t){const e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function E_(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=yl(e.unaryFilter.field);return tr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yl(e.unaryFilter.field);return tr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yl(e.unaryFilter.field);return tr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yl(e.unaryFilter.field);return tr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(e){return tr.create(yl(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Cs.create(e.compositeFilter.filters.map((r=>E_(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(e.compositeFilter.op))})(n):Ee(30097,{filter:n})}function _x(n){return ox[n]}function wx(n){return ax[n]}function bx(n){return lx[n]}function vl(n){return{fieldPath:n.canonicalString()}}function yl(n){return Hr.fromServerFormat(n.fieldPath)}function I_(n){return n instanceof tr?(function(e){if(e.op==="=="){if(T0(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NAN"}};if(I0(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(T0(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NOT_NAN"}};if(I0(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(e.field),op:wx(e.op),value:e.value}}})(n):n instanceof Cs?(function(e){const r=e.getFilters().map((i=>I_(i)));return r.length===1?r[0]:{compositeFilter:{op:bx(e.op),filters:r}}})(n):Ee(54877,{filter:n})}function T_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,e,r,i,s=be.min(),o=be.min(),a=gr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Yo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t){this.yt=t}}function Sx(n){const t=vx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Cn=new Ix}addToCollectionParentIndex(t,e){return this.Cn.add(e),Dt.resolve()}getCollectionParents(t,e){return Dt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Dt.resolve()}deleteFieldIndex(t,e){return Dt.resolve()}deleteAllFieldIndexes(t){return Dt.resolve()}createTargetIndexes(t,e){return Dt.resolve()}getDocumentsMatchingTarget(t,e){return Dt.resolve(null)}getIndexType(t,e){return Dt.resolve(0)}getFieldIndexes(t,e){return Dt.resolve([])}getNextCollectionGroupToUpdate(t){return Dt.resolve(null)}getMinOffset(t,e){return Dt.resolve(sa.min())}getMinOffsetFromCollectionGroup(t,e){return Dt.resolve(sa.min())}updateCollectionGroup(t,e,r){return Dt.resolve()}updateIndexEntries(t,e){return Dt.resolve()}}class Ix{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new er(xn.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new er(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x_=41943040;class Zr{static withCacheSize(t){return new Zr(t,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(x_,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $l(0)}static cr(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",Tx=1048576;function q0([n,t],[e,r]){const i=Be(n,e);return i===0?Be(t,r):i}class xx{constructor(t){this.Ir=t,this.buffer=new er(q0),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();q0(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Qt(U0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zl(e)?Qt(U0,"Ignoring IndexedDB error during garbage collection: ",e):await Af(e)}await this.Vr(3e5)}))}}class Nx{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Dt.resolve(Sf.ce);const r=new xx(e);return this.mr.forEachTarget(t,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(j0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,s,o,a,l,u;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(t,i)))).next((g=>(r=g,a=Date.now(),this.removeTargets(t,r,e)))).next((g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(t,r)))).next((g=>(u=Date.now(),gl()<=Me.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function Cx(n,t){return new Nx(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.changes=new Za((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Cr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Dt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(r=i,this.remoteDocumentCache.getEntry(t,e)))).next((i=>(r!==null&&Yu(r.mutation,i,Ko.empty(),Kn.now()),i)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,We()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=We()){const i=Va();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,r).next((s=>{let o=Lu();return s.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(t,e){const r=Va();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,We())))}populateOverlays(t,e,r){const i=[];return r.forEach((s=>{e.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(t,i).next((s=>{s.forEach(((o,a)=>{e.set(o,a)}))}))}computeViews(t,e,r,i){let s=ua();const o=Ku(),a=(function(){return Ku()})();return e.forEach(((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Cf)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Yu(f.mutation,u,f.mutation.getFieldMask(),Kn.now())):o.set(u.key,Ko.empty())})),this.recalculateAndSaveOverlays(t,s).next((l=>(l.forEach(((u,f)=>o.set(u,f))),e.forEach(((u,f)=>a.set(u,new Rx(f,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(t,e){const r=Ku();let i=new Wn(((o,a)=>o-a)),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=e.get(l);if(u===null)return;let f=r.get(l)||Ko.empty();f=a.applyToLocalView(u,f),r.set(l,f);const g=(i.get(a.batchId)||We()).add(l);i=i.insert(a.batchId,g)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,g=f_();f.forEach((v=>{if(!s.has(v)){const p=m_(e.get(v),r.get(v));p!==null&&g.set(v,p),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(t,u,g))}return Dt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,i){return(function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):FT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):Dt.resolve(Va());let a=cc,l=s;return o.next((u=>Dt.forEach(u,((f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?Dt.resolve():this.remoteDocumentCache.getEntry(t,f).next((v=>{l=l.insert(f,v)}))))).next((()=>this.populateOverlays(t,u,s))).next((()=>this.computeViews(t,l,u,We()))).next((f=>({batchId:a,changes:qT(f)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new de(e)).next((r=>{let i=Lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const s=e.collectionGroup;let o=Lu();return this.indexManager.getCollectionParents(t,s).next((a=>Dt.forEach(a,(l=>{const u=(function(g,v){return new Tf(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next((f=>{f.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i)))).next((o=>{s.forEach(((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Cr.newInvalidDocument(f)))}));let a=Lu();return o.forEach(((l,u)=>{const f=s.get(l);f!==void 0&&Yu(f.mutation,u,Ko.empty(),Kn.now()),Pf(e,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Dt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:Cl(i.createTime)}})(e)),Dt.resolve()}getNamedQuery(t,e){return Dt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:Sx(i.bundledQuery),readTime:Cl(i.readTime)}})(e)),Dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.overlays=new Wn(de.comparator),this.qr=new Map}getOverlay(t,e){return Dt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Va();return Dt.forEach(e,(i=>this.getOverlay(t,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((i,s)=>{this.St(t,e,s)})),Dt.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Dt.resolve()}getOverlaysForCollection(t,e,r){const i=Va(),s=e.length+1,o=new de(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!e.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Dt.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Wn(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===e&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Va(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Va(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>a.set(u,f))),!(a.size()>=i)););return Dt.resolve(a)}St(t,e,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ex(e,r));let s=this.qr.get(e);s===void 0&&(s=We(),this.qr.set(e,s)),this.qr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(t){return Dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.Qr=new er(ar.$r),this.Ur=new er(ar.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new ar(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new ar(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new de(new xn([])),r=new ar(e,t),i=new ar(e,t+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new de(new xn([])),r=new ar(e,t),i=new ar(e,t+1);let s=We();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(t){const e=new ar(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class ar{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return de.comparator(t.key,e.key)||Be(t.Yr,e.Yr)}static Kr(t,e){return Be(t.Yr,e.Yr)||de.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new er(ar.$r)}checkEmpty(t){return Dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tx(s,e,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ar(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Dt.resolve(o)}lookupMutationBatch(t,e){return Dt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=this.ei(r),s=i<0?0:i;return Dt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(this.mutationQueue.length===0?gT:this.tr-1)}getAllMutationBatches(t){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ar(e,0),i=new ar(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),Dt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new er(Be);return e.forEach((i=>{const s=new ar(i,0),o=new ar(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),Dt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new ar(new de(s),0);let a=new er(Be);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)}),o),Dt.resolve(this.ti(a))}ti(t){const e=[];return t.forEach((r=>{const i=this.Xr(r);i!==null&&e.push(i)})),e}removeMutationBatch(t,e){Pn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Dt.forEach(e.mutations,(i=>{const s=new ar(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new ar(e,0),i=this.Zr.firstAfterOrEqual(r);return Dt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Dt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.ri=t,this.docs=(function(){return new Wn(de.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Dt.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(e))}getEntries(t,e){let r=ua();return e.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cr.newInvalidDocument(i))})),Dt.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=ua();const o=e.path,a=new de(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||hT(cT(f),r)<=0||(i.has(f.key)||Pf(e,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Dt.resolve(s)}getAllFromCollectionGroup(t,e,r,i){Ee(9500)}ii(t,e){return Dt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new Bx(this)}getSize(t){return Dt.resolve(this.size)}}class Bx extends Lx{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)})),Dt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t){this.persistence=t,this.si=new Za((e=>Bg(e)),jg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Wg,this.targetCount=0,this.ai=$l.ur()}forEachTarget(t,e){return this.si.forEach(((r,i)=>e(i))),Dt.resolve()}getLastRemoteSnapshotVersion(t){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Dt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Dt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new $l(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Dt.resolve()}updateTargetData(t,e){return this.Pr(e),Dt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=e&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Dt.waitFor(s).next((()=>i))}getTargetCount(t){return Dt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Dt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Dt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach((o=>{s.push(i.markPotentiallyOrphaned(t,o))})),Dt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Dt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Dt.resolve(r)}containsKey(t,e){return Dt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(t,e){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new Mx,this.referenceDelegate=t(this),this.Pi=new jx(this),this.indexManager=new Ex,this.remoteDocumentCache=(function(i){return new Vx(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ax(e),this.Ii=new Ox(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Dx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new Fx(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Qt("MemoryPersistence","Starting transaction:",t);const i=new Ux(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(t,e){return Dt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class Ux extends dT{constructor(t){super(),this.currentSequenceNumber=t}}class $g{constructor(t){this.persistence=t,this.Ri=new Wg,this.Vi=null}static mi(t){return new $g(t)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Dt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Dt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Dt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.fi,(r=>{const i=de.fromPath(r);return this.gi(t,i).next((s=>{s||e.removeEntry(i,be.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Dt.or([()=>Dt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Qh{constructor(t,e){this.persistence=t,this.pi=new Za((r=>mT(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Cx(this,e)}static mi(t,e){return new Qh(t,e)}Ei(){}di(t){return Dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((i=>r+i))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return Dt.forEach(this.pi,((r,i)=>this.br(t,r,i).next((s=>s?Dt.resolve():e(i)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,(o=>this.br(t,o,e).next((a=>{a||(r++,s.removeEntry(o,be.min()))})))).next((()=>s.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Dt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Dt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Dt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Dt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Eh(t.data.value)),e}br(t,e,r){return Dt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return Dt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=We(),i=We();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gg(t,e.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CS()?8:pT(Or())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){const s={result:null};return this.ys(t,e).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(t,e,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new qx;return this.Ss(t,e,o).next((a=>{if(s.result=a,this.Vs)return this.bs(t,e,o,a.size)}))})).next((()=>s.result))}bs(t,e,r,i){return r.documentReadCount<this.fs?(gl()<=Me.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",ml(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Dt.resolve()):(gl()<=Me.DEBUG&&Qt("QueryEngine","Query:",ml(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(gl()<=Me.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",ml(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xs(e))):Dt.resolve())}ys(t,e){if(C0(e))return Dt.resolve(null);let r=xs(e);return this.indexManager.getIndexType(t,r).next((i=>i===0?null:(e.limit!==null&&i===1&&(e=Cp(e,null,"F"),r=xs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((s=>{const o=We(...s);return this.ps.getDocuments(t,o).next((a=>this.indexManager.getMinOffset(t,r).next((l=>{const u=this.Ds(e,a);return this.Cs(e,u,o,l.readTime)?this.ys(t,Cp(e,null,"F")):this.vs(t,u,e,l)}))))})))))}ws(t,e,r,i){return C0(e)||i.isEqual(be.min())?Dt.resolve(null):this.ps.getDocuments(t,r).next((s=>{const o=this.Ds(e,s);return this.Cs(e,o,r,i)?Dt.resolve(null):(gl()<=Me.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ml(e)),this.vs(t,o,e,uT(i,cc)).next((a=>a)))}))}Ds(t,e){let r=new er(c_(t));return e.forEach(((i,s)=>{Pf(t,s)&&(r=r.add(s))})),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,r){return gl()<=Me.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",ml(e)),this.ps.getDocumentsMatchingQuery(t,e,sa.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next((s=>(e.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="LocalStore",Hx=3e8;class Wx{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Wn(Be),this.xs=new Za((s=>Bg(s)),jg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function $x(n,t,e,r){return new Wx(n,t,e,r)}async function N_(n,t){const e=ze(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let l=We();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return e.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function C_(n){const t=ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Gx(n,t){const e=ze(n),r=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const a=[];t.targetChanges.forEach(((f,g)=>{const v=i.get(g);if(!v)return;a.push(e.Pi.removeMatchingKeys(s,f.removedDocuments,g).next((()=>e.Pi.addMatchingKeys(s,f.addedDocuments,g))));let p=v.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?p=p.withResumeToken(gr.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(g,p),(function(L,R,C){return L.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Hx?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,p,f)&&a.push(e.Pi.updateTargetData(s,p))}));let l=ua(),u=We();if(t.documentUpdates.forEach((f=>{t.resolvedLimboDocuments.has(f)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))})),a.push(Kx(s,o,t.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!r.isEqual(be.min())){const f=e.Pi.getLastRemoteSnapshotVersion(s).next((g=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(f)}return Dt.waitFor(a).next((()=>o.apply(s))).next((()=>e.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(e.Ms=i,s)))}function Kx(n,t,e){let r=We(),i=We();return e.forEach((s=>r=r.add(s))),t.getEntries(n,r).next((s=>{let o=ua();return e.forEach(((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Qt(Kg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function Yx(n,t){const e=ze(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return e.Pi.getTargetData(r,t).next((s=>s?(i=s,Dt.resolve(i)):e.Pi.allocateTargetId(r).next((o=>(i=new Yo(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Dp(n,t,e){const r=ze(n),i=r.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zl(o))throw o;Qt(Kg,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function z0(n,t,e){const r=ze(n);let i=be.min(),s=We();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,f){const g=ze(l),v=g.xs.get(f);return v!==void 0?Dt.resolve(g.Ms.get(v)):g.Pi.getTargetData(u,f)})(r,o,xs(t)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,t,e?i:be.min(),e?s:We()))).next((a=>(Jx(r,BT(t),a),{documents:a,Qs:s})))))}function Jx(n,t,e){let r=n.Os.get(t)||be.min();e.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(t,r)}class H0{constructor(){this.activeTargetIds=WT()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xx{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="ConnectivityMonitor";class $0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Qt(W0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Qt(W0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Mp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="RestConnection",Zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,s){const o=Mp(),a=this.zo(t,e.toUriEncodedString());Qt(Ad,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),f=Yl(u);return this.Jo(t,a,l,r,f).then((g=>(Qt(Ad,`Received RPC '${t}' ${o}: `,g),g)),(g=>{throw ql(Ad,`RPC '${t}' ${o} failed with error: `,g,"url: ",a,"request:",r),g}))}Ho(t,e,r,i,s,o){return this.Go(t,e,r,i,s)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((i,s)=>t[s]=i)),r&&r.headers.forEach(((i,s)=>t[s]=i))}zo(t,e){const r=Zx[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class nP extends tP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,s){const o=Mp();return new Promise(((a,l)=>{const u=new Hy;u.setWithCredentials(!0),u.listenOnce(Wy.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Sh.NO_ERROR:const g=u.getResponseJson();Qt(br,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(g)),a(g);break;case Sh.TIMEOUT:Qt(br,`RPC '${t}' ${o} timed out`),l(new ue(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const v=u.getStatus();if(Qt(br,`RPC '${t}' ${o} failed with status:`,v,"response text:",u.getResponseText()),v>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const T=p?.error;if(T&&T.status&&T.message){const L=(function(C){const $=C.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf($)>=0?$:Wt.UNKNOWN})(T.status);l(new ue(L,T.message))}else l(new ue(Wt.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ue(Wt.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Qt(br,`RPC '${t}' ${o} completed.`)}}));const f=JSON.stringify(i);Qt(br,`RPC '${t}' ${o} sending request:`,i),u.send(e,"POST",f,r,15)}))}T_(t,e,r){const i=Mp(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ky(),a=Gy(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Qt(br,`Creating RPC '${t}' stream ${i}: ${f}`,l);const g=o.createWebChannel(f,l);this.I_(g);let v=!1,p=!1;const T=new eP({Yo:R=>{p?Qt(br,`Not sending because RPC '${t}' stream ${i} is closed:`,R):(v||(Qt(br,`Opening RPC '${t}' stream ${i} transport.`),g.open(),v=!0),Qt(br,`RPC '${t}' stream ${i} sending:`,R),g.send(R))},Zo:()=>g.close()}),L=(R,C,$)=>{R.listen(C,(G=>{try{$(G)}catch(z){setTimeout((()=>{throw z}),0)}}))};return L(g,Cu.EventType.OPEN,(()=>{p||(Qt(br,`RPC '${t}' stream ${i} transport opened.`),T.o_())})),L(g,Cu.EventType.CLOSE,(()=>{p||(p=!0,Qt(br,`RPC '${t}' stream ${i} transport closed`),T.a_(),this.E_(g))})),L(g,Cu.EventType.ERROR,(R=>{p||(p=!0,ql(br,`RPC '${t}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.a_(new ue(Wt.UNAVAILABLE,"The operation could not be completed")))})),L(g,Cu.EventType.MESSAGE,(R=>{if(!p){const C=R.data[0];Pn(!!C,16349);const $=C,G=$?.error||$[0]?.error;if(G){Qt(br,`RPC '${t}' stream ${i} received error:`,G);const z=G.status;let ct=(function(x){const S=Gn[x];if(S!==void 0)return y_(S)})(z),Et=G.message;ct===void 0&&(ct=Wt.INTERNAL,Et="Unknown error status: "+z+" with message "+G.message),p=!0,T.a_(new ue(ct,Et)),g.close()}else Qt(br,`RPC '${t}' stream ${i} received:`,C),T.u_(C)}})),L(a,$y.STAT_EVENT,(R=>{R.stat===bp.PROXY?Qt(br,`RPC '${t}' stream ${i} detected buffering proxy`):R.stat===bp.NOPROXY&&Qt(br,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){return new ux(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&Qt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class rP{constructor(t,e,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R_(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Wt.RESOURCE_EXHAUSTED?(ao(e.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===e&&this.G_(r,i)}),(r=>{t((()=>{const i=new ue(Wt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Qt(G0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Qt(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iP extends rP{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=px(this.serializer,t),r=(function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?Cl(o.readTime):be.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=B0(this.serializer),e.addTarget=(function(s,o){let a;const l=o.target;if(a=Np(l)?{documents:gx(s,l)}:{query:mx(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hx(s,o.resumeToken);const u=kp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=cx(s,o.snapshotVersion.toTimestamp());const u=kp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,t);const r=yx(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=B0(this.serializer),e.removeTarget=t,this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{}class oP extends sP{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(t,Op(e,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Wt.UNKNOWN,s.toString())}))}Ho(t,e,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(t,Op(e,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Wt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ao(e),this.aa=!1):Qt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="RemoteStore";class lP{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Cc(this)&&(Qt(Gl,"Restarting streams for network reachability change."),await(async function(l){const u=ze(l);u.Ea.add(4),await Nc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Rf(u)})(this))}))})),this.Ra=new aP(r,i)}}async function Rf(n){if(Cc(n))for(const t of n.da)await t(!0)}async function Nc(n){for(const t of n.da)await t(!1)}function k_(n,t){const e=ze(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Qg(e)?Xg(e):tu(e).O_()&&Jg(e,t))}function Yg(n,t){const e=ze(n),r=tu(e);e.Ia.delete(t),r.O_()&&O_(e,t),e.Ia.size===0&&(r.O_()?r.L_():Cc(e)&&e.Ra.set("Unknown"))}function Jg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tu(n).Y_(t)}function O_(n,t){n.Va.Ue(t),tu(n).Z_(t)}function Xg(n){n.Va=new sx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.Ra.ua()}function Qg(n){return Cc(n)&&!tu(n).x_()&&n.Ia.size>0}function Cc(n){return ze(n).Ea.size===0}function D_(n){n.Va=void 0}async function uP(n){n.Ra.set("Online")}async function cP(n){n.Ia.forEach(((t,e)=>{Jg(n,t)}))}async function hP(n,t){D_(n),Qg(n)?(n.Ra.ha(t),Xg(n)):n.Ra.set("Unknown")}async function fP(n,t,e){if(n.Ra.set("Online"),t instanceof w_&&t.state===2&&t.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(n,t)}catch(r){Qt(Gl,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await K0(n,r)}else if(t instanceof Th?n.Va.Ze(t):t instanceof __?n.Va.st(t):n.Va.tt(t),!e.isEqual(be.min()))try{const r=await C_(n.localStore);e.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(gr.EMPTY_BYTE_STRING,f.snapshotVersion)),O_(s,l);const g=new Yo(f.target,l,u,f.sequenceNumber);Jg(s,g)})),s.remoteSyncer.applyRemoteEvent(a)})(n,e)}catch(r){Qt(Gl,"Failed to raise snapshot:",r),await K0(n,r)}}async function K0(n,t,e){if(!Zl(t))throw t;n.Ea.add(1),await Nc(n),n.Ra.set("Offline"),e||(e=()=>C_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Qt(Gl,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Rf(n)}))}async function Y0(n,t){const e=ze(n);e.asyncQueue.verifyOperationInProgress(),Qt(Gl,"RemoteStore received new credentials");const r=Cc(e);e.Ea.add(3),await Nc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Rf(e)}async function dP(n,t){const e=ze(n);t?(e.Ea.delete(2),await Rf(e)):t||(e.Ea.add(2),await Nc(e),e.Ra.set("Unknown"))}function tu(n){return n.ma||(n.ma=(function(e,r,i){const s=ze(e);return s.sa(),new iP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:uP.bind(null,n),t_:cP.bind(null,n),r_:hP.bind(null,n),H_:fP.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Qg(n)?Xg(n):n.Ra.set("Unknown")):(await n.ma.stop(),D_(n))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){const o=Date.now()+r,a=new Zg(t,e,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(n,t){if(ao("AsyncQueue",`${t}: ${n}`),Zl(n))return new ue(Wt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(t){return new Ll(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||de.comparator(e.key,r.key):(e,r)=>de.comparator(e.key,r.key),this.keyedMap=Lu(),this.sortedSet=new Wn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ll)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.ga=new Wn(de.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ee(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Kl{constructor(t,e,r,i,s,o,a,l,u){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,e,r,i,s){const o=[];return e.forEach((a=>{o.push({type:0,doc:a})})),new Kl(t,e,Ll.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gP{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const i=ze(e),s=i.queries;i.queries=X0(),s.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new ue(Wt.ABORTED,"Firestore shutting down"))}}function X0(){return new Za((n=>u_(n)),xf)}async function mP(n,t){const e=ze(n);let r=3;const i=t.query;let s=e.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new pP,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){const a=M_(o,`Initialization of query '${ml(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&t1(e)}async function vP(n,t){const e=ze(n),r=t.query;let i=3;const s=e.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function yP(n,t){const e=ze(n);let r=!1;for(const i of t){const s=i.query,o=e.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&t1(e)}function _P(n,t,e){const r=ze(n),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(e);r.queries.delete(t)}function t1(n){n.Ca.forEach((t=>{t.next()}))}var Fp,Q0;(Q0=Fp||(Fp={})).Ma="default",Q0.Cache="cache";class wP{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Kl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Kl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t){this.key=t}}class V_{constructor(t){this.key=t}}class bP{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=c_(t),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new J0,i=e?e.tu:this.tu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((f,g)=>{const v=i.get(f),p=Pf(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),L=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;v&&p?v.data.isEqual(p.data)?T!==L&&(r.track({type:3,doc:p}),R=!0):this.su(v,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),R=!0):v&&!p&&(r.track({type:1,doc:v}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=L?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((f,g)=>(function(p,T){const L=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:R})}};return L(p)-L(T)})(f.type,g.type)||this.eu(f.doc,g.doc))),this.ou(r),i=i??!1;const a=e&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Kl(this.query,t.tu,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new V_(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new F_(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=We();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const e1="SyncEngine";class AP{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class SP{constructor(t){this.key=t,this.hu=!1}}class EP{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Za((a=>u_(a)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new Wn(de.comparator),this.Au=new Map,this.Ru=new Wg,this.Vu={},this.mu=new Map,this.fu=$l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IP(n,t,e=!0){const r=z_(n);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await B_(r,t,e,!0),i}async function TP(n,t){const e=z_(n);await B_(e,t,!0,!1)}async function B_(n,t,e,r){const i=await Yx(n.localStore,xs(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let a;return r&&(a=await xP(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&k_(n.remoteStore,i),a}async function xP(n,t,e,r,i){n.pu=(g,v,p)=>(async function(L,R,C,$){let G=R.view.ru(C);G.Cs&&(G=await z0(L.localStore,R.query,!1).then((({documents:U})=>R.view.ru(U,G))));const z=$&&$.targetChanges.get(R.targetId),ct=$&&$.targetMismatches.get(R.targetId)!=null,Et=R.view.applyChanges(G,L.isPrimaryClient,z,ct);return t2(L,R.targetId,Et.au),Et.snapshot})(n,g,v,p);const s=await z0(n.localStore,t,!0),o=new bP(t,s.Qs),a=o.ru(s.documents),l=Pc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,l);t2(n,e,u.au);const f=new AP(t,e,o);return n.Tu.set(t,f),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),u.snapshot}async function PP(n,t,e){const r=ze(n),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!xf(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Yg(r.remoteStore,i.targetId),Vp(r,i.targetId)})).catch(Af)):(Vp(r,i.targetId),await Dp(r.localStore,i.targetId,!0))}async function NP(n,t){const e=ze(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(e.remoteStore,r.targetId))}async function j_(n,t){const e=ze(n);try{const r=await Gx(e.localStore,t);t.targetChanges.forEach(((i,s)=>{const o=e.Au.get(s);o&&(Pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Pn(o.hu,14607):i.removedDocuments.size>0&&(Pn(o.hu,42227),o.hu=!1))})),await q_(e,r,t)}catch(r){await Af(r)}}function Z0(n,t,e){const r=ze(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const l=ze(o);l.onlineState=a;let u=!1;l.queries.forEach(((f,g)=>{for(const v of g.Sa)v.va(a)&&(u=!0)})),u&&t1(l)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CP(n,t,e){const r=ze(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Wn(de.comparator);o=o.insert(s,Cr.newNoDocument(s,be.min()));const a=We().add(s),l=new Lf(be.min(),new Map,new Wn(Be),o,a);await j_(r,l),r.du=r.du.remove(s),r.Au.delete(t),n1(r)}else await Dp(r.localStore,t,!1).then((()=>Vp(r,t,e))).catch(Af)}function Vp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||U_(n,r)}))}function U_(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Yg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),n1(n))}function t2(n,t,e){for(const r of e)r instanceof F_?(n.Ru.addReference(r.key,t),LP(n,r)):r instanceof V_?(Qt(e1,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||U_(n,r.key)):Ee(19791,{wu:r})}function LP(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(Qt(e1,"New document in limbo: "+e),n.Eu.add(r),n1(n))}function n1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new de(xn.fromString(t)),r=n.fu.next();n.Au.set(r,new SP(e)),n.du=n.du.insert(e,r),k_(n.remoteStore,new Yo(xs(Ug(e.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function q_(n,t,e){const r=ze(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,t,e).then((u=>{if((u||e)&&r.isPrimaryClient){const f=u?!u.fromCache:e?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Gg.As(l.targetId,u);s.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(l,u){const f=ze(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Dt.forEach(u,(v=>Dt.forEach(v.Es,(p=>f.persistence.referenceDelegate.addReference(g,v.targetId,p))).next((()=>Dt.forEach(v.ds,(p=>f.persistence.referenceDelegate.removeReference(g,v.targetId,p)))))))))}catch(g){if(!Zl(g))throw g;Qt(Kg,"Failed to update sequence numbers: "+g)}for(const g of u){const v=g.targetId;if(!g.fromCache){const p=f.Ms.get(v),T=p.snapshotVersion,L=p.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(v,L)}}})(r.localStore,s))}async function RP(n,t){const e=ze(n);if(!e.currentUser.isEqual(t)){Qt(e1,"User change. New user:",t.toKey());const r=await N_(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach((a=>{a.forEach((l=>{l.reject(new ue(Wt.CANCELLED,o))}))})),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await q_(e,r.Ls)}}function kP(n,t){const e=ze(n),r=e.Au.get(t);if(r&&r.hu)return We().add(r.key);{let i=We();const s=e.Iu.get(t);if(!s)return i;for(const o of s){const a=e.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function z_(n){const t=ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CP.bind(null,t),t.Pu.H_=yP.bind(null,t.eventManager),t.Pu.yu=_P.bind(null,t.eventManager),t}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=L_(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $x(this.persistence,new zx,t.initialUser,this.serializer)}Cu(t){return new P_($g.mi,this.serializer)}Du(t){return new Xx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class OP extends Zh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Pn(this.persistence.referenceDelegate instanceof Qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Px(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new P_((r=>Qh.mi(r,e)),this.serializer)}}class Bp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gP})()}createDatastore(t){const e=L_(t.databaseInfo.databaseId),r=(function(s){return new nP(s)})(t.databaseInfo);return(function(s,o,a,l){return new oP(s,o,a,l)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,i,s,o,a){return new lP(r,i,s,o,a)})(this.localStore,this.datastore,t.asyncQueue,(e=>Z0(this.syncEngine,e,0)),(function(){return $0.v()?new $0:new Qx})())}createSyncEngine(t,e){return(function(i,s,o,a,l,u,f){const g=new EP(i,s,o,a,l,u);return f&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=ze(e);Qt(Gl,"RemoteStore shutting down."),r.Ea.add(5),await Nc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ao("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class MP{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Qt(ca,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Qt(ca,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=M_(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ed(n,t){n.asyncQueue.verifyOperationInProgress(),Qt(ca,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await N_(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function e2(n,t){n.asyncQueue.verifyOperationInProgress();const e=await FP(n);Qt(ca,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Y0(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Y0(t.remoteStore,i))),n._onlineComponents=t}async function FP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qt(ca,"Using user provided OfflineComponentProvider");try{await Ed(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===Wt.FAILED_PRECONDITION||i.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;ql("Error using user provided cache. Falling back to memory cache: "+e),await Ed(n,new Zh)}}else Qt(ca,"Using default OfflineComponentProvider"),await Ed(n,new OP(void 0));return n._offlineComponents}async function VP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qt(ca,"Using user provided OnlineComponentProvider"),await e2(n,n._uninitializedComponentsProvider._online)):(Qt(ca,"Using default OnlineComponentProvider"),await e2(n,new Bp))),n._onlineComponents}async function BP(n){const t=await VP(n),e=t.eventManager;return e.onListen=IP.bind(null,t.syncEngine),e.onUnlisten=PP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=TP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=NP.bind(null,t.syncEngine),e}function jP(n,t,e={}){const r=new Ua;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,u){const f=new DP({next:v=>{f.Nu(),o.enqueueAndForget((()=>vP(s,g)));const p=v.docs.has(a);!p&&v.fromCache?u.reject(new ue(Wt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&v.fromCache&&l&&l.source==="server"?u.reject(new ue(Wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new wP(Ug(a.path),f,{includeMetadataChanges:!0,qa:!0});return mP(s,g)})(await BP(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firestore.googleapis.com",r2=!0;class i2{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ue(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W_,this.ssl=r2}else this.host=t.host,this.ssl=t.ssl??r2;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=x_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Tx)throw new ue(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H_(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class r1{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i2(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YI;switch(r.type){case"firstParty":return new ZI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=n2.get(e);r&&(Qt("ComponentProvider","Removing Datastore"),n2.delete(e),r.terminate())})(this),Promise.resolve()}}function UP(n,t,e,r={}){n=Sp(n,r1);const i=Yl(t),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},a=`${t}:${e}`;i&&(sy(`https://${a}`),oy("Firestore",!0)),s.host!==W_&&s.host!==a&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!$a(l,o)&&(n._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Pr.MOCK_USER;else{u=bS(r.mockUserToken,n._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ue(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pr(g)}n._authCredentials=new JI(new Jy(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new i1(this.firestore,t,this._query)}}class Wr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wr(this.firestore,t,this._key)}toJSON(){return{type:Wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Tc(e,Wr._jsonSchema))return new Wr(t,r||null,new de(xn.fromString(e.referencePath)))}}Wr._jsonSchemaVersion="firestore/documentReference/1.0",Wr._jsonSchema={type:Yn("string",Wr._jsonSchemaVersion),referencePath:Yn("string")};class pc extends i1{constructor(t,e,r){super(t,e,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wr(this.firestore,null,new de(t))}withConverter(t){return new pc(this.firestore,t,this._path)}}function qP(n,t,...e){if(n=ho(n),arguments.length===1&&(t=Mg.newId()),sT("doc","path",t),n instanceof r1){const r=xn.fromString(t,...e);return v0(r),new Wr(n,null,new de(r))}{if(!(n instanceof Wr||n instanceof pc))throw new ue(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(t,...e));return v0(r),new Wr(n.firestore,n instanceof pc?n.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="AsyncQueue";class o2{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R_(this,"async_queue_retry"),this._c=()=>{const r=Sd();r&&Qt(s2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Sd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Sd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Zl(t))throw t;Qt(s2,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ao("INTERNAL UNHANDLED ERROR: ",a2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=Zg.createAndSchedule(this,t,e,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:a2(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function a2(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class $_ extends r1{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new o2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o2(t),this._firestoreClient=void 0,await t}}}function G_(n,t){const e=typeof n=="object"?n:Ac(),r=typeof n=="string"?n:Gh,i=Eg(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_S("firestore");s&&UP(i,...s)}return i}function zP(n){if(n._terminated)throw new ue(Wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HP(n),n._firestoreClient}function HP(n){const t=n._freezeSettings(),e=(function(i,s,o,a){return new wT(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,H_(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new MP(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t){this._byteString=t}static fromBase64String(t){try{return new As(gr.fromBase64String(t))}catch(e){throw new ue(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new As(gr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tc(t,As._jsonSchema))return As.fromBase64String(t.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:Yn("string",As._jsonSchemaVersion),bytes:Yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ue(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ue(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ue(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Be(this._lat,t._lat)||Be(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(t){if(Tc(t,na._jsonSchema))return new na(t.latitude,t.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:Yn("string",na._jsonSchemaVersion),latitude:Yn("number"),longitude:Yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tc(t,ra._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ra(t.vectorValues);throw new ue(Wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ra._jsonSchemaVersion="firestore/vectorValue/1.0",ra._jsonSchema={type:Yn("string",ra._jsonSchemaVersion),vectorValues:Yn("object")};const WP=new RegExp("[~\\*/\\[\\]]");function $P(n,t,e){if(t.search(WP)>=0)throw l2(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new K_(...t.split("."))._internalPath}catch{throw l2(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function l2(n,t,e,r,i){let s=`Function ${t}() called with invalid data`;s+=". ";let o="";return new ue(Wt.INVALID_ARGUMENT,s+n+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(J_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class GP extends Y_{data(){return super.data()}}function J_(n,t){return typeof t=="string"?$P(n,t):t instanceof K_?t._internalPath:t._delegate._internalPath}class KP{convertValue(t,e="none"){switch(la(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Un(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ee(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return xc(t,((i,s)=>{r[i]=this.convertValue(s,e)})),r}convertVectorValue(t){const e=t.fields?.[Ip].arrayValue?.values?.map((r=>Un(r.doubleValue)));return new ra(e)}convertGeoPoint(t){return new na(Un(t.latitude),Un(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=If(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(hc(t));default:return null}}convertTimestamp(t){const e=oa(t);return new Kn(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=xn.fromString(t);Pn(T_(r),9688,{name:t});const i=new fc(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(e)||ao(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class ku{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends Y_{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(J_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Yn("string",za._jsonSchemaVersion),bundleSource:Yn("string","DocumentSnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class xh extends za{data(t={}){return super.data(t)}}class Ju{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new xh(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ue(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:YP(a.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ju._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){n=Sp(n,Wr);const t=Sp(n.firestore,$_);return jP(zP(t),n._key).then((e=>QP(t,n,e)))}Ju._jsonSchemaVersion="firestore/querySnapshot/1.0",Ju._jsonSchema={type:Yn("string",Ju._jsonSchemaVersion),bundleSource:Yn("string","QuerySnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class XP extends KP{constructor(t){super(),this.firestore=t}convertBytes(t){return new As(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wr(this.firestore,null,e)}}function QP(n,t,e){const r=e.docs.get(t._key),i=new XP(n);return new za(n,i,t._key,r,new ku(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){Ql=i})(Jl),jl(new Ga("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $_(new XI(r.getProvider("auth-internal")),new tT(o,r.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(u.options.projectId,f)})(o,i),o);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),ta(d0,p0,t),ta(d0,p0,"esm2020")})();const ZP={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.appspot.com",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"},X_=Ig().length?Ac():_f(ZP),Q_=qy(X_),tN=G_(X_),ti=vc({user:null,profile:null,get isAuthed(){return!!this.user},get role(){return this.profile?.role||"user"},get isAdmin(){return this.role==="admin"}}),eN=(n,t)=>{const e=n.__vccOpts||n;for(const[r,i]of t)e[r]=i;return e},nN={class:"navbar navbar-dark bg-dark navbar-expand",role:"navigation","aria-label":"Main navigation"},rN={class:"container"},iN=["aria-expanded"],sN={class:"navbar-nav ms-auto"},oN={class:"nav-item"},aN={class:"nav-item"},lN={class:"nav-item"},uN={class:"nav-item"},cN={class:"nav-item"},hN={class:"nav-item"},fN={class:"nav-item"},dN={class:"nav-item"},pN={class:"nav-item"},gN={class:"nav-item"},mN={class:"nav-item"},vN={key:0,class:"nav-item"},yN={key:1,class:"nav-item"},_N={key:2,class:"nav-item"},wN={key:3,class:"nav-item d-flex align-items-center"},bN={class:"navbar-text small me-2",role:"status","aria-live":"polite"},AN={__name:"NavBar",setup(n){const t=uS(),e=np(!1),r=np(null);function i(){e.value=!e.value}function s(){if(!r.value)return;r.value.classList.contains("show")&&(document.querySelector('[data-bs-target="#mainNav"]')?.click(),e.value=!1)}async function o(){try{await D6(Q_)}catch(a){console.error("signOut failed:",a)}finally{ti.user=null,ti.profile=null,t.push("/firelogin")}}return gv(()=>{e.value=!1}),(a,l)=>{const u=rp("RouterLink"),f=rp("router-link");return zo(),dl(ys,null,[l[16]||(l[16]=Tn("a",{class:"skip-link",href:"#main-content"},"Skip to main content",-1)),Tn("nav",nN,[Tn("div",rN,[nn(u,{to:"/",class:"navbar-brand","aria-label":"Go to Home"},{default:Tr(()=>[...l[0]||(l[0]=[xr("My Gym App",-1)])]),_:1}),Tn("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#mainNav","aria-expanded":e.value?"true":"false","aria-controls":"mainNav","aria-label":"Toggle navigation menu",onClick:i},[...l[1]||(l[1]=[Tn("span",{class:"navbar-toggler-icon","aria-hidden":"true"},null,-1)])],8,iN),Tn("div",{id:"mainNav",class:"collapse navbar-collapse",ref_key:"navCollapse",ref:r},[Tn("ul",sN,[Tn("li",oN,[nn(u,{to:"/",class:"nav-link",onClick:s},{default:Tr(()=>[...l[2]||(l[2]=[xr("Home",-1)])]),_:1})]),Tn("li",aN,[nn(u,{to:"/members",class:"nav-link",onClick:s},{default:Tr(()=>[...l[3]||(l[3]=[xr("Members",-1)])]),_:1})]),Tn("li",lN,[nn(u,{to:"/classes",class:"nav-link",onClick:s},{default:Tr(()=>[...l[4]||(l[4]=[xr("Classes",-1)])]),_:1})]),Tn("li",uN,[nn(u,{to:"/form",class:"nav-link",onClick:s},{default:Tr(()=>[...l[5]||(l[5]=[xr("Form",-1)])]),_:1})]),Tn("li",cN,[nn(u,{to:"/about",class:"nav-link",onClick:s},{default:Tr(()=>[...l[6]||(l[6]=[xr("About",-1)])]),_:1})]),Tn("li",hN,[nn(u,{to:"/map",class:"nav-link","aria-label":"Open Gym Map showing nearby gyms",onClick:s},{default:Tr(()=>[...l[7]||(l[7]=[xr(" 🗺️ Gym Map ",-1)])]),_:1})]),Tn("li",fN,[nn(f,{to:"/WeatherCheck",class:"nav-link","active-class":"active"},{default:Tr(()=>[...l[8]||(l[8]=[xr(" Get Weather ",-1)])]),_:1})]),Tn("li",dN,[nn(u,{to:"/book",class:"nav-link",onClick:s},{default:Tr(()=>[...l[9]||(l[9]=[xr("Book",-1)])]),_:1})]),Tn("li",pN,[nn(u,{to:"/analytics",class:"nav-link",onClick:s},{default:Tr(()=>[...l[10]||(l[10]=[xr("Analytics",-1)])]),_:1})]),Tn("li",gN,[nn(u,{to:"/public-classes",class:"nav-link",onClick:s},{default:Tr(()=>[...l[11]||(l[11]=[xr("Public API",-1)])]),_:1})]),Tn("li",mN,[nn(u,{to:{name:"email-test"},class:"nav-link",onClick:s},{default:Tr(()=>[...l[12]||(l[12]=[xr("Email Test",-1)])]),_:1})]),Pi(ti).isAuthed?Nu("",!0):(zo(),dl("li",vN,[nn(u,{to:"/firelogin",class:"nav-link",onClick:s},{default:Tr(()=>[...l[13]||(l[13]=[xr("Login",-1)])]),_:1})])),Pi(ti).isAuthed?Nu("",!0):(zo(),dl("li",yN,[nn(u,{to:"/fireregister",class:"nav-link",onClick:s},{default:Tr(()=>[...l[14]||(l[14]=[xr("Register",-1)])]),_:1})])),Pi(ti).isAdmin?(zo(),dl("li",_N,[nn(u,{to:"/admin",class:"nav-link",onClick:s},{default:Tr(()=>[...l[15]||(l[15]=[xr("Admin",-1)])]),_:1})])):Nu("",!0),Pi(ti).isAuthed?(zo(),dl("li",wN,[Tn("span",bN,B5(Pi(ti).profile?.email||Pi(ti).user?.email),1),Tn("button",{class:"btn btn-sm btn-outline-light",type:"button",onClick:o}," Logout ")])):Nu("",!0)])],512)])])],64)}}},SN=eN(AN,[["__scopeId","data-v-c4aa8698"]]),EN={id:"layout"},IN={class:"container py-4"},TN={__name:"App",setup(n){const t=cS(),e=Ni(()=>t.name!=="CountBookAPI");return(r,i)=>{const s=rp("RouterView");return zo(),dl("div",EN,[e.value?(zo(),Dv(SN,{key:0})):Nu("",!0),Tn("main",IN,[nn(s)])])}}},xN="modulepreload",PN=function(n){return"/5032-A3/"+n},u2={},Id=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(e.map(u=>{if(u=PN(u),u in u2)return;u2[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":xN,f||(v.as="script"),v.crossOrigin="",v.href=u,a&&v.setAttribute("nonce",a),document.head.appendChild(v),f)return new Promise((p,T)=>{v.addEventListener("load",p),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},NN={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.firebasestorage.app",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"},Z_=Ig().length?Ac():_f(NN);qy(Z_);G_(Z_);function rn(n){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(n)}var Ki=Uint8Array,_i=Uint16Array,s1=Int32Array,o1=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a1=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c2=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tw=function(n,t){for(var e=new _i(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new s1(e[30]),r=1;r<30;++r)for(var s=e[r];s<e[r+1];++s)i[s]=s-e[r]<<5|r;return{b:e,r:i}},ew=tw(o1,2),CN=ew.b,jp=ew.r;CN[28]=258,jp[258]=28;var LN=tw(a1,0),h2=LN.r,Up=new _i(32768);for(var vn=0;vn<32768;++vn){var Fo=(vn&43690)>>1|(vn&21845)<<1;Fo=(Fo&52428)>>2|(Fo&13107)<<2,Fo=(Fo&61680)>>4|(Fo&3855)<<4,Up[vn]=((Fo&65280)>>8|(Fo&255)<<8)>>1}var Xu=(function(n,t,e){for(var r=n.length,i=0,s=new _i(t);i<r;++i)n[i]&&++s[n[i]-1];var o=new _i(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(e){a=new _i(1<<t);var l=15-t;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],f=t-n[i],g=o[n[i]-1]++<<f,v=g|(1<<f)-1;g<=v;++g)a[Up[g]>>l]=u}else for(a=new _i(r),i=0;i<r;++i)n[i]&&(a[i]=Up[o[n[i]-1]++]>>15-n[i]);return a}),Ja=new Ki(288);for(var vn=0;vn<144;++vn)Ja[vn]=8;for(var vn=144;vn<256;++vn)Ja[vn]=9;for(var vn=256;vn<280;++vn)Ja[vn]=7;for(var vn=280;vn<288;++vn)Ja[vn]=8;var tf=new Ki(32);for(var vn=0;vn<32;++vn)tf[vn]=5;var RN=Xu(Ja,9,0),kN=Xu(tf,5,0),nw=function(n){return(n+7)/8|0},ON=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Ki(n.subarray(t,e))},Ks=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Tu=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Td=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,s=e.slice();if(!i)return{t:iw,l:0};if(i==1){var o=new Ki(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(ct,Et){return ct.f-Et.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,f=1,g=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=e[e[u].f<e[g].f?u++:g++],l=e[u!=f&&e[u].f<e[g].f?u++:g++],e[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new _i(v+1),T=qp(e[f-1],p,0);if(T>t){var r=0,L=0,R=T-t,C=1<<R;for(s.sort(function(Et,U){return p[U.s]-p[Et.s]||Et.f-U.f});r<i;++r){var $=s[r].s;if(p[$]>t)L+=C-(1<<T-p[$]),p[$]=t;else break}for(L>>=R;L>0;){var G=s[r].s;p[G]<t?L-=1<<t-p[G]++-1:++r}for(;r>=0&&L;--r){var z=s[r].s;p[z]==t&&(--p[z],++L)}T=t}return{t:new Ki(p),l:T}},qp=function(n,t,e){return n.s==-1?Math.max(qp(n.l,t,e+1),qp(n.r,t,e+1)):t[n.s]=e},f2=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new _i(++t),r=0,i=n[0],s=1,o=function(l){e[r++]=l},a=1;a<=t;++a)if(n[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:e.subarray(0,r),n:t}},xu=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},rw=function(n,t,e){var r=e.length,i=nw(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=e[s];return(i+4+r)*8},d2=function(n,t,e,r,i,s,o,a,l,u,f){Ks(t,f++,e),++i[256];for(var g=Td(i,15),v=g.t,p=g.l,T=Td(s,15),L=T.t,R=T.l,C=f2(v),$=C.c,G=C.n,z=f2(L),ct=z.c,Et=z.n,U=new _i(19),x=0;x<$.length;++x)++U[$[x]&31];for(var x=0;x<ct.length;++x)++U[ct[x]&31];for(var S=Td(U,7),F=S.t,b=S.l,E=19;E>4&&!F[c2[E-1]];--E);var I=u+5<<3,tt=xu(i,Ja)+xu(s,tf)+o,wt=xu(i,v)+xu(s,L)+o+14+3*E+xu(U,F)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&I<=tt&&I<=wt)return rw(t,f,n.subarray(l,l+u));var At,mt,at,Tt;if(Ks(t,f,1+(wt<tt)),f+=2,wt<tt){At=Xu(v,p,0),mt=v,at=Xu(L,R,0),Tt=L;var Vt=Xu(F,b,0);Ks(t,f,G-257),Ks(t,f+5,Et-1),Ks(t,f+10,E-4),f+=14;for(var x=0;x<E;++x)Ks(t,f+3*x,F[c2[x]]);f+=3*E;for(var Ot=[$,ct],k=0;k<2;++k)for(var K=Ot[k],x=0;x<K.length;++x){var Z=K[x]&31;Ks(t,f,Vt[Z]),f+=F[Z],Z>15&&(Ks(t,f,K[x]>>5&127),f+=K[x]>>12)}}else At=RN,mt=Ja,at=kN,Tt=tf;for(var x=0;x<a;++x){var rt=r[x];if(rt>255){var Z=rt>>18&31;Tu(t,f,At[Z+257]),f+=mt[Z+257],Z>7&&(Ks(t,f,rt>>23&31),f+=o1[Z]);var ot=rt&31;Tu(t,f,at[ot]),f+=Tt[ot],ot>3&&(Tu(t,f,rt>>5&8191),f+=a1[ot])}else Tu(t,f,At[rt]),f+=mt[rt]}return Tu(t,f,At[256]),f+mt[256]},DN=new s1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iw=new Ki(0),MN=function(n,t,e,r,i,s){var o=s.z||n.length,a=new Ki(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var g=DN[t-1],v=g>>13,p=g&8191,T=(1<<e)-1,L=s.p||new _i(32768),R=s.h||new _i(T+1),C=Math.ceil(e/3),$=2*C,G=function(H){return(n[H]^n[H+1]<<C^n[H+2]<<$)&T},z=new s1(25e3),ct=new _i(288),Et=new _i(32),U=0,x=0,S=s.i||0,F=0,b=s.w||0,E=0;S+2<o;++S){var I=G(S),tt=S&32767,wt=R[I];if(L[tt]=wt,R[I]=tt,b<=S){var At=o-S;if((U>7e3||F>24576)&&(At>423||!u)){f=d2(n,l,0,z,ct,Et,x,F,E,S-E,f),F=U=x=0,E=S;for(var mt=0;mt<286;++mt)ct[mt]=0;for(var mt=0;mt<30;++mt)Et[mt]=0}var at=2,Tt=0,Vt=p,Ot=tt-wt&32767;if(At>2&&I==G(S-Ot))for(var k=Math.min(v,At)-1,K=Math.min(32767,S),Z=Math.min(258,At);Ot<=K&&--Vt&&tt!=wt;){if(n[S+at]==n[S+at-Ot]){for(var rt=0;rt<Z&&n[S+rt]==n[S+rt-Ot];++rt);if(rt>at){if(at=rt,Tt=Ot,rt>k)break;for(var ot=Math.min(Ot,rt-2),Q=0,mt=0;mt<ot;++mt){var it=S-Ot+mt&32767,nt=L[it],ut=it-nt&32767;ut>Q&&(Q=ut,wt=it)}}}tt=wt,wt=L[tt],Ot+=tt-wt&32767}if(Tt){z[F++]=268435456|jp[at]<<18|h2[Tt];var Nt=jp[at]&31,j=h2[Tt]&31;x+=o1[Nt]+a1[j],++ct[257+Nt],++Et[j],b=S+at,++U}else z[F++]=n[S],++ct[n[S]]}}for(S=Math.max(S,b);S<o;++S)z[F++]=n[S],++ct[n[S]];f=d2(n,l,u,z,ct,Et,x,F,E,S-E,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=R,s.p=L,s.i=S,s.w=b)}else{for(var S=s.w||0;S<o+u;S+=65535){var W=S+65535;W>=o&&(l[f/8|0]=u,W=o),f=rw(l,f+1,n.subarray(S,W))}s.i=o}return ON(a,0,r+nw(f)+i)},sw=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,s=e.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=e[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},FN=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ki(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return MN(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},ow=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},VN=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=sw();i.p(t.dictionary),ow(n,2,i.d())}};function zp(n,t){t||(t={});var e=sw();e.p(n);var r=FN(n,t,t.dictionary?6:2,4);return VN(r,t),ow(r,r.length-4,e.d()),r}var BN=typeof TextDecoder<"u"&&new TextDecoder,jN=0;try{BN.decode(iw,{stream:!0}),jN=1}catch{}function UN(n){if(Array.isArray(n))return n}function qN(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(e=e.call(n)).next,t!==0)for(;!(l=(r=s.call(e)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function p2(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function zN(n,t){if(n){if(typeof n=="string")return p2(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p2(n,t):void 0}}function HN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2(n,t){return UN(n)||qN(n,t)||zN(n,t)||HN()}function m2(n,t="utf8"){return new TextDecoder(t).decode(n)}const WN=new TextEncoder;function $N(n){return WN.encode(n)}const GN=1024*8,KN=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),xd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=GN,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof l1)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=xd[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===KN&&e!=="uint8"&&e!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new xd[e](a.buffer);return this.offset+=r,l.reverse(),l}const o=new xd[e](s);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return m2(this.readBytes(t))}decodeText(t=1,e="utf8"){return m2(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes($N(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function eu(n){let t=n.length;for(;--t>=0;)n[t]=0}const YN=3,JN=258,aw=29,XN=256,QN=XN+1+aw,lw=30,ZN=512,tC=new Array((QN+2)*2);eu(tC);const eC=new Array(lw*2);eu(eC);const nC=new Array(ZN);eu(nC);const rC=new Array(JN-YN+1);eu(rC);const iC=new Array(aw);eu(iC);const sC=new Array(lw);eu(sC);const oC=(n,t,e,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Hp=oC;const aC=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},lC=new Uint32Array(aC()),uC=(n,t,e,r)=>{const i=lC,s=r+e;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^t[o])&255];return n^-1};var ps=uC,Wp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cC=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var hC=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)cC(e,r)&&(n[r]=e[r])}}return n},fC=n=>{let t=0;for(let r=0,i=n.length;r<i;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];e.set(o,i),i+=o.length}return e},cw={assign:hC,flattenChunks:fC};let hw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hw=!1}const gc=new Uint8Array(256);for(let n=0;n<256;n++)gc[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;gc[254]=gc[254]=1;var dC=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const pC=(n,t)=>{if(t<65534&&n.subarray&&hw)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var gC=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,i;const s=new Array(e*2);for(i=0,r=0;r<e;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=gc[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<e;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return pC(s,i)},mC=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+gc[n[e]]>t?e:t},$p={string2buf:dC,buf2string:gC,utf8border:mC};function vC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yC=vC;const sh=16209,_C=16191;var wC=function(t,e){let r,i,s,o,a,l,u,f,g,v,p,T,L,R,C,$,G,z,ct,Et,U,x,S,F;const b=t.state;r=t.next_in,S=t.input,i=r+(t.avail_in-5),s=t.next_out,F=t.output,o=s-(e-t.avail_out),a=s+(t.avail_out-257),l=b.dmax,u=b.wsize,f=b.whave,g=b.wnext,v=b.window,p=b.hold,T=b.bits,L=b.lencode,R=b.distcode,C=(1<<b.lenbits)-1,$=(1<<b.distbits)-1;t:do{T<15&&(p+=S[r++]<<T,T+=8,p+=S[r++]<<T,T+=8),G=L[p&C];e:for(;;){if(z=G>>>24,p>>>=z,T-=z,z=G>>>16&255,z===0)F[s++]=G&65535;else if(z&16){ct=G&65535,z&=15,z&&(T<z&&(p+=S[r++]<<T,T+=8),ct+=p&(1<<z)-1,p>>>=z,T-=z),T<15&&(p+=S[r++]<<T,T+=8,p+=S[r++]<<T,T+=8),G=R[p&$];n:for(;;){if(z=G>>>24,p>>>=z,T-=z,z=G>>>16&255,z&16){if(Et=G&65535,z&=15,T<z&&(p+=S[r++]<<T,T+=8,T<z&&(p+=S[r++]<<T,T+=8)),Et+=p&(1<<z)-1,Et>l){t.msg="invalid distance too far back",b.mode=sh;break t}if(p>>>=z,T-=z,z=s-o,Et>z){if(z=Et-z,z>f&&b.sane){t.msg="invalid distance too far back",b.mode=sh;break t}if(U=0,x=v,g===0){if(U+=u-z,z<ct){ct-=z;do F[s++]=v[U++];while(--z);U=s-Et,x=F}}else if(g<z){if(U+=u+g-z,z-=g,z<ct){ct-=z;do F[s++]=v[U++];while(--z);if(U=0,g<ct){z=g,ct-=z;do F[s++]=v[U++];while(--z);U=s-Et,x=F}}}else if(U+=g-z,z<ct){ct-=z;do F[s++]=v[U++];while(--z);U=s-Et,x=F}for(;ct>2;)F[s++]=x[U++],F[s++]=x[U++],F[s++]=x[U++],ct-=3;ct&&(F[s++]=x[U++],ct>1&&(F[s++]=x[U++]))}else{U=s-Et;do F[s++]=F[U++],F[s++]=F[U++],F[s++]=F[U++],ct-=3;while(ct>2);ct&&(F[s++]=F[U++],ct>1&&(F[s++]=F[U++]))}}else if((z&64)===0){G=R[(G&65535)+(p&(1<<z)-1)];continue n}else{t.msg="invalid distance code",b.mode=sh;break t}break}}else if((z&64)===0){G=L[(G&65535)+(p&(1<<z)-1)];continue e}else if(z&32){b.mode=_C;break t}else{t.msg="invalid literal/length code",b.mode=sh;break t}break}}while(r<i&&s<a);ct=T>>3,r-=ct,T-=ct<<3,p&=(1<<T)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),b.hold=p,b.bits=T};const ul=15,v2=852,y2=592,_2=0,Pd=1,w2=2,bC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),SC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),EC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),IC=(n,t,e,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,g=0,v=0,p=0,T=0,L=0,R=0,C=0,$=0,G,z,ct,Et,U,x=null,S;const F=new Uint16Array(ul+1),b=new Uint16Array(ul+1);let E=null,I,tt,wt;for(u=0;u<=ul;u++)F[u]=0;for(f=0;f<r;f++)F[t[e+f]]++;for(p=l,v=ul;v>=1&&F[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<v&&F[g]===0;g++);for(p<g&&(p=g),R=1,u=1;u<=ul;u++)if(R<<=1,R-=F[u],R<0)return-1;if(R>0&&(n===_2||v!==1))return-1;for(b[1]=0,u=1;u<ul;u++)b[u+1]=b[u]+F[u];for(f=0;f<r;f++)t[e+f]!==0&&(o[b[t[e+f]]++]=f);if(n===_2?(x=E=o,S=20):n===Pd?(x=bC,E=AC,S=257):(x=SC,E=EC,S=0),$=0,f=0,u=g,U=s,T=p,L=0,ct=-1,C=1<<p,Et=C-1,n===Pd&&C>v2||n===w2&&C>y2)return 1;for(;;){I=u-L,o[f]+1<S?(tt=0,wt=o[f]):o[f]>=S?(tt=E[o[f]-S],wt=x[o[f]-S]):(tt=96,wt=0),G=1<<u-L,z=1<<T,g=z;do z-=G,i[U+($>>L)+z]=I<<24|tt<<16|wt|0;while(z!==0);for(G=1<<u-1;$&G;)G>>=1;if(G!==0?($&=G-1,$+=G):$=0,f++,--F[u]===0){if(u===v)break;u=t[e+o[f]]}if(u>p&&($&Et)!==ct){for(L===0&&(L=p),U+=g,T=u-L,R=1<<T;T+L<v&&(R-=F[T+L],!(R<=0));)T++,R<<=1;if(C+=1<<T,n===Pd&&C>v2||n===w2&&C>y2)return 1;ct=$&Et,i[ct]=p<<24|T<<16|U-s|0}}return $!==0&&(i[U+$]=u-L<<24|64<<16|0),a.bits=p,0};var Qu=IC;const TC=0,fw=1,dw=2,{Z_FINISH:b2,Z_BLOCK:xC,Z_TREES:oh,Z_OK:Xa,Z_STREAM_END:PC,Z_NEED_DICT:NC,Z_STREAM_ERROR:Li,Z_DATA_ERROR:pw,Z_MEM_ERROR:gw,Z_BUF_ERROR:CC,Z_DEFLATED:A2}=uw,kf=16180,S2=16181,E2=16182,I2=16183,T2=16184,x2=16185,P2=16186,N2=16187,C2=16188,L2=16189,ef=16190,Ys=16191,Nd=16192,R2=16193,Cd=16194,k2=16195,O2=16196,D2=16197,M2=16198,ah=16199,lh=16200,F2=16201,V2=16202,B2=16203,j2=16204,U2=16205,Ld=16206,q2=16207,z2=16208,bn=16209,mw=16210,vw=16211,LC=852,RC=592,kC=15,OC=kC,H2=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function DC(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const tl=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<kf||t.mode>vw?1:0},yw=n=>{if(tl(n))return Li;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=kf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(LC),t.distcode=t.distdyn=new Int32Array(RC),t.sane=1,t.back=-1,Xa},_w=n=>{if(tl(n))return Li;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,yw(n)},ww=(n,t)=>{let e;if(tl(n))return Li;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Li:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,_w(n))},bw=(n,t)=>{if(!n)return Li;const e=new DC;n.state=e,e.strm=n,e.window=null,e.mode=kf;const r=ww(n,t);return r!==Xa&&(n.state=null),r},MC=n=>bw(n,OC);let W2=!0,Rd,kd;const FC=n=>{if(W2){Rd=new Int32Array(512),kd=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Qu(fw,n.lens,0,288,Rd,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Qu(dw,n.lens,0,32,kd,0,n.work,{bits:5}),W2=!1}n.lencode=Rd,n.lenbits=9,n.distcode=kd,n.distbits=5},Aw=(n,t,e,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(e-r,e-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(e-r,e),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},VC=(n,t)=>{let e,r,i,s,o,a,l,u,f,g,v,p,T,L,R=0,C,$,G,z,ct,Et,U,x;const S=new Uint8Array(4);let F,b;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(tl(n)||!n.output||!n.input&&n.avail_in!==0)return Li;e=n.state,e.mode===Ys&&(e.mode=Nd),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=e.hold,f=e.bits,g=a,v=l,x=Xa;t:for(;;)switch(e.mode){case kf:if(e.wrap===0){e.mode=Nd;break}for(;f<16;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,S[0]=u&255,S[1]=u>>>8&255,e.check=ps(e.check,S,2,0),u=0,f=0,e.mode=S2;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",e.mode=bn;break}if((u&15)!==A2){n.msg="unknown compression method",e.mode=bn;break}if(u>>>=4,f-=4,U=(u&15)+8,e.wbits===0&&(e.wbits=U),U>15||U>e.wbits){n.msg="invalid window size",e.mode=bn;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=u&512?L2:Ys,u=0,f=0;break;case S2:for(;f<16;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(e.flags=u,(e.flags&255)!==A2){n.msg="unknown compression method",e.mode=bn;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=bn;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,e.check=ps(e.check,S,2,0)),u=0,f=0,e.mode=E2;case E2:for(;f<32;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,e.check=ps(e.check,S,4,0)),u=0,f=0,e.mode=I2;case I2:for(;f<16;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,e.check=ps(e.check,S,2,0)),u=0,f=0,e.mode=T2;case T2:if(e.flags&1024){for(;f<16;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,e.check=ps(e.check,S,2,0)),u=0,f=0}else e.head&&(e.head.extra=null);e.mode=x2;case x2:if(e.flags&1024&&(p=e.length,p>a&&(p=a),p&&(e.head&&(U=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(s,s+p),U)),e.flags&512&&e.wrap&4&&(e.check=ps(e.check,r,p,s)),a-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=P2;case P2:if(e.flags&2048){if(a===0)break t;p=0;do U=r[s+p++],e.head&&U&&e.length<65536&&(e.head.name+=String.fromCharCode(U));while(U&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ps(e.check,r,p,s)),a-=p,s+=p,U)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=N2;case N2:if(e.flags&4096){if(a===0)break t;p=0;do U=r[s+p++],e.head&&U&&e.length<65536&&(e.head.comment+=String.fromCharCode(U));while(U&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=ps(e.check,r,p,s)),a-=p,s+=p,U)break t}else e.head&&(e.head.comment=null);e.mode=C2;case C2:if(e.flags&512){for(;f<16;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(e.wrap&4&&u!==(e.check&65535)){n.msg="header crc mismatch",e.mode=bn;break}u=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ys;break;case L2:for(;f<32;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}n.adler=e.check=H2(u),u=0,f=0,e.mode=ef;case ef:if(e.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=u,e.bits=f,NC;n.adler=e.check=1,e.mode=Ys;case Ys:if(t===xC||t===oh)break t;case Nd:if(e.last){u>>>=f&7,f-=f&7,e.mode=Ld;break}for(;f<3;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}switch(e.last=u&1,u>>>=1,f-=1,u&3){case 0:e.mode=R2;break;case 1:if(FC(e),e.mode=ah,t===oh){u>>>=2,f-=2;break t}break;case 2:e.mode=O2;break;case 3:n.msg="invalid block type",e.mode=bn}u>>>=2,f-=2;break;case R2:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",e.mode=bn;break}if(e.length=u&65535,u=0,f=0,e.mode=Cd,t===oh)break t;case Cd:e.mode=k2;case k2:if(p=e.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break t;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,e.length-=p;break}e.mode=Ys;break;case O2:for(;f<14;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(e.nlen=(u&31)+257,u>>>=5,f-=5,e.ndist=(u&31)+1,u>>>=5,f-=5,e.ncode=(u&15)+4,u>>>=4,f-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=bn;break}e.have=0,e.mode=D2;case D2:for(;e.have<e.ncode;){for(;f<3;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.lens[E[e.have++]]=u&7,u>>>=3,f-=3}for(;e.have<19;)e.lens[E[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},x=Qu(TC,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,x){n.msg="invalid code lengths set",e.mode=bn;break}e.have=0,e.mode=M2;case M2:for(;e.have<e.nlen+e.ndist;){for(;R=e.lencode[u&(1<<e.lenbits)-1],C=R>>>24,$=R>>>16&255,G=R&65535,!(C<=f);){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(G<16)u>>>=C,f-=C,e.lens[e.have++]=G;else{if(G===16){for(b=C+2;f<b;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(u>>>=C,f-=C,e.have===0){n.msg="invalid bit length repeat",e.mode=bn;break}U=e.lens[e.have-1],p=3+(u&3),u>>>=2,f-=2}else if(G===17){for(b=C+3;f<b;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}u>>>=C,f-=C,U=0,p=3+(u&7),u>>>=3,f-=3}else{for(b=C+7;f<b;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}u>>>=C,f-=C,U=0,p=11+(u&127),u>>>=7,f-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=bn;break}for(;p--;)e.lens[e.have++]=U}}if(e.mode===bn)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=bn;break}if(e.lenbits=9,F={bits:e.lenbits},x=Qu(fw,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,x){n.msg="invalid literal/lengths set",e.mode=bn;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},x=Qu(dw,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,x){n.msg="invalid distances set",e.mode=bn;break}if(e.mode=ah,t===oh)break t;case ah:e.mode=lh;case lh:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=u,e.bits=f,wC(n,v),o=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=e.hold,f=e.bits,e.mode===Ys&&(e.back=-1);break}for(e.back=0;R=e.lencode[u&(1<<e.lenbits)-1],C=R>>>24,$=R>>>16&255,G=R&65535,!(C<=f);){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if($&&($&240)===0){for(z=C,ct=$,Et=G;R=e.lencode[Et+((u&(1<<z+ct)-1)>>z)],C=R>>>24,$=R>>>16&255,G=R&65535,!(z+C<=f);){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}u>>>=z,f-=z,e.back+=z}if(u>>>=C,f-=C,e.back+=C,e.length=G,$===0){e.mode=U2;break}if($&32){e.back=-1,e.mode=Ys;break}if($&64){n.msg="invalid literal/length code",e.mode=bn;break}e.extra=$&15,e.mode=F2;case F2:if(e.extra){for(b=e.extra;f<b;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=V2;case V2:for(;R=e.distcode[u&(1<<e.distbits)-1],C=R>>>24,$=R>>>16&255,G=R&65535,!(C<=f);){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(($&240)===0){for(z=C,ct=$,Et=G;R=e.distcode[Et+((u&(1<<z+ct)-1)>>z)],C=R>>>24,$=R>>>16&255,G=R&65535,!(z+C<=f);){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}u>>>=z,f-=z,e.back+=z}if(u>>>=C,f-=C,e.back+=C,$&64){n.msg="invalid distance code",e.mode=bn;break}e.offset=G,e.extra=$&15,e.mode=B2;case B2:if(e.extra){for(b=e.extra;f<b;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=bn;break}e.mode=j2;case j2:if(l===0)break t;if(p=v-l,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=bn;break}p>e.wnext?(p-=e.wnext,T=e.wsize-p):T=e.wnext-p,p>e.length&&(p=e.length),L=e.window}else L=i,T=o-e.offset,p=e.length;p>l&&(p=l),l-=p,e.length-=p;do i[o++]=L[T++];while(--p);e.length===0&&(e.mode=lh);break;case U2:if(l===0)break t;i[o++]=e.length,l--,e.mode=lh;break;case Ld:if(e.wrap){for(;f<32;){if(a===0)break t;a--,u|=r[s++]<<f,f+=8}if(v-=l,n.total_out+=v,e.total+=v,e.wrap&4&&v&&(n.adler=e.check=e.flags?ps(e.check,i,v,o-v):Hp(e.check,i,v,o-v)),v=l,e.wrap&4&&(e.flags?u:H2(u))!==e.check){n.msg="incorrect data check",e.mode=bn;break}u=0,f=0}e.mode=q2;case q2:if(e.wrap&&e.flags){for(;f<32;){if(a===0)break t;a--,u+=r[s++]<<f,f+=8}if(e.wrap&4&&u!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=bn;break}u=0,f=0}e.mode=z2;case z2:x=PC;break t;case bn:x=pw;break t;case mw:return gw;case vw:default:return Li}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=u,e.bits=f,(e.wsize||v!==n.avail_out&&e.mode<bn&&(e.mode<Ld||t!==b2))&&Aw(n,n.output,n.next_out,v-n.avail_out),g-=n.avail_in,v-=n.avail_out,n.total_in+=g,n.total_out+=v,e.total+=v,e.wrap&4&&v&&(n.adler=e.check=e.flags?ps(e.check,i,v,n.next_out-v):Hp(e.check,i,v,n.next_out-v)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ys?128:0)+(e.mode===ah||e.mode===Cd?256:0),(g===0&&v===0||t===b2)&&x===Xa&&(x=CC),x},BC=n=>{if(tl(n))return Li;let t=n.state;return t.window&&(t.window=null),n.state=null,Xa},jC=(n,t)=>{if(tl(n))return Li;const e=n.state;return(e.wrap&2)===0?Li:(e.head=t,t.done=!1,Xa)},UC=(n,t)=>{const e=t.length;let r,i,s;return tl(n)||(r=n.state,r.wrap!==0&&r.mode!==ef)?Li:r.mode===ef&&(i=1,i=Hp(i,t,e,0),i!==r.check)?pw:(s=Aw(n,t,e,e),s?(r.mode=mw,gw):(r.havedict=1,Xa))};var qC=_w,zC=ww,HC=yw,WC=MC,$C=bw,GC=VC,KC=BC,YC=jC,JC=UC,XC="pako inflate (from Nodeca project)",Xs={inflateReset:qC,inflateReset2:zC,inflateResetKeep:HC,inflateInit:WC,inflateInit2:$C,inflate:GC,inflateEnd:KC,inflateGetHeader:YC,inflateSetDictionary:JC,inflateInfo:XC};function QC(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ZC=QC;const Sw=Object.prototype.toString,{Z_NO_FLUSH:tL,Z_FINISH:eL,Z_OK:mc,Z_STREAM_END:Od,Z_NEED_DICT:Dd,Z_STREAM_ERROR:nL,Z_DATA_ERROR:$2,Z_MEM_ERROR:rL}=uw;function Lc(n){this.options=cw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yC,this.strm.avail_out=0;let e=Xs.inflateInit2(this.strm,t.windowBits);if(e!==mc)throw new Error(Wp[e]);if(this.header=new ZC,Xs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=$p.string2buf(t.dictionary):Sw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Xs.inflateSetDictionary(this.strm,t.dictionary),e!==mc)))throw new Error(Wp[e])}Lc.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?eL:tL,Sw.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),s=Xs.inflate(e,o),s===Dd&&i&&(s=Xs.inflateSetDictionary(e,i),s===mc?s=Xs.inflate(e,o):s===$2&&(s=Dd));e.avail_in>0&&s===Od&&e.state.wrap>0&&n[e.next_in]!==0;)Xs.inflateReset(e),s=Xs.inflate(e,o);switch(s){case nL:case $2:case Dd:case rL:return this.onEnd(s),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||s===Od))if(this.options.to==="string"){let l=$p.utf8border(e.output,e.next_out),u=e.next_out-l,f=$p.buf2string(e.output,l);e.next_out=u,e.avail_out=r-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===mc&&a===0)){if(s===Od)return s=Xs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Lc.prototype.onData=function(n){this.chunks.push(n)};Lc.prototype.onEnd=function(n){n===mc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function iL(n,t){const e=new Lc(t);if(e.push(n),e.err)throw e.msg||Wp[e.err];return e.result}var sL=Lc,oL=iL,aL={Inflate:sL,inflate:oL};const{Inflate:lL,inflate:uL}=aL;var G2=lL,cL=uL;const Ew=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Ew[n]=t}const K2=4294967295;function hL(n,t,e){let r=n;for(let i=0;i<e;i++)r=Ew[(r^t[i])&255]^r>>>8;return r}function fL(n,t){return(hL(K2,n,t)^K2)>>>0}function Y2(n,t,e){const r=n.readUint32(),i=fL(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}function Iw(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function Tw(n,t,e,r){let i=0;for(;i<r;i++)t[i]=n[i];for(;i<e;i++)t[i]=n[i]+t[i-r]&255}function xw(n,t,e,r){let i=0;if(e.length===0)for(;i<r;i++)t[i]=n[i];else for(;i<r;i++)t[i]=n[i]+e[i]&255}function Pw(n,t,e,r,i){let s=0;if(e.length===0){for(;s<i;s++)t[s]=n[s];for(;s<r;s++)t[s]=n[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=n[s]+(e[s]>>1)&255;for(;s<r;s++)t[s]=n[s]+(t[s-i]+e[s]>>1)&255}}function Nw(n,t,e,r,i){let s=0;if(e.length===0){for(;s<i;s++)t[s]=n[s];for(;s<r;s++)t[s]=n[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=n[s]+e[s]&255;for(;s<r;s++)t[s]=n[s]+dL(t[s-i],e[s],e[s-i])&255}}function dL(n,t,e){const r=n+t-e,i=Math.abs(r-n),s=Math.abs(r-t),o=Math.abs(r-e);return i<=s&&i<=o?n:s<=o?t:e}function pL(n,t,e,r,i,s){switch(n){case 0:Iw(t,e,i);break;case 1:Tw(t,e,i,s);break;case 2:xw(t,e,r,i);break;case 3:Pw(t,e,r,i,s);break;case 4:Nw(t,e,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const gL=new Uint16Array([255]),mL=new Uint8Array(gL.buffer),vL=mL[0]===255;function yL(n){const{data:t,width:e,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*e*a);let u=0;for(let f=0;f<7;f++){const g=o[f],v=Math.ceil((e-g.x)/g.xStep),p=Math.ceil((r-g.y)/g.yStep);if(v<=0||p<=0)continue;const T=v*a,L=new Uint8Array(T);for(let R=0;R<p;R++){const C=t[u++],$=t.subarray(u,u+T);u+=T;const G=new Uint8Array(T);pL(C,$,G,L,T,a),L.set(G);for(let z=0;z<v;z++){const ct=g.x+z*g.xStep,Et=g.y+R*g.yStep;if(!(ct>=e||Et>=r))for(let U=0;U<a;U++)l[(Et*e+ct)*a+U]=G[z*a+U]}}}if(s===16){const f=new Uint16Array(l.buffer);if(vL)for(let g=0;g<f.length;g++)f[g]=_L(f[g]);return f}else return l}function _L(n){return(n&255)<<8|n>>8&255}const wL=new Uint16Array([255]),bL=new Uint8Array(wL.buffer),AL=bL[0]===255,SL=new Uint8Array(0);function J2(n){const{data:t,width:e,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*e),l=new Uint8Array(r*a);let u=SL,f=0,g,v;for(let p=0;p<r;p++){switch(g=t.subarray(f+1,f+1+a),v=l.subarray(p*a,(p+1)*a),t[f]){case 0:Iw(g,v,a);break;case 1:Tw(g,v,a,o);break;case 2:xw(g,v,u,a);break;case 3:Pw(g,v,u,a,o);break;case 4:Nw(g,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}u=v,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(AL)for(let T=0;T<p.length;T++)p[T]=EL(p[T]);return p}else return l}function EL(n){return(n&255)<<8|n>>8&255}const Ph=Uint8Array.of(137,80,78,71,13,10,26,10);function X2(n){if(!IL(n.readBytes(Ph.length)))throw new Error("wrong PNG signature")}function IL(n){if(n.length<Ph.length)return!1;for(let t=0;t<Ph.length;t++)if(n[t]!==Ph[t])return!1;return!0}const TL="tEXt",xL=0,Cw=new TextDecoder("latin1");function PL(n){if(CL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const NL=/^[\u0000-\u00FF]*$/;function CL(n){if(!NL.test(n))throw new Error("invalid latin1 text")}function LL(n,t,e){const r=Lw(t);n[r]=RL(t,e-r.length-1)}function Lw(n){for(n.mark();n.readByte()!==xL;);const t=n.offset;n.reset();const e=Cw.decode(n.readBytes(t-n.offset-1));return n.skip(1),PL(e),e}function RL(n,t){return Cw.decode(n.readBytes(t))}const mi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Md={UNKNOWN:-1,DEFLATE:0},Q2={UNKNOWN:-1,ADAPTIVE:0},Fd={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},uh={NONE:0,BACKGROUND:1,PREVIOUS:2},Vd={SOURCE:0,OVER:1};class kL extends l1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new G2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Md.UNKNOWN,this._filterMethod=Q2.UNKNOWN,this._interlaceMethod=Fd.UNKNOWN,this._colorType=mi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(X2(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(X2(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case TL:LL(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Y2(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Y2(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=OL(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case mi.GREYSCALE:r=1;break;case mi.TRUECOLOUR:r=3;break;case mi.INDEXED_COLOUR:r=1;break;case mi.GREYSCALE_ALPHA:r=2;break;case mi.TRUECOLOUR_ALPHA:r=4;break;case mi.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Md.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<e;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case mi.GREYSCALE:case mi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case mi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case mi.UNKNOWN:case mi.GREYSCALE_ALPHA:case mi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=Lw(this),r=this.readUint8();if(r!==Md.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:cL(i)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=J2({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case uh.NONE:break;case uh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*t.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[o+a]=0}break;case uh.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,i=(s,o)=>{const a=((s+e.yOffset)*this._png.width+e.xOffset+o)*this._png.channels,l=(s*e.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(e.blendOp){case Vd.SOURCE:for(let s=0;s<e.height;s++)for(let o=0;o<e.width;o++){const{index:a,frameIndex:l}=i(s,o);for(let u=0;u<this._png.channels;u++)t.data[a+u]=e.data[l+u]}break;case Vd.OVER:for(let s=0;s<e.height;s++)for(let o=0;o<e.width;o++){const{index:a,frameIndex:l}=i(s,o);for(let u=0;u<this._png.channels;u++){const f=e.data[l+this._png.channels-1]/r,g=u%(this._png.channels-1)===0?1:e.data[l+u],v=Math.floor(f*g+(1-f)*t.data[a+u]);t.data[a+u]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Q2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fd.NO_INTERLACE)this._png.data=J2({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fd.ADAM7)this._png.data=yL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:uh.NONE,blendOp:Vd.SOURCE,data:t}),this._inflator=new G2,this._writingDataChunks=!1}}function OL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Z2;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Z2||(Z2={}));function DL(n,t){return new kL(n,t).decode()}var ve=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Bd(){ve.console&&typeof ve.console.log=="function"&&ve.console.log.apply(ve.console,arguments)}var ln={log:Bd,warn:function(n){ve.console&&(typeof ve.console.warn=="function"?ve.console.warn.apply(ve.console,arguments):Bd.call(null,arguments))},error:function(n){ve.console&&(typeof ve.console.error=="function"?ve.console.error.apply(ve.console,arguments):Bd(n))}};function jd(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ma(r.response,t,e)},r.onerror=function(){ln.error("could not download file")},r.send()}function t5(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ch(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Ma=ve.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==ve?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=ve.URL||ve.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?t5(i.href)?jd(n,t,e):ch(i,i.target="_blank"):ch(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ch(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(t5(n))jd(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){ch(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:rn(s)!=="object"&&(ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return jd(n,t,e);var i=n.type==="application/octet-stream",s=/constructor/i.test(ve.HTMLElement)||ve.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(n)}else{var l=ve.URL||ve.webkitURL,u=l.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Rw(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,s=e[r].process,o=i.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Nh=ve.atob.bind(ve),e5=ve.btoa.bind(ve);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ud(n,t){var e=n[0],r=n[1],i=n[2],s=n[3];e=Ar(e,r,i,s,t[0],7,-680876936),s=Ar(s,e,r,i,t[1],12,-389564586),i=Ar(i,s,e,r,t[2],17,606105819),r=Ar(r,i,s,e,t[3],22,-1044525330),e=Ar(e,r,i,s,t[4],7,-176418897),s=Ar(s,e,r,i,t[5],12,1200080426),i=Ar(i,s,e,r,t[6],17,-1473231341),r=Ar(r,i,s,e,t[7],22,-45705983),e=Ar(e,r,i,s,t[8],7,1770035416),s=Ar(s,e,r,i,t[9],12,-1958414417),i=Ar(i,s,e,r,t[10],17,-42063),r=Ar(r,i,s,e,t[11],22,-1990404162),e=Ar(e,r,i,s,t[12],7,1804603682),s=Ar(s,e,r,i,t[13],12,-40341101),i=Ar(i,s,e,r,t[14],17,-1502002290),e=Sr(e,r=Ar(r,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Sr(s,e,r,i,t[6],9,-1069501632),i=Sr(i,s,e,r,t[11],14,643717713),r=Sr(r,i,s,e,t[0],20,-373897302),e=Sr(e,r,i,s,t[5],5,-701558691),s=Sr(s,e,r,i,t[10],9,38016083),i=Sr(i,s,e,r,t[15],14,-660478335),r=Sr(r,i,s,e,t[4],20,-405537848),e=Sr(e,r,i,s,t[9],5,568446438),s=Sr(s,e,r,i,t[14],9,-1019803690),i=Sr(i,s,e,r,t[3],14,-187363961),r=Sr(r,i,s,e,t[8],20,1163531501),e=Sr(e,r,i,s,t[13],5,-1444681467),s=Sr(s,e,r,i,t[2],9,-51403784),i=Sr(i,s,e,r,t[7],14,1735328473),e=Er(e,r=Sr(r,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Er(s,e,r,i,t[8],11,-2022574463),i=Er(i,s,e,r,t[11],16,1839030562),r=Er(r,i,s,e,t[14],23,-35309556),e=Er(e,r,i,s,t[1],4,-1530992060),s=Er(s,e,r,i,t[4],11,1272893353),i=Er(i,s,e,r,t[7],16,-155497632),r=Er(r,i,s,e,t[10],23,-1094730640),e=Er(e,r,i,s,t[13],4,681279174),s=Er(s,e,r,i,t[0],11,-358537222),i=Er(i,s,e,r,t[3],16,-722521979),r=Er(r,i,s,e,t[6],23,76029189),e=Er(e,r,i,s,t[9],4,-640364487),s=Er(s,e,r,i,t[12],11,-421815835),i=Er(i,s,e,r,t[15],16,530742520),e=Ir(e,r=Er(r,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Ir(s,e,r,i,t[7],10,1126891415),i=Ir(i,s,e,r,t[14],15,-1416354905),r=Ir(r,i,s,e,t[5],21,-57434055),e=Ir(e,r,i,s,t[12],6,1700485571),s=Ir(s,e,r,i,t[3],10,-1894986606),i=Ir(i,s,e,r,t[10],15,-1051523),r=Ir(r,i,s,e,t[1],21,-2054922799),e=Ir(e,r,i,s,t[8],6,1873313359),s=Ir(s,e,r,i,t[15],10,-30611744),i=Ir(i,s,e,r,t[6],15,-1560198380),r=Ir(r,i,s,e,t[13],21,1309151649),e=Ir(e,r,i,s,t[4],6,-145523070),s=Ir(s,e,r,i,t[11],10,-1120210379),i=Ir(i,s,e,r,t[2],15,718787259),r=Ir(r,i,s,e,t[9],21,-343485551),n[0]=Jo(e,n[0]),n[1]=Jo(r,n[1]),n[2]=Jo(i,n[2]),n[3]=Jo(s,n[3])}function Of(n,t,e,r,i,s){return t=Jo(Jo(t,n),Jo(r,s)),Jo(t<<i|t>>>32-i,e)}function Ar(n,t,e,r,i,s,o){return Of(t&e|~t&r,n,t,i,s,o)}function Sr(n,t,e,r,i,s,o){return Of(t&r|e&~r,n,t,i,s,o)}function Er(n,t,e,r,i,s,o){return Of(t^e^r,n,t,i,s,o)}function Ir(n,t,e,r,i,s,o){return Of(e^(t|~r),n,t,i,s,o)}function kw(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Ud(r,ML(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ud(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,Ud(r,i),r}function ML(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var n5="0123456789abcdef".split("");function FL(n){for(var t="",e=0;e<4;e++)t+=n5[n>>8*e+4&15]+n5[n>>8*e&15];return t}function VL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Gp(n){return kw(n).map(VL).join("")}var BL=(function(n){for(var t=0;t<n.length;t++)n[t]=FL(n[t]);return n.join("")})(kw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jo(n,t){if(BL){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Kp(n,t){var e,r,i,s;if(n!==e){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}e=n,r=a}else a=r;var g=t.length,v=0,p=0,T="";for(l=0;l<g;l++)p=(p+(f=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=f,o=a[(a[v]+a[p])%256],T+=String.fromCharCode(t.charCodeAt(l)^o);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var r5={print:4,modify:8,copy:16,"annot-forms":32};function _l(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(r5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=r5[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Gp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Kp(this.encryptionKey,this.padding)}function wl(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return t}function i5(n){if(rn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!i],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,r)}catch(a){ve.console&&ln.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function nf(n){if(!(this instanceof nf))return new nf(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function Ow(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Fa(n,t,e,r,i){if(!(this instanceof Fa))return new Fa(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,Ow.call(this,r,i)}function Al(n,t,e,r,i){if(!(this instanceof Al))return new Al(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Ow.call(this,r,i)}function le(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;rn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),u=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",e=(""+(e||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=i5;var T="1.3",L=p.__private__.getPdfVersion=function(){return T};p.__private__.setPdfVersion=function(m){T=m};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return R};var C=p.__private__.getPageFormat=function(m){return R[m]};i=i||"a4";var $="compat",G="advanced",z=$;function ct(){this.saveGraphicsState(),D(new he(Zt,0,0,-Zt,0,Ei()*Zt).toString()+" cm"),this.setFontSize(this.getFontSize()/Zt),u="n",z=G}function Et(){this.restoreGraphicsState(),u="S",z=$}var U=p.__private__.combineFontStyleAndFontWeight=function(m,P){if(m=="bold"&&P=="normal"||m=="bold"&&P==400||m=="normal"&&P=="italic"||m=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(m=P==400||P==="normal"?m==="italic"?"italic":"normal":P!=700&&P!=="bold"||m!=="normal"?(P==700?"bold":P)+""+m:"bold"),m};p.advancedAPI=function(m){var P=z===$;return P&&ct.call(this),typeof m!="function"||(m(this),P&&Et.call(this)),this},p.compatAPI=function(m){var P=z===G;return P&&Et.call(this),typeof m!="function"||(m(this),P&&ct.call(this)),this},p.isAdvancedAPI=function(){return z===G};var x,S=function(m){if(z!==G)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(m,P){var Y=t||P;if(isNaN(m)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(Y).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return F(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return F(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return F(m,16)};var b=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return F(m,2)},E=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return F(m,3)},I=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return z===$?m*Zt:z===G?m:void 0},tt=function(m){return I((function(P){return z===$?Ei()-P:z===G?P:void 0})(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var wt,At="00000000000000000000000000000000",mt=p.__private__.getFileId=function(){return At},at=p.__private__.setFileId=function(m){return At=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():At.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Qe=new _l(f.userPermissions,f.userPassword,f.ownerPassword,At)),At};p.setFileId=function(m){return at(m),this},p.getFileId=function(){return mt()};var Tt=p.__private__.convertDateToPDFDate=function(m){var P=m.getTimezoneOffset(),Y=P<0?"+":"-",et=Math.floor(Math.abs(P/60)),ht=Math.abs(P%60),Lt=[Y,Z(et),"'",Z(ht),"'"].join("");return["D:",m.getFullYear(),Z(m.getMonth()+1),Z(m.getDate()),Z(m.getHours()),Z(m.getMinutes()),Z(m.getSeconds()),Lt].join("")},Vt=p.__private__.convertPDFDateToDate=function(m){var P=parseInt(m.substr(2,4),10),Y=parseInt(m.substr(6,2),10)-1,et=parseInt(m.substr(8,2),10),ht=parseInt(m.substr(10,2),10),Lt=parseInt(m.substr(12,2),10),Mt=parseInt(m.substr(14,2),10);return new Date(P,Y,et,ht,Lt,Mt,0)},Ot=p.__private__.setCreationDate=function(m){var P;if(m===void 0&&(m=new Date),m instanceof Date)P=Tt(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=m}return wt=P},k=p.__private__.getCreationDate=function(m){var P=wt;return m==="jsDate"&&(P=Vt(wt)),P};p.setCreationDate=function(m){return Ot(m),this},p.getCreationDate=function(m){return k(m)};var K,Z=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},rt=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ot=0,Q=[],it=[],nt=0,ut=[],Nt=[],j=!1,W=it;p.__private__.setCustomOutputDestination=function(m){j=!0,W=m};var H=function(m){j||(W=m)};p.__private__.resetCustomOutputDestination=function(){j=!1,W=it};var D=p.__private__.out=function(m){return m=m.toString(),nt+=m.length+1,W.push(m),W},St=p.__private__.write=function(m){return D(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},yt=p.__private__.getArrayBuffer=function(m){for(var P=m.length,Y=new ArrayBuffer(P),et=new Uint8Array(Y);P--;)et[P]=m.charCodeAt(P);return Y},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xt};var ft=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return ft=z===G?m/Zt:m,this};var It,pt=p.__private__.getFontSize=p.getFontSize=function(){return z===$?ft:ft*Zt},jt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return jt=m,this},p.__private__.getR2L=p.getR2L=function(){return jt};var Pt,Ht=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))It=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');It=m}else It=parseInt(m,10)};p.__private__.getZoomMode=function(){return It};var qt,Ut=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Pt=m};p.__private__.getPageMode=function(){return Pt};var Yt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');qt=m};p.__private__.getLayoutMode=function(){return qt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,P,Y){return Ht(m),Yt(P),Ut(Y),this};var Gt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Gt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Gt[m]},p.__private__.getDocumentProperties=function(){return Gt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var P in Gt)Gt.hasOwnProperty(P)&&m[P]&&(Gt[P]=m[P]);return this},p.__private__.setDocumentProperty=function(m,P){if(Object.keys(Gt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Gt[m]=P};var Kt,Zt,Jt,Ae,Ce,ee={},ie={},Le=[],ce={},Te={},_e={},yn={},pn=null,$e=0,pe=[],ke=new i5(p),Xi=n.hotfixes||[],Dn={},wi={},mr=[],he=function m(P,Y,et,ht,Lt,Mt){if(!(this instanceof m))return new m(P,Y,et,ht,Lt,Mt);isNaN(P)&&(P=1),isNaN(Y)&&(Y=0),isNaN(et)&&(et=0),isNaN(ht)&&(ht=1),isNaN(Lt)&&(Lt=0),isNaN(Mt)&&(Mt=0),this._matrix=[P,Y,et,ht,Lt,Mt]};Object.defineProperty(he.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(he.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(he.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(he.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(he.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(he.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(he.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(he.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(he.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(he.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(he.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(he.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(he.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(he.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(he.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(he.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),he.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(m)},he.prototype.multiply=function(m){var P=m.sx*this.sx+m.shy*this.shx,Y=m.sx*this.shy+m.shy*this.sy,et=m.shx*this.sx+m.sy*this.shx,ht=m.shx*this.shy+m.sy*this.sy,Lt=m.tx*this.sx+m.ty*this.shx+this.tx,Mt=m.tx*this.shy+m.ty*this.sy+this.ty;return new he(P,Y,et,ht,Lt,Mt)},he.prototype.decompose=function(){var m=this.sx,P=this.shy,Y=this.shx,et=this.sy,ht=this.tx,Lt=this.ty,Mt=Math.sqrt(m*m+P*P),Xt=(m/=Mt)*Y+(P/=Mt)*et;Y-=m*Xt,et-=P*Xt;var re=Math.sqrt(Y*Y+et*et);return Xt/=re,m*(et/=re)<P*(Y/=re)&&(m=-m,P=-P,Xt=-Xt,Mt=-Mt),{scale:new he(Mt,0,0,re,0,0),translate:new he(1,0,0,1,ht,Lt),rotate:new he(m,P,-P,m,0,0),skew:new he(1,0,Xt,1,0,0)}},he.prototype.toString=function(m){return this.join(" ")},he.prototype.inversed=function(){var m=this.sx,P=this.shy,Y=this.shx,et=this.sy,ht=this.tx,Lt=this.ty,Mt=1/(m*et-P*Y),Xt=et*Mt,re=-P*Mt,fe=-Y*Mt,me=m*Mt;return new he(Xt,re,fe,me,-Xt*ht-fe*Lt,-re*ht-me*Lt)},he.prototype.applyToPoint=function(m){var P=m.x*this.sx+m.y*this.shx+this.tx,Y=m.x*this.shy+m.y*this.sy+this.ty;return new as(P,Y)},he.prototype.applyToRectangle=function(m){var P=this.applyToPoint(m),Y=this.applyToPoint(new as(m.x+m.w,m.y+m.h));return new wo(P.x,P.y,Y.x-P.x,Y.y-P.y)},he.prototype.clone=function(){var m=this.sx,P=this.shy,Y=this.shx,et=this.sy,ht=this.tx,Lt=this.ty;return new he(m,P,Y,et,ht,Lt)},p.Matrix=he;var gn=p.matrixMult=function(m,P){return P.multiply(m)},bi=new he(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=bi;var rr=function(m,P){if(!Te[m]){var Y=(P instanceof Fa?"Sh":"P")+(Object.keys(ce).length+1).toString(10);P.id=Y,Te[m]=Y,ce[Y]=P,ke.publish("addPattern",P)}};p.ShadingPattern=Fa,p.TilingPattern=Al,p.addShadingPattern=function(m,P){return S("addShadingPattern()"),rr(m,P),this},p.beginTilingPattern=function(m){S("beginTilingPattern()"),ls(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,P){S("endTilingPattern()"),P.stream=Nt[K].join(`
`),rr(m,P),ke.publish("endTilingPattern",P),mr.pop().restore()};var ir,_n=p.__private__.newObject=function(){var m=$n();return wn(m,!0),m},$n=p.__private__.newObjectDeferred=function(){return ot++,Q[ot]=function(){return nt},ot},wn=function(m,P){return P=typeof P=="boolean"&&P,Q[m]=nt,P&&D(m+" 0 obj"),m},Rs=p.__private__.newAdditionalObject=function(){var m={objId:$n(),content:""};return ut.push(m),m},Qi=$n(),vr=$n(),ni=p.__private__.decodeColorString=function(m){var P=m.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var Y=parseFloat(P[0]);P=[Y,Y,Y,"r"]}for(var et="#",ht=0;ht<3;ht++)et+=("0"+Math.floor(255*parseFloat(P[ht])).toString(16)).slice(-2);return et},Dr=p.__private__.encodeColorString=function(m){var P;typeof m=="string"&&(m={ch1:m});var Y=m.ch1,et=m.ch2,ht=m.ch3,Lt=m.ch4,Mt=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Xt=new Rw(Y);if(Xt.ok)Y=Xt.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var re=parseInt(Y.substr(1),16);Y=re>>16&255,et=re>>8&255,ht=255&re}if(et===void 0||Lt===void 0&&Y===et&&et===ht)P=typeof Y=="string"?Y+" "+Mt[0]:m.precision===2?b(Y/255)+" "+Mt[0]:E(Y/255)+" "+Mt[0];else if(Lt===void 0||rn(Lt)==="object"){if(Lt&&!isNaN(Lt.a)&&Lt.a===0)return["1.","1.","1.",Mt[1]].join(" ");P=typeof Y=="string"?[Y,et,ht,Mt[1]].join(" "):m.precision===2?[b(Y/255),b(et/255),b(ht/255),Mt[1]].join(" "):[E(Y/255),E(et/255),E(ht/255),Mt[1]].join(" ")}else P=typeof Y=="string"?[Y,et,ht,Lt,Mt[2]].join(" "):m.precision===2?[b(Y),b(et),b(ht),b(Lt),Mt[2]].join(" "):[E(Y),E(et),E(ht),E(Lt),Mt[2]].join(" ");return P},yr=p.__private__.getFilters=function(){return o},Mn=p.__private__.putStream=function(m){var P=(m=m||{}).data||"",Y=m.filters||yr(),et=m.alreadyAppliedFilters||[],ht=m.addLength1||!1,Lt=P.length,Mt=m.objectId,Xt=function(Cn){return Cn};if(f!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Xt=Qe.encryptor(Mt,0));var re={};Y===!0&&(Y=["FlateEncode"]);var fe=m.additionalKeyValues||[],me=(re=le.API.processDataByFilters!==void 0?le.API.processDataByFilters(P,Y):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(et)?et.join(" "):et.toString());if(re.data.length!==0&&(fe.push({key:"Length",value:re.data.length}),ht===!0&&fe.push({key:"Length1",value:Lt})),me.length!=0)if(me.split("/").length-1==1)fe.push({key:"Filter",value:me});else{fe.push({key:"Filter",value:"["+me+"]"});for(var je=0;je<fe.length;je+=1)if(fe[je].key==="DecodeParms"){for(var Ge=[],Sn=0;Sn<re.reverseChain.split("/").length-1;Sn+=1)Ge.push("null");Ge.push(fe[je].value),fe[je].value="["+Ge.join(" ")+"]"}}D("<<");for(var Ze=0;Ze<fe.length;Ze++)D("/"+fe[Ze].key+" "+fe[Ze].value);D(">>"),re.data.length!==0&&(D("stream"),D(Xt(re.data)),D("endstream"))},Zi=p.__private__.putPage=function(m){var P=m.number,Y=m.data,et=m.objId,ht=m.contentsObjId;wn(et,!0),D("<</Type /Page"),D("/Parent "+m.rootDictionaryObjId+" 0 R"),D("/Resources "+m.resourceDictionaryObjId+" 0 R"),D("/MediaBox ["+parseFloat(x(m.mediaBox.bottomLeftX))+" "+parseFloat(x(m.mediaBox.bottomLeftY))+" "+x(m.mediaBox.topRightX)+" "+x(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&D("/CropBox ["+x(m.cropBox.bottomLeftX)+" "+x(m.cropBox.bottomLeftY)+" "+x(m.cropBox.topRightX)+" "+x(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&D("/BleedBox ["+x(m.bleedBox.bottomLeftX)+" "+x(m.bleedBox.bottomLeftY)+" "+x(m.bleedBox.topRightX)+" "+x(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&D("/TrimBox ["+x(m.trimBox.bottomLeftX)+" "+x(m.trimBox.bottomLeftY)+" "+x(m.trimBox.topRightX)+" "+x(m.trimBox.topRightY)+"]"),m.artBox!==null&&D("/ArtBox ["+x(m.artBox.bottomLeftX)+" "+x(m.artBox.bottomLeftY)+" "+x(m.artBox.topRightX)+" "+x(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&D("/UserUnit "+m.userUnit),ke.publish("putPage",{objId:et,pageContext:pe[P],pageNumber:P,page:Y}),D("/Contents "+ht+" 0 R"),D(">>"),D("endobj");var Lt=Y.join(`
`);return z===G&&(Lt+=`
Q`),wn(ht,!0),Mn({data:Lt,filters:yr(),objectId:ht}),D("endobj"),et},ri=p.__private__.putPages=function(){var m,P,Y=[];for(m=1;m<=$e;m++)pe[m].objId=$n(),pe[m].contentsObjId=$n();for(m=1;m<=$e;m++)Y.push(Zi({number:m,data:Nt[m],objId:pe[m].objId,contentsObjId:pe[m].contentsObjId,mediaBox:pe[m].mediaBox,cropBox:pe[m].cropBox,bleedBox:pe[m].bleedBox,trimBox:pe[m].trimBox,artBox:pe[m].artBox,userUnit:pe[m].userUnit,rootDictionaryObjId:Qi,resourceDictionaryObjId:vr}));wn(Qi,!0),D("<</Type /Pages");var et="/Kids [";for(P=0;P<$e;P++)et+=Y[P]+" 0 R ";D(et+"]"),D("/Count "+$e),D(">>"),D("endobj"),ke.publish("postPutPages")},Ri=function(m){ke.publish("putFont",{font:m,out:D,newObject:_n,putStream:Mn}),m.isAlreadyPutted!==!0&&(m.objectNumber=_n(),D("<<"),D("/Type /Font"),D("/BaseFont /"+wl(m.postScriptName)),D("/Subtype /Type1"),typeof m.encoding=="string"&&D("/Encoding /"+m.encoding),D("/FirstChar 32"),D("/LastChar 255"),D(">>"),D("endobj"))},ts=function(m){m.objectNumber=_n();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[x(m.x),x(m.y),x(m.x+m.width),x(m.y+m.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var Y=m.pages[1].join(`
`);Mn({data:Y,additionalKeyValues:P,objectId:m.objectNumber}),D("endobj")},ks=function(m,P){P||(P=21);var Y=_n(),et=(function(Mt,Xt){var re,fe=[],me=1/(Xt-1);for(re=0;re<1;re+=me)fe.push(re);if(fe.push(1),Mt[0].offset!=0){var je={offset:0,color:Mt[0].color};Mt.unshift(je)}if(Mt[Mt.length-1].offset!=1){var Ge={offset:1,color:Mt[Mt.length-1].color};Mt.push(Ge)}for(var Sn="",Ze=0,Cn=0;Cn<fe.length;Cn++){for(re=fe[Cn];re>Mt[Ze+1].offset;)Ze++;var En=Mt[Ze].offset,Ln=(re-En)/(Mt[Ze+1].offset-En),un=Mt[Ze].color,ur=Mt[Ze+1].color;Sn+=rt(Math.round((1-Ln)*un[0]+Ln*ur[0]).toString(16))+rt(Math.round((1-Ln)*un[1]+Ln*ur[1]).toString(16))+rt(Math.round((1-Ln)*un[2]+Ln*ur[2]).toString(16))}return Sn.trim()})(m.colors,P),ht=[];ht.push({key:"FunctionType",value:"0"}),ht.push({key:"Domain",value:"[0.0 1.0]"}),ht.push({key:"Size",value:"["+P+"]"}),ht.push({key:"BitsPerSample",value:"8"}),ht.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mn({data:et,additionalKeyValues:ht,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),D("endobj"),m.objectNumber=_n(),D("<< /ShadingType "+m.type),D("/ColorSpace /DeviceRGB");var Lt="/Coords ["+x(parseFloat(m.coords[0]))+" "+x(parseFloat(m.coords[1]))+" ";m.type===2?Lt+=x(parseFloat(m.coords[2]))+" "+x(parseFloat(m.coords[3])):Lt+=x(parseFloat(m.coords[2]))+" "+x(parseFloat(m.coords[3]))+" "+x(parseFloat(m.coords[4]))+" "+x(parseFloat(m.coords[5])),D(Lt+="]"),m.matrix&&D("/Matrix ["+m.matrix.toString()+"]"),D("/Function "+Y+" 0 R"),D("/Extend [true true]"),D(">>"),D("endobj")},Os=function(m,P){var Y=$n(),et=_n();P.push({resourcesOid:Y,objectOid:et}),m.objectNumber=et;var ht=[];ht.push({key:"Type",value:"/Pattern"}),ht.push({key:"PatternType",value:"1"}),ht.push({key:"PaintType",value:"1"}),ht.push({key:"TilingType",value:"1"}),ht.push({key:"BBox",value:"["+m.boundingBox.map(x).join(" ")+"]"}),ht.push({key:"XStep",value:x(m.xStep)}),ht.push({key:"YStep",value:x(m.yStep)}),ht.push({key:"Resources",value:Y+" 0 R"}),m.matrix&&ht.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Mn({data:m.stream,additionalKeyValues:ht,objectId:m.objectNumber}),D("endobj")},nu=function(m){for(var P in m.objectNumber=_n(),D("<<"),m)switch(P){case"opacity":D("/ca "+b(m[P]));break;case"stroke-opacity":D("/CA "+b(m[P]))}D(">>"),D("endobj")},es=function(m){wn(m.resourcesOid,!0),D("<<"),D("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in D("/Font <<"),ee)ee.hasOwnProperty(P)&&(g===!1||g===!0&&v.hasOwnProperty(P))&&D("/"+P+" "+ee[P].objectNumber+" 0 R");D(">>")})(),(function(){if(Object.keys(ce).length>0){for(var P in D("/Shading <<"),ce)ce.hasOwnProperty(P)&&ce[P]instanceof Fa&&ce[P].objectNumber>=0&&D("/"+P+" "+ce[P].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),D(">>")}})(),(function(P){if(Object.keys(ce).length>0){for(var Y in D("/Pattern <<"),ce)ce.hasOwnProperty(Y)&&ce[Y]instanceof p.TilingPattern&&ce[Y].objectNumber>=0&&ce[Y].objectNumber<P&&D("/"+Y+" "+ce[Y].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),D(">>")}})(m.objectOid),(function(){if(Object.keys(_e).length>0){var P;for(P in D("/ExtGState <<"),_e)_e.hasOwnProperty(P)&&_e[P].objectNumber>=0&&D("/"+P+" "+_e[P].objectNumber+" 0 R");ke.publish("putGStateDict"),D(">>")}})(),(function(){for(var P in D("/XObject <<"),Dn)Dn.hasOwnProperty(P)&&Dn[P].objectNumber>=0&&D("/"+P+" "+Dn[P].objectNumber+" 0 R");ke.publish("putXobjectDict"),D(">>")})(),D(">>"),D("endobj")},da=function(m){ie[m.fontName]=ie[m.fontName]||{},ie[m.fontName][m.fontStyle]=m.id},fo=function(m,P,Y,et,ht){var Lt={id:"F"+(Object.keys(ee).length+1).toString(10),postScriptName:m,fontName:P,fontStyle:Y,encoding:et,isStandardFont:ht||!1,metadata:{}};return ke.publish("addFont",{font:Lt,instance:this}),ee[Lt.id]=Lt,da(Lt),Lt.id},sr=p.__private__.pdfEscape=p.pdfEscape=function(m,P){return(function(Y,et){var ht,Lt,Mt,Xt,re,fe,me,je,Ge;if(Mt=(et=et||{}).sourceEncoding||"Unicode",re=et.outputEncoding,(et.autoencode||re)&&ee[Kt].metadata&&ee[Kt].metadata[Mt]&&ee[Kt].metadata[Mt].encoding&&(Xt=ee[Kt].metadata[Mt].encoding,!re&&ee[Kt].encoding&&(re=ee[Kt].encoding),!re&&Xt.codePages&&(re=Xt.codePages[0]),typeof re=="string"&&(re=Xt[re]),re)){for(me=!1,fe=[],ht=0,Lt=Y.length;ht<Lt;ht++)(je=re[Y.charCodeAt(ht)])?fe.push(String.fromCharCode(je)):fe.push(Y[ht]),fe[ht].charCodeAt(0)>>8&&(me=!0);Y=fe.join("")}for(ht=Y.length;me===void 0&&ht!==0;)Y.charCodeAt(ht-1)>>8&&(me=!0),ht--;if(!me)return Y;for(fe=et.noBOM?[]:[254,255],ht=0,Lt=Y.length;ht<Lt;ht++){if((Ge=(je=Y.charCodeAt(ht))>>8)>>8)throw new Error("Character at position "+ht+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fe.push(Ge),fe.push(je-(Ge<<8))}return String.fromCharCode.apply(void 0,fe)})(m,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ii=p.__private__.beginPage=function(m){Nt[++$e]=[],pe[$e]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},ga($e),H(Nt[K])},po=function(m,P){var Y,et,ht;switch(e=P||e,typeof m=="string"&&(Y=C(m.toLowerCase()),Array.isArray(Y)&&(et=Y[0],ht=Y[1])),Array.isArray(m)&&(et=m[0]*Zt,ht=m[1]*Zt),isNaN(et)&&(et=i[0],ht=i[1]),(et>14400||ht>14400)&&(ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),et=Math.min(14400,et),ht=Math.min(14400,ht)),i=[et,ht],e.substr(0,1)){case"l":ht>et&&(i=[ht,et]);break;case"p":et>ht&&(i=[ht,et])}ii(i),os(vo),D(Di),sn!==0&&D(sn+" J"),Sa!==0&&D(Sa+" j"),ke.publish("addPage",{pageNumber:$e})},pa=function(m){m>0&&m<=$e&&(Nt.splice(m,1),pe.splice(m,1),$e--,K>$e&&(K=$e),this.setPage(K))},ga=function(m){m>0&&m<=$e&&(K=m)},ma=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Nt.length-1},va=function(m,P,Y){var et,ht=void 0;return Y=Y||{},m=m!==void 0?m:ee[Kt].fontName,P=P!==void 0?P:ee[Kt].fontStyle,et=m.toLowerCase(),ie[et]!==void 0&&ie[et][P]!==void 0?ht=ie[et][P]:ie[m]!==void 0&&ie[m][P]!==void 0?ht=ie[m][P]:Y.disableWarning===!1&&ln.warn("Unable to look up font label for font '"+m+"', '"+P+"'. Refer to getFontList() for available fonts."),ht||Y.noFallback||(ht=ie.times[P])==null&&(ht=ie.times.normal),ht},ns=p.__private__.putInfo=function(){var m=_n(),P=function(et){return et};for(var Y in f!==null&&(P=Qe.encryptor(m,0)),D("<<"),D("/Producer ("+sr(P("jsPDF "+le.version))+")"),Gt)Gt.hasOwnProperty(Y)&&Gt[Y]&&D("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+sr(P(Gt[Y]))+")");D("/CreationDate ("+sr(P(wt))+")"),D(">>"),D("endobj")},ya=p.__private__.putCatalog=function(m){var P=(m=m||{}).rootDictionaryObjId||Qi;switch(_n(),D("<<"),D("/Type /Catalog"),D("/Pages "+P+" 0 R"),It||(It="fullwidth"),It){case"fullwidth":D("/OpenAction [3 0 R /FitH null]");break;case"fullheight":D("/OpenAction [3 0 R /FitV null]");break;case"fullpage":D("/OpenAction [3 0 R /Fit]");break;case"original":D("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+It;Y.substr(Y.length-1)==="%"&&(It=parseInt(It)/100),typeof It=="number"&&D("/OpenAction [3 0 R /XYZ null null "+b(It)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":D("/PageLayout /OneColumn");break;case"single":D("/PageLayout /SinglePage");break;case"two":case"twoleft":D("/PageLayout /TwoColumnLeft");break;case"tworight":D("/PageLayout /TwoColumnRight")}Pt&&D("/PageMode /"+Pt),ke.publish("putCatalog"),D(">>"),D("endobj")},An=p.__private__.putTrailer=function(){D("trailer"),D("<<"),D("/Size "+(ot+1)),D("/Root "+ot+" 0 R"),D("/Info "+(ot-1)+" 0 R"),f!==null&&D("/Encrypt "+Qe.oid+" 0 R"),D("/ID [ <"+At+"> <"+At+"> ]"),D(">>")},_a=p.__private__.putHeader=function(){D("%PDF-"+T),D("%ºß¬à")},nl=p.__private__.putXRef=function(){var m="0000000000";D("xref"),D("0 "+(ot+1)),D("0000000000 65535 f ");for(var P=1;P<=ot;P++)typeof Q[P]=="function"?D((m+Q[P]()).slice(-10)+" 00000 n "):Q[P]!==void 0?D((m+Q[P]).slice(-10)+" 00000 n "):D("0000000000 00000 n ")},ki=p.__private__.buildDocument=function(){var m;ot=0,nt=0,it=[],Q=[],ut=[],Qi=$n(),vr=$n(),H(it),ke.publish("buildDocument"),_a(),ri(),(function(){ke.publish("putAdditionalObjects");for(var Y=0;Y<ut.length;Y++){var et=ut[Y];wn(et.objId,!0),D(et.content),D("endobj")}ke.publish("postPutAdditionalObjects")})(),m=[],(function(){for(var Y in ee)ee.hasOwnProperty(Y)&&(g===!1||g===!0&&v.hasOwnProperty(Y))&&Ri(ee[Y])})(),(function(){var Y;for(Y in _e)_e.hasOwnProperty(Y)&&nu(_e[Y])})(),(function(){for(var Y in Dn)Dn.hasOwnProperty(Y)&&ts(Dn[Y])})(),(function(Y){var et;for(et in ce)ce.hasOwnProperty(et)&&(ce[et]instanceof Fa?ks(ce[et]):ce[et]instanceof Al&&Os(ce[et],Y))})(m),ke.publish("putResources"),m.forEach(es),es({resourcesOid:vr,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources"),f!==null&&(Qe.oid=_n(),D("<<"),D("/Filter /Standard"),D("/V "+Qe.v),D("/R "+Qe.r),D("/U <"+Qe.toHexString(Qe.U)+">"),D("/O <"+Qe.toHexString(Qe.O)+">"),D("/P "+Qe.P),D(">>"),D("endobj")),ns(),ya();var P=nt;return nl(),An(),D("startxref"),D(""+P),D("%%EOF"),H(Nt[K]),it.join(`
`)},rs=p.__private__.getBlob=function(m){return new Blob([yt(m)],{type:"application/pdf"})},$r=p.output=p.__private__.output=(ir=function(m,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",m){case void 0:return ki();case"save":p.save(P.filename);break;case"arraybuffer":return yt(ki());case"blob":return rs(ki());case"bloburi":case"bloburl":if(ve.URL!==void 0&&typeof ve.URL.createObjectURL=="function")return ve.URL&&ve.URL.createObjectURL(rs(ki()))||void 0;ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",et=ki();try{Y=e5(et)}catch{Y=e5(unescape(encodeURIComponent(et)))}return"data:application/pdf;filename="+P.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var ht="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ht=P.pdfObjectUrl,Lt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ht+'"'+Lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Xt=ve.open();return Xt!==null&&Xt.document.write(Mt),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',fe=ve.open();if(fe!==null){fe.document.write(re);var me=this;fe.document.documentElement.querySelector("#pdfViewer").onload=function(){fe.document.title=P.filename,fe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(me.output("bloburl"))}}return fe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ve)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Ge=ve.open();if(Ge!==null&&(Ge.document.write(je),Ge.document.title=P.filename),Ge||typeof safari>"u")return Ge;break;case"datauri":case"dataurl":return ve.document.location.href=this.output("datauristring",P);default:return null}},ir.foo=function(){try{return ir.apply(this,arguments)}catch(Y){var m=Y.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var P="Error in function "+m.split(`
`)[0].split("<")[0]+": "+Y.message;if(!ve.console)throw new Error(P);ve.console.error(P,Y),ve.alert&&alert(P)}},ir.foo.bar=ir,ir.foo),Ds=function(m){return Array.isArray(Xi)===!0&&Xi.indexOf(m)>-1};switch(r){case"pt":Zt=1;break;case"mm":Zt=72/25.4;break;case"cm":Zt=72/2.54;break;case"in":Zt=72;break;case"px":Zt=Ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":Zt=12;break;case"ex":Zt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Zt=r}var Qe=null;Ot(),at();var Mr=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pe[m].objId,pageNumber:m,pageContext:pe[m]}},go=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in pe)if(pe[P].objId===m)break;return Mr(P)},mo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:pe[K].objId,pageNumber:K,pageContext:pe[K]}};p.addPage=function(){return po.apply(this,arguments),this},p.setPage=function(){return ga.apply(this,arguments),H.call(this,Nt[K]),this},p.insertPage=function(m){return this.addPage(),this.movePage(K,m),this},p.movePage=function(m,P){var Y,et;if(m>P){Y=Nt[m],et=pe[m];for(var ht=m;ht>P;ht--)Nt[ht]=Nt[ht-1],pe[ht]=pe[ht-1];Nt[P]=Y,pe[P]=et,this.setPage(P)}else if(m<P){Y=Nt[m],et=pe[m];for(var Lt=m;Lt<P;Lt++)Nt[Lt]=Nt[Lt+1],pe[Lt]=pe[Lt+1];Nt[P]=Y,pe[P]=et,this.setPage(P)}return this},p.deletePage=function(){return pa.apply(this,arguments),this},p.__private__.text=p.text=function(m,P,Y,et,ht){var Lt,Mt,Xt,re,fe,me,je,Ge,Sn,Ze=(et=et||{}).scope||this;if(typeof m=="number"&&typeof P=="number"&&(typeof Y=="string"||Array.isArray(Y))){var Cn=Y;Y=P,P=m,m=Cn}if(arguments[3]instanceof he==0?(Xt=arguments[4],re=arguments[5],rn(je=arguments[3])==="object"&&je!==null||(typeof Xt=="string"&&(re=Xt,Xt=null),typeof je=="string"&&(re=je,je=null),typeof je=="number"&&(Xt=je,je=null),et={flags:je,angle:Xt,align:re})):(S("The transform parameter of text() with a Matrix value"),Sn=ht),isNaN(P)||isNaN(Y)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Ze;var En,Ln="",un=typeof et.lineHeightFactor=="number"?et.lineHeightFactor:ss,ur=Ze.internal.scaleFactor;function xa(Ke){return Ke=Ke.split("	").join(Array(et.TabLen||9).join(" ")),sr(Ke,je)}function oi(Ke){for(var on,Vn=Ke.concat(),Jn=[],qs=Vn.length;qs--;)typeof(on=Vn.shift())=="string"?Jn.push(on):Array.isArray(Ke)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?Jn.push(on[0]):Jn.push([on[0],on[1],on[2]]);return Jn}function h(Ke,on){var Vn;if(typeof Ke=="string")Vn=on(Ke)[0];else if(Array.isArray(Ke)){for(var Jn,qs,mu=Ke.concat(),ol=[],kc=mu.length;kc--;)typeof(Jn=mu.shift())=="string"?ol.push(on(Jn)[0]):Array.isArray(Jn)&&typeof Jn[0]=="string"&&(qs=on(Jn[0],Jn[1],Jn[2]),ol.push([qs[0],qs[1],qs[2]]));Vn=ol}return Vn}var _=!1,A=!0;if(typeof m=="string")_=!0;else if(Array.isArray(m)){var B=m.concat();Mt=[];for(var dt,bt=B.length;bt--;)(typeof(dt=B.shift())!="string"||Array.isArray(dt)&&typeof dt[0]!="string")&&(A=!1);_=A}if(_===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var zt=ft/Ze.internal.scaleFactor,Fe=zt*(un-1);switch(et.baseline){case"bottom":Y-=Fe;break;case"top":Y+=zt-Fe;break;case"hanging":Y+=zt-2*Fe;break;case"middle":Y+=zt/2-Fe}if((me=et.maxWidth||0)>0&&(typeof m=="string"?m=Ze.splitTextToSize(m,me):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Ke,on){return Ke.concat(Ze.splitTextToSize(on,me))},[]))),Lt={text:m,x:P,y:Y,options:et,mutex:{pdfEscape:sr,activeFontKey:Kt,fonts:ee,activeFontSize:ft}},ke.publish("preProcessText",Lt),m=Lt.text,Xt=(et=Lt.options).angle,Sn instanceof he==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,et.rotationDirection===0&&(Xt=-Xt),z===G&&(Xt=-Xt);var In=Math.cos(Xt),Oe=Math.sin(Xt);Sn=new he(In,Oe,-Oe,In,0,0)}else Xt&&Xt instanceof he&&(Sn=Xt);z!==G||Sn||(Sn=bi),(fe=et.charSpace||Vs)!==void 0&&(Ln+=x(I(fe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ge=et.horizontalScale)!==void 0&&(Ln+=x(100*Ge)+` Tz
`),et.lang;var Re=-1,cn=et.renderingMode!==void 0?et.renderingMode:et.stroke,ai=Ze.internal.getCurrentPageInfo().pageContext;switch(cn){case 0:case!1:case"fill":Re=0;break;case 1:case!0:case"stroke":Re=1;break;case 2:case"fillThenStroke":Re=2;break;case 3:case"invisible":Re=3;break;case 4:case"fillAndAddForClipping":Re=4;break;case 5:case"strokeAndAddPathForClipping":Re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Re=6;break;case 7:case"addToPathForClipping":Re=7}var _r=ai.usedRenderingMode!==void 0?ai.usedRenderingMode:-1;Re!==-1?Ln+=Re+` Tr
`:_r!==-1&&(Ln+=`0 Tr
`),Re!==-1&&(ai.usedRenderingMode=Re),re=et.align||"left";var cr,Fi=ft*un,uu=Ze.internal.pageSize.getWidth(),cu=ee[Kt];fe=et.charSpace||Vs,me=et.maxWidth||0,je=Object.assign({autoencode:!0,noBOM:!0},et.flags);var Ao=[],Pa=function(Ke){return Ze.getStringUnitWidth(Ke,{font:cu,charSpace:fe,fontSize:ft,doKerning:!1})*ft/ur};if(Object.prototype.toString.call(m)==="[object Array]"){var li;Mt=oi(m),re!=="left"&&(cr=Mt.map(Pa));var ui,So=0;if(re==="right"){P-=cr[0],m=[],bt=Mt.length;for(var Us=0;Us<bt;Us++)Us===0?(ui=or(P),li=Oi(Y)):(ui=I(So-cr[Us]),li=-Fi),m.push([Mt[Us],ui,li]),So=cr[Us]}else if(re==="center"){P-=cr[0]/2,m=[],bt=Mt.length;for(var Eo=0;Eo<bt;Eo++)Eo===0?(ui=or(P),li=Oi(Y)):(ui=I((So-cr[Eo])/2),li=-Fi),m.push([Mt[Eo],ui,li]),So=cr[Eo]}else if(re==="left"){m=[],bt=Mt.length;for(var hu=0;hu<bt;hu++)m.push(Mt[hu])}else if(re==="justify"&&cu.encoding==="Identity-H"){m=[],bt=Mt.length,me=me!==0?me:uu;for(var sl=0,Fn=0;Fn<bt;Fn++)if(li=Fn===0?Oi(Y):-Fi,ui=Fn===0?or(P):sl,Fn<bt-1){var Rc=I((me-cr[Fn])/(Mt[Fn].split(" ").length-1)),cs=Mt[Fn].split(" ");m.push([cs[0]+" ",ui,li]),sl=0;for(var hs=1;hs<cs.length;hs++){var fu=(Pa(cs[hs-1]+" "+cs[hs])-Pa(cs[hs]))*ur+Rc;hs==cs.length-1?m.push([cs[hs],fu,0]):m.push([cs[hs]+" ",fu,0]),sl-=fu}}else m.push([Mt[Fn],ui,li]);m.push(["",sl,0])}else{if(re!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],bt=Mt.length,me=me!==0?me:uu,Fn=0;Fn<bt;Fn++){li=Fn===0?Oi(Y):-Fi,ui=Fn===0?or(P):0;var du=Mt[Fn].split(" ").length-1,pu=du>0?(me-cr[Fn])/du:0;Fn<bt-1?Ao.push(x(I(pu))):Ao.push(0),m.push([Mt[Fn],ui,li])}}}(typeof et.R2L=="boolean"?et.R2L:jt)===!0&&(m=h(m,function(Ke,on,Vn){return[Ke.split("").reverse().join(""),on,Vn]})),Lt={text:m,x:P,y:Y,options:et,mutex:{pdfEscape:sr,activeFontKey:Kt,fonts:ee,activeFontSize:ft}},ke.publish("postProcessText",Lt),m=Lt.text,En=Lt.mutex.isHex||!1;var gu=ee[Kt].encoding;gu!=="WinAnsiEncoding"&&gu!=="StandardEncoding"||(m=h(m,function(Ke,on,Vn){return[xa(Ke),on,Vn]})),Mt=oi(m),m=[];for(var Io,To,xo,Na=Array.isArray(Mt[0])?1:0,Po="",Ca=function(Ke,on,Vn){var Jn="";return Vn instanceof he?(Vn=typeof et.angle=="number"?gn(Vn,new he(1,0,0,1,Ke,on)):gn(new he(1,0,0,1,Ke,on),Vn),z===G&&(Vn=gn(new he(1,0,0,-1,0,0),Vn)),Jn=Vn.join(" ")+` Tm
`):Jn=x(Ke)+" "+x(on)+` Td
`,Jn},Ii=0;Ii<Mt.length;Ii++){switch(Po="",Na){case 1:xo=(En?"<":"(")+Mt[Ii][0]+(En?">":")"),Io=parseFloat(Mt[Ii][1]),To=parseFloat(Mt[Ii][2]);break;case 0:xo=(En?"<":"(")+Mt[Ii]+(En?">":")"),Io=or(P),To=Oi(Y)}Ao!==void 0&&Ao[Ii]!==void 0&&(Po=Ao[Ii]+` Tw
`),Ii===0?m.push(Po+Ca(Io,To,Sn)+xo):Na===0?m.push(Po+xo):Na===1&&m.push(Po+Ca(Io,To,Sn)+xo)}m=Na===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var fs=`BT
/`;return fs+=Kt+" "+ft+` Tf
`,fs+=x(ft*un)+` TL
`,fs+=si+`
`,fs+=Ln,fs+=m,D(fs+="ET"),v[Kt]=!0,Ze};var rl=p.__private__.clip=p.clip=function(m){return D(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return D("n"),this};var De=p.__private__.isValidStyle=function(m){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(P=!0),P};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return De(m)&&(u=m),this};var Ms=p.__private__.getStyle=p.getStyle=function(m){var P=u;switch(m){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=m}return P},is=p.close=function(){return D("h"),this};p.stroke=function(){return D("S"),this},p.fill=function(m){return Gr("f",m),this},p.fillEvenOdd=function(m){return Gr("f*",m),this},p.fillStroke=function(m){return Gr("B",m),this},p.fillStrokeEvenOdd=function(m){return Gr("B*",m),this};var Gr=function(m,P){rn(P)==="object"?ru(P,m):D(m)},wa=function(m){m===null||z===G&&m===void 0||(m=Ms(m),D(m))};function il(m,P,Y,et,ht){var Lt=new Al(P||this.boundingBox,Y||this.xStep,et||this.yStep,this.gState,ht||this.matrix);Lt.stream=this.stream;var Mt=m+"$$"+this.cloneIndex+++"$$";return rr(Mt,Lt),Lt}var ru=function(m,P){var Y=Te[m.key],et=ce[Y];if(et instanceof Fa)D("q"),D(iu(P)),et.gState&&p.setGState(et.gState),D(m.matrix.toString()+" cm"),D("/"+Y+" sh"),D("Q");else if(et instanceof Al){var ht=new he(1,0,0,-1,0,Ei());m.matrix&&(ht=ht.multiply(m.matrix||bi),Y=il.call(et,m.key,m.boundingBox,m.xStep,m.yStep,ht).id),D("q"),D("/Pattern cs"),D("/"+Y+" scn"),et.gState&&p.setGState(et.gState),D(P),D("Q")}},iu=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ba=p.moveTo=function(m,P){return D(x(I(m))+" "+x(tt(P))+" m"),this},Fs=p.lineTo=function(m,P){return D(x(I(m))+" "+x(tt(P))+" l"),this},Kr=p.curveTo=function(m,P,Y,et,ht,Lt){return D([x(I(m)),x(tt(P)),x(I(Y)),x(tt(et)),x(I(ht)),x(tt(Lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,P,Y,et,ht){if(isNaN(m)||isNaN(P)||isNaN(Y)||isNaN(et)||!De(ht))throw new Error("Invalid arguments passed to jsPDF.line");return z===$?this.lines([[Y-m,et-P]],m,P,[1,1],ht||"S"):this.lines([[Y-m,et-P]],m,P,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,P,Y,et,ht,Lt){var Mt,Xt,re,fe,me,je,Ge,Sn,Ze,Cn,En,Ln;if(typeof m=="number"&&(Ln=Y,Y=P,P=m,m=Ln),et=et||[1,1],Lt=Lt||!1,isNaN(P)||isNaN(Y)||!Array.isArray(m)||!Array.isArray(et)||!De(ht)||typeof Lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ba(P,Y),Mt=et[0],Xt=et[1],fe=m.length,Cn=P,En=Y,re=0;re<fe;re++)(me=m[re]).length===2?(Cn=me[0]*Mt+Cn,En=me[1]*Xt+En,Fs(Cn,En)):(je=me[0]*Mt+Cn,Ge=me[1]*Xt+En,Sn=me[2]*Mt+Cn,Ze=me[3]*Xt+En,Cn=me[4]*Mt+Cn,En=me[5]*Xt+En,Kr(je,Ge,Sn,Ze,Cn,En));return Lt&&is(),wa(ht),this},p.path=function(m){for(var P=0;P<m.length;P++){var Y=m[P],et=Y.c;switch(Y.op){case"m":ba(et[0],et[1]);break;case"l":Fs(et[0],et[1]);break;case"c":Kr.apply(this,et);break;case"h":is()}}return this},p.__private__.rect=p.rect=function(m,P,Y,et,ht){if(isNaN(m)||isNaN(P)||isNaN(Y)||isNaN(et)||!De(ht))throw new Error("Invalid arguments passed to jsPDF.rect");return z===$&&(et=-et),D([x(I(m)),x(tt(P)),x(I(Y)),x(I(et)),"re"].join(" ")),wa(ht),this},p.__private__.triangle=p.triangle=function(m,P,Y,et,ht,Lt,Mt){if(isNaN(m)||isNaN(P)||isNaN(Y)||isNaN(et)||isNaN(ht)||isNaN(Lt)||!De(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-m,et-P],[ht-Y,Lt-et],[m-ht,P-Lt]],m,P,[1,1],Mt,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,P,Y,et,ht,Lt,Mt){if(isNaN(m)||isNaN(P)||isNaN(Y)||isNaN(et)||isNaN(ht)||isNaN(Lt)||!De(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return ht=Math.min(ht,.5*Y),Lt=Math.min(Lt,.5*et),this.lines([[Y-2*ht,0],[ht*Xt,0,ht,Lt-Lt*Xt,ht,Lt],[0,et-2*Lt],[0,Lt*Xt,-ht*Xt,Lt,-ht,Lt],[2*ht-Y,0],[-ht*Xt,0,-ht,-Lt*Xt,-ht,-Lt],[0,2*Lt-et],[0,-Lt*Xt,ht*Xt,-Lt,ht,-Lt]],m+ht,P,[1,1],Mt,!0),this},p.__private__.ellipse=p.ellipse=function(m,P,Y,et,ht){if(isNaN(m)||isNaN(P)||isNaN(Y)||isNaN(et)||!De(ht))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Lt=4/3*(Math.SQRT2-1)*Y,Mt=4/3*(Math.SQRT2-1)*et;return ba(m+Y,P),Kr(m+Y,P-Mt,m+Lt,P-et,m,P-et),Kr(m-Lt,P-et,m-Y,P-Mt,m-Y,P),Kr(m-Y,P+Mt,m-Lt,P+et,m,P+et),Kr(m+Lt,P+et,m+Y,P+Mt,m+Y,P),wa(ht),this},p.__private__.circle=p.circle=function(m,P,Y,et){if(isNaN(m)||isNaN(P)||isNaN(Y)||!De(et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,P,Y,Y,et)},p.setFont=function(m,P,Y){return Y&&(P=U(P,Y)),Kt=va(m,P,{disableWarning:!1}),this};var Ai=p.__private__.getFont=p.getFont=function(){return ee[va.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,P,Y={};for(m in ie)if(ie.hasOwnProperty(m))for(P in Y[m]=[],ie[m])ie[m].hasOwnProperty(P)&&Y[m].push(P);return Y},p.addFont=function(m,P,Y,et,ht){var Lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Lt.indexOf(arguments[3])!==-1?ht=arguments[3]:arguments[3]&&Lt.indexOf(arguments[3])==-1&&(Y=U(Y,et)),fo.call(this,m,P,Y,ht=ht||"Identity-H")};var ss,vo=n.lineWidth||.200025,ge=p.__private__.getLineWidth=p.getLineWidth=function(){return vo},os=p.__private__.setLineWidth=p.setLineWidth=function(m){return vo=m,D(x(I(m))+" w"),this};p.__private__.setLineDash=le.API.setLineDash=le.API.setLineDashPattern=function(m,P){if(m=m||[],P=P||0,isNaN(P)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(Y){return x(I(Y))}).join(" "),P=x(I(P)),D("["+m+"] "+P+" d"),this};var su=p.__private__.getLineHeight=p.getLineHeight=function(){return ft*ss};p.__private__.getLineHeight=p.getLineHeight=function(){return ft*ss};var ou=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(ss=m),this},au=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ss};ou(n.lineHeight);var or=p.__private__.getHorizontalCoordinate=function(m){return I(m)},Oi=p.__private__.getVerticalCoordinate=function(m){return z===G?m:pe[K].mediaBox.topRightY-pe[K].mediaBox.bottomLeftY-I(m)},lu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return x(or(m))},yo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return x(Oi(m))},Di=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ni(Di)},p.__private__.setStrokeColor=p.setDrawColor=function(m,P,Y,et){return Di=Dr({ch1:m,ch2:P,ch3:Y,ch4:et,pdfColorType:"draw",precision:2}),D(Di),this};var _o=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ni(_o)},p.__private__.setFillColor=p.setFillColor=function(m,P,Y,et){return _o=Dr({ch1:m,ch2:P,ch3:Y,ch4:et,pdfColorType:"fill",precision:2}),D(_o),this};var si=n.textColor||"0 g",Si=p.__private__.getTextColor=p.getTextColor=function(){return ni(si)};p.__private__.setTextColor=p.setTextColor=function(m,P,Y,et){return si=Dr({ch1:m,ch2:P,ch3:Y,ch4:et,pdfColorType:"text",precision:3}),this};var Vs=n.charSpace,Aa=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Vs||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vs=m,this};var sn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sn=P,D(P+" J"),this};var Sa=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=P,D(P+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return D(x(I(m))+" M"),this},p.GState=nf,p.setGState=function(m){(m=typeof m=="string"?_e[yn[m]]:Bs(null,m)).equals(pn)||(D("/"+m.id+" gs"),pn=m)};var Bs=function(m,P){if(!m||!yn[m]){var Y=!1;for(var et in _e)if(_e.hasOwnProperty(et)&&_e[et].equals(P)){Y=!0;break}if(Y)P=_e[et];else{var ht="GS"+(Object.keys(_e).length+1).toString(10);_e[ht]=P,P.id=ht}return m&&(yn[m]=P.id),ke.publish("addGState",P),P}};p.addGState=function(m,P){return Bs(m,P),this},p.saveGraphicsState=function(){return D("q"),Le.push({key:Kt,size:ft,color:si}),this},p.restoreGraphicsState=function(){D("Q");var m=Le.pop();return Kt=m.key,ft=m.size,si=m.color,pn=null,this},p.setCurrentTransformationMatrix=function(m){return D(m.toString()+" cm"),this},p.comment=function(m){return D("#"+m),this};var as=function(m,P){var Y=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Lt){isNaN(Lt)||(Y=parseFloat(Lt))}});var et=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return et},set:function(Lt){isNaN(Lt)||(et=parseFloat(Lt))}});var ht="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ht},set:function(Lt){ht=Lt.toString()}}),this},wo=function(m,P,Y,et){as.call(this,m,P),this.type="rect";var ht=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ht},set:function(Mt){isNaN(Mt)||(ht=parseFloat(Mt))}});var Lt=et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Lt},set:function(Mt){isNaN(Mt)||(Lt=parseFloat(Mt))}}),this},js=function(){this.page=$e,this.currentPage=K,this.pages=Nt.slice(0),this.pagesContext=pe.slice(0),this.x=Jt,this.y=Ae,this.matrix=Ce,this.width=Yr(K),this.height=Mi(K),this.outputDestination=W,this.id="",this.objectNumber=-1};js.prototype.restore=function(){$e=this.page,K=this.currentPage,pe=this.pagesContext,Nt=this.pages,Jt=this.x,Ae=this.y,Ce=this.matrix,Ea(K,this.width),Fr(K,this.height),W=this.outputDestination};var ls=function(m,P,Y,et,ht){mr.push(new js),$e=K=0,Nt=[],Jt=m,Ae=P,Ce=ht,ii([Y,et])};for(var us in p.beginFormObject=function(m,P,Y,et,ht){return ls(m,P,Y,et,ht),this},p.endFormObject=function(m){return(function(P){if(wi[P])mr.pop().restore();else{var Y=new js,et="Xo"+(Object.keys(Dn).length+1).toString(10);Y.id=et,wi[P]=et,Dn[et]=Y,ke.publish("addFormObject",Y),mr.pop().restore()}})(m),this},p.doFormObject=function(m,P){var Y=Dn[wi[m]];return D("q"),D(P.toString()+" cm"),D("/"+Y.id+" Do"),D("Q"),this},p.getFormObject=function(m){var P=Dn[wi[m]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},p.save=function(m,P){return m=m||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Ma(rs(ki()),m),typeof Ma.unload=="function"&&ve.setTimeout&&setTimeout(Ma.unload,911),this):new Promise(function(Y,et){try{var ht=Ma(rs(ki()),m);typeof Ma.unload=="function"&&ve.setTimeout&&setTimeout(Ma.unload,911),Y(ht)}catch(Lt){et(Lt.message)}})},le.API)le.API.hasOwnProperty(us)&&(us==="events"&&le.API.events.length?(function(m,P){var Y,et,ht;for(ht=P.length-1;ht!==-1;ht--)Y=P[ht][0],et=P[ht][1],m.subscribe.apply(m,[Y].concat(typeof et=="function"?[et]:et))})(ke,le.API.events):p[us]=le.API[us]);function Yr(m){return pe[m].mediaBox.topRightX-pe[m].mediaBox.bottomLeftX}function Ea(m,P){pe[m].mediaBox.topRightX=P+pe[m].mediaBox.bottomLeftX}function Mi(m){return pe[m].mediaBox.topRightY-pe[m].mediaBox.bottomLeftY}function Fr(m,P){pe[m].mediaBox.topRightY=P+pe[m].mediaBox.bottomLeftY}var Ia=p.getPageWidth=function(m){return Yr(m=m||K)/Zt},bo=p.setPageWidth=function(m,P){Ea(m,P*Zt)},Ei=p.getPageHeight=function(m){return Mi(m=m||K)/Zt},Ta=p.setPageHeight=function(m,P){Fr(m,P*Zt)};return p.internal={pdfEscape:sr,getStyle:Ms,getFont:Ai,getFontSize:pt,getCharSpace:Aa,getTextColor:Si,getLineHeight:su,getLineHeightFactor:au,getLineWidth:ge,write:St,getHorizontalCoordinate:or,getVerticalCoordinate:Oi,getCoordinateString:lu,getVerticalCoordinateString:yo,collections:{},newObject:_n,newAdditionalObject:Rs,newObjectDeferred:$n,newObjectDeferredBegin:wn,getFilters:yr,putStream:Mn,events:ke,scaleFactor:Zt,pageSize:{getWidth:function(){return Ia(K)},setWidth:function(m){bo(K,m)},getHeight:function(){return Ei(K)},setHeight:function(m){Ta(K,m)}},encryptionOptions:f,encryption:Qe,getEncryptor:function(m){return f!==null?Qe.encryptor(m,0):function(P){return P}},output:$r,getNumberOfPages:ma,pages:Nt,out:D,f2:b,f3:E,getPageInfo:Mr,getPageInfoByObjId:go,getCurrentPageInfo:mo,getPDFVersion:L,Point:as,Rectangle:wo,Matrix:he,hasHotfix:Ds},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ia(K)},set:function(m){bo(K,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ei(K)},set:function(m){Ta(K,m)},enumerable:!0,configurable:!0}),(function(m){for(var P=0,Y=xt.length;P<Y;P++){var et=fo.call(this,m[P][0],m[P][1],m[P][2],xt[P][3],!0);g===!1&&(v[et]=!0);var ht=m[P][0].split("-");da({id:et,fontName:ht[0],fontStyle:ht[1]||""})}ke.publish("addFonts",{fonts:ee,dictionary:ie})}).call(p,xt),Kt="F1",po(i,e),ke.publish("initialized"),p}_l.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},_l.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_l.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},_l.prototype.processOwnerPassword=function(n,t){return Kp(Gp(t).substr(0,5),n)},_l.prototype.encryptor=function(n,t){var e=Gp(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Kp(e,r)}},nf.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||rn(n)!==rn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},le.API={events:[]},le.version="3.0.3";var On=le.API,u1=1,el=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cl=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},we=function(n){return n.toFixed(2)},Vo=function(n){return n.toFixed(5)};On.__acroform__={};var ei=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},s5=function(n){return n*u1},gs=function(n){var t=new Mw,e=ne.internal.getHeight(n)||0,r=ne.internal.getWidth(n)||0;return t.BBox=[0,0,Number(we(r)),Number(we(e))],t},jL=On.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},UL=On.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},qL=On.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},qn=On.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qL(n,t-1)},zn=On.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jL(n,t-1)},Hn=On.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UL(n,t-1)},zL=On.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=e(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=e(i+o)||0,l.upperRight_Y=r(s)||0,[Number(we(l.lowerLeft_X)),Number(we(l.lowerLeft_Y)),Number(we(l.upperRight_X)),Number(we(l.upperRight_Y))]},HL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=Yp(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+we(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=gs(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},Yp=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(b){return b.split(`
`)}):i.map(function(b){return[b]});var s=e,o=ne.internal.getHeight(n)||0;o=o<0?-o:o;var a=ne.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(b,E,I){if(b+1<i.length){var tt=E+" "+i[b+1][0];return hh(tt,n,I).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var u,f,g=hh("3",n,s).height,v=n.multiline?o-s:(o-g)/2,p=v+=2,T=0,L=0,R=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+hh(t,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",$=0,G=0;G<i.length;G++)if(i.hasOwnProperty(G)){var z=!1;if(i[G].length!==1&&R!==i[G].length-1){if((g+2)*($+2)+2>o)continue t;C+=i[G][R],z=!0,L=G,G--}else{C=(C+=i[G][R]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var ct=parseInt(G),Et=l(ct,C,s),U=G>=i.length-1;if(Et&&!U){C+=" ",R=0;continue}if(Et||U){if(U)L=ct;else if(n.multiline&&(g+2)*($+2)+2>o)continue t}else{if(!n.multiline||(g+2)*($+2)+2>o)continue t;L=ct}}for(var x="",S=T;S<=L;S++){var F=i[S];if(n.multiline){if(S===L){x+=F[R]+" ",R=(R+1)%F.length;continue}if(S===T){x+=F[F.length-1]+" ";continue}}x+=F[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,f=hh(x,n,s).width,n.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}t+=we(u)+" "+we(p)+` Td
`,t+="("+el(x)+`) Tj
`,t+=-we(u)+` 0 Td
`,p=-(s+2),f=0,T=z?L:L+1,$++,C=""}break}return r.text=t,r.fontSize=s,r},hh=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},WL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$L=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},GL=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Yi.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(WL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u1=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Fw,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&$L(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=zL(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ne.createDefaultAppearanceStream(a),rn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=HL(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var g="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var T=p[o];typeof T=="function"&&(T=T.call(i,a)),g+="/"+o+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=p)=="function"&&(T=T.call(i,a)),g+="/"+o+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&(function(L,R){for(var C in L)if(L.hasOwnProperty(C)){var $=C,G=L[C];R.internal.newObjectDeferredBegin(G.objId,!0),rn(G)==="object"&&typeof G.putStream=="function"&&G.putStream(),delete L[$]}})(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},Dw=On.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),rn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+el(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qd=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+el(r(n))+")"},Ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ss.prototype.toString=function(){return this.objId+" 0 R"},Ss.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ss.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:Dw(i,this.objId,this.scope)}):i instanceof Ss?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var Mw=function(){Ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};ei(Mw,Ss);var Fw=function(){Ss.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+el(e(n))+")"}},set:function(e){n=e}})};ei(Fw,Ss);var Yi=function n(){Ss.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qn(t,3)},set:function(C){C?this.F=zn(t,3):this.F=Hn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');e=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof rf)return;s="FieldObject"+n.FieldNum++}var C=function($){return $};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+el(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/u1:u},set:function(C){u=C}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof rf||this instanceof Ha))return qd(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=C}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof lr==0?qd(v,this.objId,this.scope):v},set:function(C){C=C.toString(),v=this instanceof lr==0?C.substr(0,1)==="("?cl(C.substr(1,C.length-2)):cl(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?cl(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof lr==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof lr==0?qd(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof lr==0?C.substr(0,1)==="("?cl(C.substr(1,C.length-2)):cl(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?cl(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof lr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(C){C=!!C,L=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(C){T=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,1)},set:function(C){C?this.Ff=zn(this.Ff,1):this.Ff=Hn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,2)},set:function(C){C?this.Ff=zn(this.Ff,2):this.Ff=Hn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,3)},set:function(C){C?this.Ff=zn(this.Ff,3):this.Ff=Hn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');R=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(R){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};ei(Yi,Ss);var Rl=function(){Yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Dw(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=(function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,18)},set:function(e){e?this.Ff=zn(this.Ff,18):this.Ff=Hn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=zn(this.Ff,19):this.Ff=Hn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,20)},set:function(e){e?(this.Ff=zn(this.Ff,20),t.sort()):this.Ff=Hn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,22)},set:function(e){e?this.Ff=zn(this.Ff,22):this.Ff=Hn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(e){e?this.Ff=zn(this.Ff,23):this.Ff=Hn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,27)},set:function(e){e?this.Ff=zn(this.Ff,27):this.Ff=Hn(this.Ff,27)}}),this.hasAppearanceStream=!1};ei(Rl,Yi);var kl=function(){Rl.call(this),this.fontName="helvetica",this.combo=!1};ei(kl,Rl);var Ol=function(){kl.call(this),this.combo=!0};ei(Ol,kl);var Ch=function(){Ol.call(this),this.edit=!0};ei(Ch,Ol);var lr=function(){Yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,15)},set:function(e){e?this.Ff=zn(this.Ff,15):this.Ff=Hn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,16)},set:function(e){e?this.Ff=zn(this.Ff,16):this.Ff=Hn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,17)},set:function(e){e?this.Ff=zn(this.Ff,17):this.Ff=Hn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(e){e?this.Ff=zn(this.Ff,26):this.Ff=Hn(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+el(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){rn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};ei(lr,Yi);var Lh=function(){lr.call(this),this.pushButton=!0};ei(Lh,lr);var Dl=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};ei(Dl,lr);var rf=function(){var n,t;Yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+el(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){rn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ne.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ei(rf,Yi),Dl.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Dl.prototype.createOption=function(n){var t=new rf;return t.Parent=this,t.optionName=n,this.Kids.push(t),KL.call(this.scope,t),t};var Rh=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ne.CheckBox.createAppearanceStream()};ei(Rh,lr);var Ha=function(){Yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,13)},set:function(t){t?this.Ff=zn(this.Ff,13):this.Ff=Hn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,21)},set:function(t){t?this.Ff=zn(this.Ff,21):this.Ff=Hn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(t){t?this.Ff=zn(this.Ff,23):this.Ff=Hn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,24)},set:function(t){t?this.Ff=zn(this.Ff,24):this.Ff=Hn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,25)},set:function(t){t?this.Ff=zn(this.Ff,25):this.Ff=Hn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(t){t?this.Ff=zn(this.Ff,26):this.Ff=Hn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ei(Ha,Yi);var kh=function(){Ha.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,14)},set:function(n){n?this.Ff=zn(this.Ff,14):this.Ff=Hn(this.Ff,14)}}),this.password=!0};ei(kh,Ha);var ne={CheckBox:{createAppearanceStream:function(){return{N:{On:ne.CheckBox.YesNormal},D:{On:ne.CheckBox.YesPushDown,Off:ne.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Yp(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+we(ne.internal.getWidth(n))+" "+we(ne.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+we(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=gs(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=ne.internal.getHeight(n),o=ne.internal.getWidth(n),a=Yp(n,n.caption);return i.push("1 g"),i.push("0 0 "+we(o)+" "+we(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+we(o-1)+" "+we(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+we(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+we(ne.internal.getWidth(n))+" "+we(ne.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ne.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ne.RadioButton.Circle.YesNormal,t.D[n]=ne.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=gs(n);t.scope=n.scope;var e=[],r=ne.internal.getWidth(n)<=ne.internal.getHeight(n)?ne.internal.getWidth(n)/4:ne.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ne.internal.Bezier_C,s=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Vo(ne.internal.getWidth(n)/2)+" "+Vo(ne.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=[],r=ne.internal.getWidth(n)<=ne.internal.getHeight(n)?ne.internal.getWidth(n)/4:ne.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5)),o=Number((r*ne.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vo(ne.internal.getWidth(n)/2)+" "+Vo(ne.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Vo(ne.internal.getWidth(n)/2)+" "+Vo(ne.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=[],r=ne.internal.getWidth(n)<=ne.internal.getHeight(n)?ne.internal.getWidth(n)/4:ne.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vo(ne.internal.getWidth(n)/2)+" "+Vo(ne.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ne.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ne.RadioButton.Cross.YesNormal,t.D[n]=ne.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=gs(n);t.scope=n.scope;var e=[],r=ne.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+we(ne.internal.getWidth(n)-2)+" "+we(ne.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(we(r.x1.x)+" "+we(r.x1.y)+" m"),e.push(we(r.x2.x)+" "+we(r.x2.y)+" l"),e.push(we(r.x4.x)+" "+we(r.x4.y)+" m"),e.push(we(r.x3.x)+" "+we(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=ne.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+we(ne.internal.getWidth(n))+" "+we(ne.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+we(ne.internal.getWidth(n)-2)+" "+we(ne.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(we(e.x1.x)+" "+we(e.x1.y)+" m"),r.push(we(e.x2.x)+" "+we(e.x2.y)+" l"),r.push(we(e.x4.x)+" "+we(e.x4.y)+" m"),r.push(we(e.x3.x)+" "+we(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=gs(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+we(ne.internal.getWidth(n))+" "+we(ne.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ne.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ne.internal.getWidth(n),e=ne.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ne.internal.getWidth=function(n){var t=0;return rn(n)==="object"&&(t=s5(n.Rect[2])),t},ne.internal.getHeight=function(n){var t=0;return rn(n)==="object"&&(t=s5(n.Rect[3])),t};var KL=On.addField=function(n){if(GL(this,n),!(n instanceof Yi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};On.AcroFormChoiceField=Rl,On.AcroFormListBox=kl,On.AcroFormComboBox=Ol,On.AcroFormEditBox=Ch,On.AcroFormButton=lr,On.AcroFormPushButton=Lh,On.AcroFormRadioButton=Dl,On.AcroFormCheckBox=Rh,On.AcroFormTextField=Ha,On.AcroFormPasswordField=kh,On.AcroFormAppearance=ne,On.AcroForm={ChoiceField:Rl,ListBox:kl,ComboBox:Ol,EditBox:Ch,Button:lr,PushButton:Lh,RadioButton:Dl,CheckBox:Rh,TextField:Ha,PasswordField:kh,Appearance:ne},le.AcroForm={ChoiceField:Rl,ListBox:kl,ComboBox:Ol,EditBox:Ch,Button:lr,PushButton:Lh,RadioButton:Dl,CheckBox:Rh,TextField:Ha,PasswordField:kh,Appearance:ne};le.AcroForm;function Vw(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(b,E){var I,tt,wt,At,mt,at=e;if((E=E||e)==="RGBA"||b.data!==void 0&&b.data instanceof Uint8ClampedArray&&"height"in b&&"width"in b)return"RGBA";if(Et(b))for(mt in r)for(wt=r[mt],I=0;I<wt.length;I+=1){for(At=!0,tt=0;tt<wt[I].length;tt+=1)if(wt[I][tt]!==void 0&&wt[I][tt]!==b[tt]){At=!1;break}if(At===!0){at=mt;break}}else for(mt in r)for(wt=r[mt],I=0;I<wt.length;I+=1){for(At=!0,tt=0;tt<wt[I].length;tt+=1)if(wt[I][tt]!==void 0&&wt[I][tt]!==b.charCodeAt(tt)){At=!1;break}if(At===!0){at=mt;break}}return at===e&&E!==e&&(at=E),at},s=function b(E){for(var I=this.internal.write,tt=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var At=[];if(At.push({key:"Type",value:"/XObject"}),At.push({key:"Subtype",value:"/Image"}),At.push({key:"Width",value:E.width}),At.push({key:"Height",value:E.height}),E.colorSpace===C.INDEXED?At.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(At.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===C.DEVICE_CMYK&&At.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),At.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&At.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var mt="",at=0,Tt=E.transparency.length;at<Tt;at++)mt+=E.transparency[at]+" "+E.transparency[at]+" ";At.push({key:"Mask",value:"["+mt+"]"})}E.sMask!==void 0&&At.push({key:"SMask",value:E.objectId+1+" 0 R"});var Vt=E.filter!==void 0?["/"+E.filter]:void 0;if(tt({data:E.data,additionalKeyValues:At,alreadyAppliedFilters:Vt,objectId:E.objectId}),I("endobj"),"sMask"in E&&E.sMask!==void 0){var Ot,k=(Ot=E.sMaskBitsPerComponent)!==null&&Ot!==void 0?Ot:E.bitsPerComponent,K={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:E.sMask};"filter"in E&&(K.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(E.width),K.filter=E.filter),b.call(this,K)}if(E.colorSpace===C.INDEXED){var Z=this.internal.newObject();tt({data:x(new Uint8Array(E.palette)),objectId:Z}),I("endobj")}},o=function(){var b=this.internal.collections[t+"images"];for(var E in b)s.call(this,b[E])},a=function(){var b,E=this.internal.collections[t+"images"],I=this.internal.write;for(var tt in E)I("/I"+(b=E[tt]).index,b.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var b=this.internal.collections[t+"images"];return l.call(this),b},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(b){return typeof n["process"+b.toUpperCase()]=="function"},v=function(b){return rn(b)==="object"&&b.nodeType===1},p=function(b,E){if(b.nodeName==="IMG"&&b.hasAttribute("src")){var I=""+b.getAttribute("src");if(I.indexOf("data:image/")===0)return Nh(unescape(I).split("base64,").pop());var tt=n.loadFile(I,!0);if(tt!==void 0)return tt}if(b.nodeName==="CANVAS"){if(b.width===0||b.height===0)throw new Error("Given canvas must have data. Canvas width: "+b.width+", height: "+b.height);var wt;switch(E){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;default:wt="image/jpeg"}return Nh(b.toDataURL(wt,1).split("base64,").pop())}},T=function(b){var E=this.internal.collections[t+"images"];if(E){for(var I in E)if(b===E[I].alias)return E[I]}},L=function(b,E,I){return b||E||(b=-96,E=-96),b<0&&(b=-1*I.width*72/b/this.internal.scaleFactor),E<0&&(E=-1*I.height*72/E/this.internal.scaleFactor),b===0&&(b=E*I.width/I.height),E===0&&(E=b*I.height/I.width),[b,E]},R=function(b,E,I,tt,wt,At){var mt=L.call(this,I,tt,wt),at=this.internal.getCoordinateString,Tt=this.internal.getVerticalCoordinateString,Vt=u.call(this);if(I=mt[0],tt=mt[1],Vt[wt.index]=wt,At){At*=Math.PI/180;var Ot=Math.cos(At),k=Math.sin(At),K=function(rt){return rt.toFixed(4)},Z=[K(Ot),K(k),K(-1*k),K(Ot),0,0,"cm"]}this.internal.write("q"),At?(this.internal.write([1,"0","0",1,at(b),Tt(E+tt),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([at(I),"0","0",at(tt),"0","0","cm"].join(" "))):this.internal.write([at(I),"0","0",at(tt),at(b),Tt(E+tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},G=n.__addimage__.sHashCode=function(b){var E,I,tt=0;if(typeof b=="string")for(I=b.length,E=0;E<I;E++)tt=(tt<<5)-tt+b.charCodeAt(E),tt|=0;else if(Et(b))for(I=b.byteLength/2,E=0;E<I;E++)tt=(tt<<5)-tt+b[E],tt|=0;return tt},z=n.__addimage__.validateStringAsBase64=function(b){(b=b||"").toString().trim();var E=!0;return b.length===0&&(E=!1),b.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(b.substr(0,b.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(b.substr(-2))===!1&&(E=!1),E},ct=n.__addimage__.extractImageFromDataUrl=function(b){if(b==null||!(b=b.trim()).startsWith("data:"))return null;var E=b.indexOf(",");return E<0?null:b.substring(0,E).trim().endsWith("base64")?b.substring(E+1):null};n.__addimage__.isArrayBuffer=function(b){return b instanceof ArrayBuffer};var Et=n.__addimage__.isArrayBufferView=function(b){return b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array},U=n.__addimage__.binaryStringToUint8Array=function(b){for(var E=b.length,I=new Uint8Array(E),tt=0;tt<E;tt++)I[tt]=b.charCodeAt(tt);return I},x=n.__addimage__.arrayBufferToBinaryString=function(b){for(var E="",I=Et(b)?b:new Uint8Array(b),tt=0;tt<I.length;tt+=8192)E+=String.fromCharCode.apply(null,I.subarray(tt,tt+8192));return E};n.addImage=function(){var b,E,I,tt,wt,At,mt,at,Tt;if(typeof arguments[1]=="number"?(E=e,I=arguments[1],tt=arguments[2],wt=arguments[3],At=arguments[4],mt=arguments[5],at=arguments[6],Tt=arguments[7]):(E=arguments[1],I=arguments[2],tt=arguments[3],wt=arguments[4],At=arguments[5],mt=arguments[6],at=arguments[7],Tt=arguments[8]),rn(b=arguments[0])==="object"&&!v(b)&&"imageData"in b){var Vt=b;b=Vt.imageData,E=Vt.format||E||e,I=Vt.x||I||0,tt=Vt.y||tt||0,wt=Vt.w||Vt.width||wt,At=Vt.h||Vt.height||At,mt=Vt.alias||mt,at=Vt.compression||at,Tt=Vt.rotation||Vt.angle||Tt}var Ot=this.internal.getFilters();if(at===void 0&&Ot.indexOf("FlateEncode")!==-1&&(at="SLOW"),isNaN(I)||isNaN(tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=S.call(this,b,E,mt,at);return R.call(this,I,tt,wt,At,k,Tt),this};var S=function(b,E,I,tt){var wt,At,mt;if(typeof b=="string"&&i(b)===e){b=unescape(b);var at=F(b,!1);(at!==""||(at=n.loadFile(b,!0))!==void 0)&&(b=at)}if(v(b)&&(b=p(b,E)),E=i(b,E),!g(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((mt=I)==null||mt.length===0)&&(I=(function(Tt){return typeof Tt=="string"||Et(Tt)?G(Tt):Et(Tt.data)?G(Tt.data):null})(b)),(wt=T.call(this,I))||(b instanceof Uint8Array||E==="RGBA"||(At=b,b=U(b)),wt=this["process"+E.toUpperCase()](b,f.call(this),I,(function(Tt){return Tt&&typeof Tt=="string"&&(Tt=Tt.toUpperCase()),Tt in n.image_compression?Tt:$.NONE})(tt),At)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},F=n.__addimage__.convertBase64ToBinaryString=function(b,E){E=typeof E!="boolean"||E;var I,tt="";if(typeof b=="string"){var wt;I=(wt=ct(b))!==null&&wt!==void 0?wt:b;try{tt=Nh(I)}catch(At){if(E)throw z(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+At.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return tt};n.getImageProperties=function(b){var E,I,tt="";if(v(b)&&(b=p(b)),typeof b=="string"&&i(b)===e&&((tt=F(b,!1))===""&&(tt=n.loadFile(b)||""),b=tt),I=i(b),!g(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(b instanceof Uint8Array||(b=U(b)),!(E=this["process"+I.toUpperCase()](b)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=I,E}})(le.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};le.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,f=!1,g=0;g<u.length&&!f;g++)switch((r=u[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,T=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(L.objId),$=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(C(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(C($))+") >>",L.content=s;var G=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+G,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(L.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ct=this.annotations._nameMap[r.options.name];r.options.pageNumber=ct.page,r.options.top=ct.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Et=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Et+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:u(r),w:l(e+i),h:u(r+s)},options:o,type:"link"})},n.textWithLink=function(e,r,i,s){var o,a,l=this.getTextWidth(e),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(e,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(e,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(le.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(L){return t[L.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},a=n.__arabicParser__.isArabicEndLetter=function(L){return o(L)&&s(L)&&t[L.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(L){return o(L)&&i.indexOf(L.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return o(L)&&s(L)&&t[L.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(L){return o(L)&&s(L)&&t[L.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(L){return o(L)&&s(L)&&t[L.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(L){return o(L)&&s(L)&&t[L.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(L){var R=0,C=e,$="",G=0;for(R=0;R<L.length;R+=1)C[L.charCodeAt(R)]!==void 0?(G++,typeof(C=C[L.charCodeAt(R)])=="number"&&($+=String.fromCharCode(C),C=e,G=0),R===L.length-1&&(C=e,$+=L.charAt(R-(G-1)),R-=G-1,G=0)):(C=e,$+=L.charAt(R-G),R-=G,G=0);return $};n.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(L,R,C){return o(L)?s(L)===!1?-1:!u(L)||!o(R)&&!o(C)||!o(C)&&a(R)||a(L)&&!o(R)||a(L)&&l(R)||a(L)&&a(R)?0:f(L)&&o(R)&&!a(R)&&o(C)&&u(C)?3:a(L)||!o(C)?1:2:-1},p=function(L){var R=0,C=0,$=0,G="",z="",ct="",Et=(L=L||"").split("\\s+"),U=[];for(R=0;R<Et.length;R+=1){for(U.push(""),C=0;C<Et[R].length;C+=1)G=Et[R][C],z=Et[R][C-1],ct=Et[R][C+1],o(G)?($=v(G,z,ct),U[R]+=$!==-1?String.fromCharCode(t[G.charCodeAt(0)][$]):G):U[R]+=G;U[R]=g(U[R])}return U.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var L,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(R)){var $=0;for(C=[],$=0;$<R.length;$+=1)Array.isArray(R[$])?C.push([p(R[$][0]),R[$][1],R[$][2]]):C.push([p(R[$])]);L=C}else L=p(R);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};n.events.push(["preProcessText",T])})(le.API),le.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(le.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(L){l=L}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(L){u=L}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(L){T=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,T=0,L=0,R=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var C=u.maxWidth;C>0?typeof l=="string"?l=this.splitTextToSize(l,C):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(G,z){return G.concat(R.splitTextToSize(z,C))},[])):l=Array.isArray(l)?l:[l];for(var $=0;$<l.length;$++)p<(L=this.getStringUnitWidth(l[$],{font:g})*f)&&(p=L);return p!==0&&(T=l.length),{w:p/=v,h:Math.max((T*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};n.table=function(l,u,f,g,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,T,L,R,C=[],$=[],G=[],z={},ct={},Et=[],U=[],x=(v=v||{}).autoSize||!1,S=v.printHeaders!==!1,F=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,b=v.margins||Object.assign({width:this.getPageWidth()},t),E=typeof v.padding=="number"?v.padding:3,I=v.headerBackgroundColor||"#c8c8c8",tt=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=b,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=tt,this.setFontSize(F),g==null)$=C=Object.keys(f[0]),G=C.map(function(){return"left"});else if(Array.isArray(g)&&rn(g[0])==="object")for(C=g.map(function(Vt){return Vt.name}),$=g.map(function(Vt){return Vt.prompt||Vt.name||""}),G=g.map(function(Vt){return Vt.align||"left"}),p=0;p<g.length;p+=1)ct[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&($=C=g,G=C.map(function(){return"left"}));if(x||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<C.length;p+=1){for(z[R=C[p]]=f.map(function(Vt){return Vt[R]}),this.setFont(void 0,"bold"),Et.push(this.getTextDimensions($[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=z[R],this.setFont(void 0,"normal"),L=0;L<T.length;L+=1)Et.push(this.getTextDimensions(T[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ct[R]=Math.max.apply(null,Et)+E+E,Et=[]}if(S){var wt={};for(p=0;p<C.length;p+=1)wt[C[p]]={},wt[C[p]].text=$[p],wt[C[p]].align=G[p];var At=a.call(this,wt,ct);U=C.map(function(Vt){return new s(l,u,ct[Vt],At,wt[Vt].text,void 0,wt[Vt].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var mt=g.reduce(function(Vt,Ot){return Vt[Ot.name]=Ot.align,Vt},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var at=a.call(this,f[p],ct);for(L=0;L<C.length;L+=1){var Tt=f[p][C[L]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:L,data:Tt},this),o.call(this,new s(l,u,ct[C[L]],at,Tt,p+2,mt[C[L]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var T=l[p];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/v+f+f},this).reduce(function(p,T){return Math.max(p,T)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=l;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(T)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),e=!1}})(le.API);var Bw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jp=Vw(jw),Uw=[100,200,300,400,500,600,700,800,900],YL=Vw(Uw);function zd(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return Bw[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof Jp[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function o5(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var JL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l5(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function u5(n){return n.trimLeft()}function XL(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function QL(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var fh,c5,h5,hl,dh,f5,d5,p5,Hd=["times"];function g5(n,t,e,r,i){var s=4,o=v5;switch(i){case le.API.image_compression.FAST:s=1,o=m5;break;case le.API.image_compression.MEDIUM:s=6,o=y5;break;case le.API.image_compression.SLOW:s=9,o=_5}n=(function(l,u,f,g){for(var v,p=l.length/u,T=new Uint8Array(l.length+p),L=[ZL,m5,v5,y5,_5],R=0;R<p;R+=1){var C=R*u,$=l.subarray(C,C+u);if(g)T.set(g($,f,v),C+R);else{for(var G=L.length,z=[],ct=0;ct<G;ct+=1)z[ct]=L[ct]($,f,v);var Et=e8(z.concat());T.set(z[Et],C+R)}v=$}return T})(n,t,Math.ceil(e*r/8),o);var a=zp(n,{level:s});return le.API.__addimage__.arrayBufferToBinaryString(a)}function ZL(n){var t=Array.apply([],n);return t.unshift(0),t}function m5(n,t){var e=n.length,r=[];r[0]=1;for(var i=0;i<e;i+=1){var s=n[i-t]||0;r[i+1]=n[i]-s+256&255}return r}function v5(n,t,e){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=e&&e[s]||0;i[s+1]=n[s]-o+256&255}return i}function y5(n,t,e){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-t]||0,a=e&&e[s]||0;i[s+1]=n[s]+256-(o+a>>>1)&255}return i}function _5(n,t,e){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=t8(n[s-t]||0,e&&e[s]||0,e&&e[s-t]||0);i[s+1]=n[s]-o+256&255}return i}function t8(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),i=Math.abs(n-e),s=Math.abs(n+t-e-e);return r<=i&&r<=s?n:i<=s?t:e}function e8(n){var t=n.map(function(e){return e.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Wd(n,t,e){var r=t*e,i=Math.floor(r/8),s=16-(r-8*i+e),o=(1<<e)-1;return qw(n,i)>>s&o}function w5(n,t,e,r){var i=e*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(t&a)<<o;(function(u,f,g){if(f+1<u.byteLength)u.setUint16(f,g,!1);else{var v=g>>8&255;u.setUint8(f,v)}})(n,s,qw(n,s)&~(a<<o)&65535|l)}function qw(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function n8(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],s=i>>7,o=1<<1+(7&i);n[t++],n[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var u=!0,f=[],g=0,v=null,p=0,T=null;for(this.width=e,this.height=r;u&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,T=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var L=n[t++];g=n[t++]|n[t++]<<8,v=n[t++],1&L||(v=null),p=L>>2&7,t++;break;case 254:for(;;){if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var R=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,$=n[t++]|n[t++]<<8,G=n[t++]|n[t++]<<8,z=n[t++],ct=z>>6&1,Et=1<<1+(7&z),U=a,x=l,S=!1;z>>7&&(S=!0,U=t,x=Et,t+=3*Et);var F=t;for(t++;;){var b;if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}f.push({x:R,y:C,width:$,height:G,has_local_palette:S,palette_offset:U,palette_size:x,data_offset:F,data_length:t-F,transparent_index:v,interlaced:!!ct,delay:g,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return T},this.frameInfo=function(E){if(E<0||E>=f.length)throw new Error("Frame index out of range.");return f[E]},this.decodeAndBlitFrameBGRA=function(E,I){var tt=this.frameInfo(E),wt=tt.width*tt.height,At=new Uint8Array(wt);b5(n,tt.data_offset,At,wt);var mt=tt.palette_offset,at=tt.transparent_index;at===null&&(at=256);var Tt=tt.width,Vt=e-Tt,Ot=Tt,k=4*(tt.y*e+tt.x),K=4*((tt.y+tt.height)*e+tt.x),Z=k,rt=4*Vt;tt.interlaced===!0&&(rt+=4*e*7);for(var ot=8,Q=0,it=At.length;Q<it;++Q){var nt=At[Q];if(Ot===0&&(Ot=Tt,(Z+=rt)>=K&&(rt=4*Vt+4*e*(ot-1),Z=k+(Tt+Vt)*(ot<<1),ot>>=1)),nt===at)Z+=4;else{var ut=n[mt+3*nt],Nt=n[mt+3*nt+1],j=n[mt+3*nt+2];I[Z++]=j,I[Z++]=Nt,I[Z++]=ut,I[Z++]=255}--Ot}},this.decodeAndBlitFrameRGBA=function(E,I){var tt=this.frameInfo(E),wt=tt.width*tt.height,At=new Uint8Array(wt);b5(n,tt.data_offset,At,wt);var mt=tt.palette_offset,at=tt.transparent_index;at===null&&(at=256);var Tt=tt.width,Vt=e-Tt,Ot=Tt,k=4*(tt.y*e+tt.x),K=4*((tt.y+tt.height)*e+tt.x),Z=k,rt=4*Vt;tt.interlaced===!0&&(rt+=4*e*7);for(var ot=8,Q=0,it=At.length;Q<it;++Q){var nt=At[Q];if(Ot===0&&(Ot=Tt,(Z+=rt)>=K&&(rt=4*Vt+4*e*(ot-1),Z=k+(Tt+Vt)*(ot<<1),ot>>=1)),nt===at)Z+=4;else{var ut=n[mt+3*nt],Nt=n[mt+3*nt+1],j=n[mt+3*nt+2];I[Z++]=ut,I[Z++]=Nt,I[Z++]=j,I[Z++]=255}--Ot}}}function b5(n,t,e,r){for(var i=n[t++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,g=0,v=0,p=n[t++],T=new Int32Array(4096),L=null;;){for(;f<16&&p!==0;)g|=n[t++]<<f,f+=8,p===1?p=n[t++]:--p;if(f<l)break;var R=g&u;if(g>>=l,f-=l,R!==s){if(R===o)break;for(var C=R<a?R:L,$=0,G=C;G>s;)G=T[G]>>8,++$;var z=G;if(v+$+(C!==R?1:0)>r)return void ln.log("Warning, gif stream longer than expected.");e[v++]=z;var ct=v+=$;for(C!==R&&(e[v++]=z),G=C;$--;)G=T[G],e[--ct]=255&G,G>>=8;L!==null&&a<4096&&(T[a++]=L<<8|z,a>=u+1&&l<12&&(++l,u=u<<1|1)),L=R}else a=o+1,u=(1<<(l=i+1))-1,L=null}return v!==r&&ln.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $d(n){var t,e,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),g=new Array(65535),v=new Array(65535),p=new Array(64),T=new Array(64),L=[],R=0,C=7,$=new Array(64),G=new Array(64),z=new Array(64),ct=new Array(256),Et=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],b=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function At(k,K){for(var Z=0,rt=0,ot=new Array,Q=1;Q<=16;Q++){for(var it=1;it<=k[Q];it++)ot[K[rt]]=[],ot[K[rt]][0]=Z,ot[K[rt]][1]=Q,rt++,Z++;Z*=2}return ot}function mt(k){for(var K=k[0],Z=k[1]-1;Z>=0;)K&1<<Z&&(R|=1<<C),Z--,--C<0&&(R==255?(at(255),at(0)):at(R),C=7,R=0)}function at(k){L.push(k)}function Tt(k){at(k>>8&255),at(255&k)}function Vt(k,K,Z,rt,ot){for(var Q,it=ot[0],nt=ot[240],ut=(function(ft,It){var pt,jt,Pt,Ht,qt,Ut,Yt,Gt,Kt,Zt,Jt=0;for(Kt=0;Kt<8;++Kt){pt=ft[Jt],jt=ft[Jt+1],Pt=ft[Jt+2],Ht=ft[Jt+3],qt=ft[Jt+4],Ut=ft[Jt+5],Yt=ft[Jt+6];var Ae=pt+(Gt=ft[Jt+7]),Ce=pt-Gt,ee=jt+Yt,ie=jt-Yt,Le=Pt+Ut,ce=Pt-Ut,Te=Ht+qt,_e=Ht-qt,yn=Ae+Te,pn=Ae-Te,$e=ee+Le,pe=ee-Le;ft[Jt]=yn+$e,ft[Jt+4]=yn-$e;var ke=.707106781*(pe+pn);ft[Jt+2]=pn+ke,ft[Jt+6]=pn-ke;var Xi=.382683433*((yn=_e+ce)-(pe=ie+Ce)),Dn=.5411961*yn+Xi,wi=1.306562965*pe+Xi,mr=.707106781*($e=ce+ie),he=Ce+mr,gn=Ce-mr;ft[Jt+5]=gn+Dn,ft[Jt+3]=gn-Dn,ft[Jt+1]=he+wi,ft[Jt+7]=he-wi,Jt+=8}for(Jt=0,Kt=0;Kt<8;++Kt){pt=ft[Jt],jt=ft[Jt+8],Pt=ft[Jt+16],Ht=ft[Jt+24],qt=ft[Jt+32],Ut=ft[Jt+40],Yt=ft[Jt+48];var bi=pt+(Gt=ft[Jt+56]),rr=pt-Gt,ir=jt+Yt,_n=jt-Yt,$n=Pt+Ut,wn=Pt-Ut,Rs=Ht+qt,Qi=Ht-qt,vr=bi+Rs,ni=bi-Rs,Dr=ir+$n,yr=ir-$n;ft[Jt]=vr+Dr,ft[Jt+32]=vr-Dr;var Mn=.707106781*(yr+ni);ft[Jt+16]=ni+Mn,ft[Jt+48]=ni-Mn;var Zi=.382683433*((vr=Qi+wn)-(yr=_n+rr)),ri=.5411961*vr+Zi,Ri=1.306562965*yr+Zi,ts=.707106781*(Dr=wn+_n),ks=rr+ts,Os=rr-ts;ft[Jt+40]=Os+ri,ft[Jt+24]=Os-ri,ft[Jt+8]=ks+Ri,ft[Jt+56]=ks-Ri,Jt++}for(Kt=0;Kt<64;++Kt)Zt=ft[Kt]*It[Kt],p[Kt]=Zt>0?Zt+.5|0:Zt-.5|0;return p})(k,K),Nt=0;Nt<64;++Nt)T[U[Nt]]=ut[Nt];var j=T[0]-Z;Z=T[0],j==0?mt(rt[0]):(mt(rt[v[Q=32767+j]]),mt(g[Q]));for(var W=63;W>0&&T[W]==0;)W--;if(W==0)return mt(it),Z;for(var H,D=1;D<=W;){for(var St=D;T[D]==0&&D<=W;)++D;var yt=D-St;if(yt>=16){H=yt>>4;for(var xt=1;xt<=H;++xt)mt(nt);yt&=15}Q=32767+T[D],mt(ot[(yt<<4)+v[Q]]),mt(g[Q]),D++}return W!=63&&mt(it),Z}function Ot(k){k=Math.min(Math.max(k,1),100),s!=k&&((function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],rt=0;rt<64;rt++){var ot=o((Z[rt]*K+50)/100);ot=Math.min(Math.max(ot,1),255),a[U[rt]]=ot}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],it=0;it<64;it++){var nt=o((Q[it]*K+50)/100);nt=Math.min(Math.max(nt,1),255),l[U[it]]=nt}for(var ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,j=0;j<8;j++)for(var W=0;W<8;W++)u[Nt]=1/(a[U[Nt]]*ut[j]*ut[W]*8),f[Nt]=1/(l[U[Nt]]*ut[j]*ut[W]*8),Nt++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,K){K&&Ot(K),L=new Array,R=0,C=7,Tt(65496),Tt(65504),Tt(16),at(74),at(70),at(73),at(70),at(0),at(1),at(1),at(0),Tt(1),Tt(1),at(0),at(0),(function(){Tt(65499),Tt(132),at(0);for(var jt=0;jt<64;jt++)at(a[jt]);at(1);for(var Pt=0;Pt<64;Pt++)at(l[Pt])})(),(function(jt,Pt){Tt(65472),Tt(17),at(8),Tt(Pt),Tt(jt),at(3),at(1),at(17),at(0),at(2),at(17),at(1),at(3),at(17),at(1)})(k.width,k.height),(function(){Tt(65476),Tt(418),at(0);for(var jt=0;jt<16;jt++)at(x[jt+1]);for(var Pt=0;Pt<=11;Pt++)at(S[Pt]);at(16);for(var Ht=0;Ht<16;Ht++)at(F[Ht+1]);for(var qt=0;qt<=161;qt++)at(b[qt]);at(1);for(var Ut=0;Ut<16;Ut++)at(E[Ut+1]);for(var Yt=0;Yt<=11;Yt++)at(I[Yt]);at(17);for(var Gt=0;Gt<16;Gt++)at(tt[Gt+1]);for(var Kt=0;Kt<=161;Kt++)at(wt[Kt])})(),Tt(65498),Tt(12),at(3),at(1),at(0),at(2),at(17),at(3),at(17),at(0),at(63),at(0);var Z=0,rt=0,ot=0;R=0,C=7,this.encode.displayName="_encode_";for(var Q,it,nt,ut,Nt,j,W,H,D,St=k.data,yt=k.width,xt=k.height,ft=4*yt,It=0;It<xt;){for(Q=0;Q<ft;){for(Nt=ft*It+Q,W=-1,H=0,D=0;D<64;D++)j=Nt+(H=D>>3)*ft+(W=4*(7&D)),It+H>=xt&&(j-=ft*(It+1+H-xt)),Q+W>=ft&&(j-=Q+W-ft+4),it=St[j++],nt=St[j++],ut=St[j++],$[D]=(Et[it]+Et[nt+256|0]+Et[ut+512|0]>>16)-128,G[D]=(Et[it+768|0]+Et[nt+1024|0]+Et[ut+1280|0]>>16)-128,z[D]=(Et[it+1280|0]+Et[nt+1536|0]+Et[ut+1792|0]>>16)-128;Z=Vt($,u,Z,t,r),rt=Vt(G,f,rt,e,i),ot=Vt(z,f,ot,e,i),Q+=32}It+=8}if(C>=0){var pt=[];pt[1]=C+1,pt[0]=(1<<C+1)-1,mt(pt)}return Tt(65497),new Uint8Array(L)},n=n||50,(function(){for(var k=String.fromCharCode,K=0;K<256;K++)ct[K]=k(K)})(),t=At(x,S),e=At(E,I),r=At(F,b),i=At(tt,wt),(function(){for(var k=1,K=2,Z=1;Z<=15;Z++){for(var rt=k;rt<K;rt++)v[32767+rt]=Z,g[32767+rt]=[],g[32767+rt][1]=Z,g[32767+rt][0]=rt;for(var ot=-(K-1);ot<=-k;ot++)v[32767+ot]=Z,g[32767+ot]=[],g[32767+ot][1]=Z,g[32767+ot][0]=K-1+ot;k<<=1,K<<=1}})(),(function(){for(var k=0;k<256;k++)Et[k]=19595*k,Et[k+256|0]=38470*k,Et[k+512|0]=7471*k+32768,Et[k+768|0]=-11059*k,Et[k+1024|0]=-21709*k,Et[k+1280|0]=32768*k+8421375,Et[k+1536|0]=-27439*k,Et[k+1792|0]=-5329*k})(),Ot(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ui(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A5(n){function t(S){if(!S)throw Error("assert :P")}function e(S,F,b){for(var E=0;4>E;E++)if(S[F+E]!=b.charCodeAt(E))return!0;return!1}function r(S,F,b,E,I){for(var tt=0;tt<I;tt++)S[F+tt]=b[E+tt]}function i(S,F,b,E){for(var I=0;I<E;I++)S[F+I]=b}function s(S){return new Int32Array(S)}function o(S,F){for(var b=[],E=0;E<S;E++)b.push(new F);return b}function a(S,F){var b=[];return(function E(I,tt,wt){for(var At=wt[tt],mt=0;mt<At&&(I.push(wt.length>tt+1?[]:new F),!(wt.length<tt+1));mt++)E(I[mt],tt+1,wt)})(b,0,S),b}var l=function(){var S=this;function F(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function b(c,d,y,w,N){t(!(w%y));do c[d+(w-=y)]=N;while(0<w)}function E(c,d,y,w,N){if(t(2328>=N),512>=N)var O=s(512);else if((O=s(N))==null)return 0;return(function(M,V,q,J,st,_t){var X,lt,gt=V,Ct=1<<q,vt=s(16),Rt=s(16);for(t(st!=0),t(J!=null),t(M!=null),t(0<q),lt=0;lt<st;++lt){if(15<J[lt])return 0;++vt[J[lt]]}if(vt[0]==st)return 0;for(Rt[1]=0,X=1;15>X;++X){if(vt[X]>1<<X)return 0;Rt[X+1]=Rt[X]+vt[X]}for(lt=0;lt<st;++lt)X=J[lt],0<J[lt]&&(_t[Rt[X]++]=lt);if(Rt[15]==1)return(J=new I).g=0,J.value=_t[0],b(M,gt,1,Ct,J),Ct;var kt,Bt=-1,Ft=Ct-1,ae=0,te=1,Pe=1,se=1<<q;for(lt=0,X=1,st=2;X<=q;++X,st<<=1){if(te+=Pe<<=1,0>(Pe-=vt[X]))return 0;for(;0<vt[X];--vt[X])(J=new I).g=X,J.value=_t[lt++],b(M,gt+ae,st,se,J),ae=F(ae,X)}for(X=q+1,st=2;15>=X;++X,st<<=1){if(te+=Pe<<=1,0>(Pe-=vt[X]))return 0;for(;0<vt[X];--vt[X]){if(J=new I,(ae&Ft)!=Bt){for(gt+=se,kt=1<<(Bt=X)-q;15>Bt&&!(0>=(kt-=vt[Bt]));)++Bt,kt<<=1;Ct+=se=1<<(kt=Bt-q),M[V+(Bt=ae&Ft)].g=kt+q,M[V+Bt].value=gt-V-Bt}J.g=X-q,J.value=_t[lt++],b(M,gt+(ae>>q),st,se,J),ae=F(ae,X)}}return te!=2*Rt[15]-1?0:Ct})(c,d,y,w,N,O)}function I(){this.value=this.g=0}function tt(){this.value=this.g=0}function wt(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pa,tt)}function At(c,d,y,w){t(c!=null),t(d!=null),t(2147483648>w),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+w,c.Zc=4<=w?y+w-4+1:y,it(c)}function mt(c,d){for(var y=0;0<d--;)y|=ut(c,128)<<d;return y}function at(c,d){var y=mt(c,d);return nt(c)?-y:y}function Tt(c,d,y,w){var N,O=0;for(t(c!=null),t(d!=null),t(4294967288>w),c.Sb=w,c.Ra=0,c.u=0,c.h=0,4<w&&(w=4),N=0;N<w;++N)O+=d[y+N]<<8*N;c.Ra=O,c.bb=w,c.oa=d,c.pa=y}function Vt(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<So-8>>>0,++c.bb,c.u-=8;rt(c)&&(c.h=1,c.u=0)}function Ot(c,d){if(t(0<=d),!c.h&&d<=ui){var y=Z(c)&li[d];return c.u+=d,Vt(c),y}return c.h=1,c.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(c){return c.Ra>>>(c.u&So-1)>>>0}function rt(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>So}function ot(c,d){c.u=d,c.h=rt(c)}function Q(c){c.u>=Us&&(t(c.u>=Us),Vt(c))}function it(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function nt(c){return mt(c,1)}function ut(c,d){var y=c.Ca;0>c.b&&it(c);var w=c.b,N=y*d>>>8,O=(c.I>>>w>N)+0;for(O?(y-=N,c.I-=N+1<<w>>>0):y=N+1,w=y,N=0;256<=w;)N+=8,w>>=8;return w=7^N+Eo[w],c.b-=w,c.Ca=(y<<w)-1,O}function Nt(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function j(c,d){return c[d+0]|c[d+1]<<8}function W(c,d){return j(c,d)|c[d+2]<<16}function H(c,d){return j(c,d)|j(c,d+2)<<16}function D(c,d){var y=1<<d;return t(c!=null),t(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function St(c,d){t(c!=null),t(d!=null),t(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function yt(){this.X=[],this.Xa=this.Mb=0}function xt(c,d,y,w){t(y!=null),t(w!=null);var N=y[0],O=w[0];return N==0&&(N=(c*O+d/2)/d),O==0&&(O=(d*N+c/2)/c),0>=N||0>=O?0:(y[0]=N,w[0]=O,1)}function ft(c,d){return c+(1<<d)-1>>>d}function It(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function pt(c,d){S[d]=function(y,w,N,O,M,V,q){var J;for(J=0;J<M;++J){var st=S[c](V[q+J-1],N,O+J);V[q+J]=It(y[w+J],st)}}}function jt(){this.ud=this.hd=this.jd=0}function Pt(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Ht(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function qt(c,d){return Ht(c+(c-d+.5>>1))}function Ut(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function Yt(c,d,y,w,N,O,M){for(w=O[M-1],y=0;y<N;++y)O[M+y]=w=It(c[d+y],w)}function Gt(c,d,y,w,N){var O;for(O=0;O<y;++O){var M=c[d+O],V=M>>8&255,q=16711935&(q=(q=16711935&M)+((V<<16)+V));w[N+O]=(4278255360&M)+q>>>0}}function Kt(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function Zt(c,d,y,w,N,O){var M;for(M=0;M<w;++M){var V=d[y+M],q=V>>>8,J=V,st=255&(st=(st=V>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));J=255&(J=(J+=(c.hd<<24>>24)*(q<<24>>24)>>>5)+((c.ud<<24>>24)*(st<<24>>24)>>>5)),N[O+M]=(4278255360&V)+(st<<16)+J}}function Jt(c,d,y,w,N){S[d]=function(O,M,V,q,J,st,_t,X,lt){for(q=_t;q<X;++q)for(_t=0;_t<lt;++_t)J[st++]=N(V[w(O[M++])])},S[c]=function(O,M,V,q,J,st,_t){var X=8>>O.b,lt=O.Ea,gt=O.K[0],Ct=O.w;if(8>X)for(O=(1<<O.b)-1,Ct=(1<<X)-1;M<V;++M){var vt,Rt=0;for(vt=0;vt<lt;++vt)vt&O||(Rt=w(q[J++])),st[_t++]=N(gt[Rt&Ct]),Rt>>=X}else S["VP8LMapColor"+y](q,J,gt,Ct,st,_t,M,V,lt)}}function Ae(c,d,y,w,N){for(y=d+y;d<y;){var O=c[d++];w[N++]=O>>16&255,w[N++]=O>>8&255,w[N++]=255&O}}function Ce(c,d,y,w,N){for(y=d+y;d<y;){var O=c[d++];w[N++]=O>>16&255,w[N++]=O>>8&255,w[N++]=255&O,w[N++]=O>>24&255}}function ee(c,d,y,w,N){for(y=d+y;d<y;){var O=(M=c[d++])>>16&240|M>>12&15,M=240&M|M>>28&15;w[N++]=O,w[N++]=M}}function ie(c,d,y,w,N){for(y=d+y;d<y;){var O=(M=c[d++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;w[N++]=O,w[N++]=M}}function Le(c,d,y,w,N){for(y=d+y;d<y;){var O=c[d++];w[N++]=255&O,w[N++]=O>>8&255,w[N++]=O>>16&255}}function ce(c,d,y,w,N,O){if(O==0)for(y=d+y;d<y;)Nt(w,((O=c[d++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),N+=32;else r(w,N,c,d,y)}function Te(c,d){S[d][0]=S[c+"0"],S[d][1]=S[c+"1"],S[d][2]=S[c+"2"],S[d][3]=S[c+"3"],S[d][4]=S[c+"4"],S[d][5]=S[c+"5"],S[d][6]=S[c+"6"],S[d][7]=S[c+"7"],S[d][8]=S[c+"8"],S[d][9]=S[c+"9"],S[d][10]=S[c+"10"],S[d][11]=S[c+"11"],S[d][12]=S[c+"12"],S[d][13]=S[c+"13"],S[d][14]=S[c+"0"],S[d][15]=S[c+"0"]}function _e(c){return c==Vf||c==Bf||c==Bc||c==jf}function yn(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $e(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yn,this.f.kb=new pn,this.sd=null}function pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ke(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xi(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Dn(c,d){var y=c.T,w=d.ba.f.RGBA,N=w.eb,O=w.fb+c.ka*w.A,M=xi[d.ba.S],V=c.y,q=c.O,J=c.f,st=c.N,_t=c.ea,X=c.W,lt=d.cc,gt=d.dc,Ct=d.Mc,vt=d.Nc,Rt=c.ka,kt=c.ka+c.T,Bt=c.U,Ft=Bt+1>>1;for(Rt==0?M(V,q,null,null,J,st,_t,X,J,st,_t,X,N,O,null,null,Bt):(M(d.ec,d.fc,V,q,lt,gt,Ct,vt,J,st,_t,X,N,O-w.A,N,O,Bt),++y);Rt+2<kt;Rt+=2)lt=J,gt=st,Ct=_t,vt=X,st+=c.Rc,X+=c.Rc,O+=2*w.A,M(V,(q+=2*c.fa)-c.fa,V,q,lt,gt,Ct,vt,J,st,_t,X,N,O-w.A,N,O,Bt);return q+=c.fa,c.j+kt<c.o?(r(d.ec,d.fc,V,q,Bt),r(d.cc,d.dc,J,st,Ft),r(d.Mc,d.Nc,_t,X,Ft),y--):1&kt||M(V,q,null,null,J,st,_t,X,J,st,_t,X,N,O+w.A,null,null,Bt),y}function wi(c,d,y){var w=c.F,N=[c.J];if(w!=null){var O=c.U,M=d.ba.S,V=M==Vc||M==Bc;d=d.ba.f.RGBA;var q=[0],J=c.ka;q[0]=c.T,c.Kb&&(J==0?--q[0]:(--J,N[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-J));var st=d.eb;J=d.fb+J*d.A,c=v1(w,N[0],c.width,O,q,st,J+(V?0:3),d.A),t(y==q),c&&_e(M)&&vu(st,J,V,O,q,d.A)}return 0}function mr(c){var d=c.ma,y=d.ba.S,w=11>y,N=y==Mc||y==Fc||y==Vc||y==Ff||y==12||_e(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!uu(d.Oa,c,N?11:12))return 0;if(N&&_e(y)&&xa(),c.da)alert("todo:use_scaling");else{if(w){if(d.Ib=Xi,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Dn,xa()}}else alert("todo:EmitYUV");N&&(d.Jb=wi,w&&un())}if(w&&!k1){for(c=0;256>c;++c)Ab[c]=89858*(c-128)+Uc>>jc,Ib[c]=-22014*(c-128)+Uc,Eb[c]=-45773*(c-128),Sb[c]=113618*(c-128)+Uc>>jc;for(c=_u;c<zf;++c)d=76283*(c-16)+Uc>>jc,Tb[c-_u]=Re(d,255),xb[c-_u]=Re(d+8>>4,15);k1=1}return 1}function he(c){var d=c.ma,y=c.U,w=c.T;return t(!(1&c.ka)),0>=y||0>=w?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function gn(c){c.ma.memory=null}function bi(c,d,y,w){return Ot(c,8)!=47?0:(d[0]=Ot(c,14)+1,y[0]=Ot(c,14)+1,w[0]=Ot(c,1),Ot(c,3)!=0?0:!c.h)}function rr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+Ot(d,y)+1}function ir(c,d){return 120<d?d-120:1<=(y=((y=lb[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function _n(c,d,y){var w=Z(y),N=c[d+=255&w].g-8;return 0<N&&(ot(y,y.u+8),w=Z(y),d+=c[d].value,d+=w&(1<<N)-1),ot(y,y.u+c[d].g),c[d].value}function $n(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,t(8>=y.g),c.g}function wn(c,d,y){var w=c.xc;return t((d=w==0?0:c.vc[c.md*(y>>w)+(d>>w)])<c.Wb),c.Ya[d]}function Rs(c,d,y,w){var N=c.ab,O=c.c*d,M=c.C;d=M+d;var V=y,q=w;for(w=c.Ta,y=c.Ua;0<N--;){var J=c.gc[N],st=M,_t=d,X=V,lt=q,gt=(q=w,V=y,J.Ea);switch(t(st<_t),t(_t<=J.nc),J.hc){case 2:Fn(X,lt,(_t-st)*gt,q,V);break;case 0:var Ct=st,vt=_t,Rt=q,kt=V,Bt=(se=J).Ea;Ct==0&&(hu(X,lt,null,null,1,Rt,kt),Yt(X,lt+1,0,0,Bt-1,Rt,kt+1),lt+=Bt,kt+=Bt,++Ct);for(var Ft=1<<se.b,ae=Ft-1,te=ft(Bt,se.b),Pe=se.K,se=se.w+(Ct>>se.b)*te;Ct<vt;){var Ve=Pe,Xn=se,Ne=1;for(sl(X,lt,Rt,kt-Bt,1,Rt,kt);Ne<Bt;){var oe=(Ne&~ae)+Ft;oe>Bt&&(oe=Bt),(0,du[Ve[Xn++]>>8&15])(X,lt+ +Ne,Rt,kt+Ne-Bt,oe-Ne,Rt,kt+Ne),Ne=oe}lt+=Bt,kt+=Bt,++Ct&ae||(se+=te)}_t!=J.nc&&r(q,V-gt,q,V+(_t-st-1)*gt,gt);break;case 1:for(gt=X,vt=lt,Bt=(X=J.Ea)-(kt=X&~(Rt=(lt=1<<J.b)-1)),Ct=ft(X,J.b),Ft=J.K,J=J.w+(st>>J.b)*Ct;st<_t;){for(ae=Ft,te=J,Pe=new jt,se=vt+kt,Ve=vt+X;vt<se;)Kt(ae[te++],Pe),pu(Pe,gt,vt,lt,q,V),vt+=lt,V+=lt;vt<Ve&&(Kt(ae[te++],Pe),pu(Pe,gt,vt,Bt,q,V),vt+=Bt,V+=Bt),++st&Rt||(J+=Ct)}break;case 3:if(X==q&&lt==V&&0<J.b){for(vt=q,X=gt=V+(_t-st)*gt-(kt=(_t-st)*ft(J.Ea,J.b)),lt=q,Rt=V,Ct=[],kt=(Bt=kt)-1;0<=kt;--kt)Ct[kt]=lt[Rt+kt];for(kt=Bt-1;0<=kt;--kt)vt[X+kt]=Ct[kt];Rc(J,st,_t,q,gt,q,V)}else Rc(J,st,_t,X,lt,q,V)}V=w,q=y}q!=y&&r(w,y,V,q,O)}function Qi(c,d){var y=c.V,w=c.Ba+c.c*c.C,N=d-c.C;if(t(d<=c.l.o),t(16>=N),0<N){var O=c.l,M=c.Ta,V=c.Ua,q=O.width;if(Rs(c,N,y,w),N=V=[V],t((y=c.C)<(w=d)),t(O.v<O.va),w>O.o&&(w=O.o),y<O.j){var J=O.j-y;y=O.j,N[0]+=J*q}if(y>=w?y=0:(N[0]+=4*O.v,O.ka=y-O.j,O.U=O.va-O.v,O.T=w-y,y=1),y){if(V=V[0],11>(y=c.ca).S){var st=y.f.RGBA,_t=(w=y.S,N=O.U,O=O.T,J=st.eb,st.A),X=O;for(st=st.fb+c.Ma*st.A;0<X--;){var lt=M,gt=V,Ct=N,vt=J,Rt=st;switch(w){case Dc:gu(lt,gt,Ct,vt,Rt);break;case Mc:Io(lt,gt,Ct,vt,Rt);break;case Vf:Io(lt,gt,Ct,vt,Rt),vu(vt,Rt,0,Ct,1,0);break;case E1:Na(lt,gt,Ct,vt,Rt);break;case Fc:ce(lt,gt,Ct,vt,Rt,1);break;case Bf:ce(lt,gt,Ct,vt,Rt,1),vu(vt,Rt,0,Ct,1,0);break;case Vc:ce(lt,gt,Ct,vt,Rt,0);break;case Bc:ce(lt,gt,Ct,vt,Rt,0),vu(vt,Rt,1,Ct,1,0);break;case Ff:To(lt,gt,Ct,vt,Rt);break;case jf:To(lt,gt,Ct,vt,Rt),m1(vt,Rt,Ct,1,0);break;case I1:xo(lt,gt,Ct,vt,Rt);break;default:t(0)}V+=q,st+=_t}c.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=y.height)}}c.C=d,t(c.C<=c.i)}function vr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,w=c.Ya[d].H;if(0<y[1][w[1]+0].g||0<y[2][w[2]+0].g||0<y[3][w[3]+0].g)return 0}return 1}function ni(c,d,y,w,N,O){if(c.Z!=0){var M=c.qd,V=c.rd;for(t(Co[c.Z]!=null);d<y;++d)Co[c.Z](M,V,w,N,w,N,O),M=w,V=N,N+=O;c.qd=M,c.rd=V}}function Dr(c,d){var y=c.l.ma,w=y.Z==0||y.Z==1?c.l.j:c.C;if(w=c.C<w?w:c.C,t(d<=c.l.o),d>w){var N=c.l.width,O=y.ca,M=y.tb+N*w,V=c.V,q=c.Ba+c.c*w,J=c.gc;t(c.ab==1),t(J[0].hc==3),hs(J[0],w,d,V,q,O,M),ni(y,w,d,O,M,N)}c.C=c.Ma=d}function yr(c,d,y,w,N,O,M){var V=c.$/w,q=c.$%w,J=c.m,st=c.s,_t=y+c.$,X=_t;N=y+w*N;var lt=y+w*O,gt=280+st.ua,Ct=c.Pb?V:16777216,vt=0<st.ua?st.Wa:null,Rt=st.wc,kt=_t<lt?wn(st,q,V):null;t(c.C<O),t(lt<=N);var Bt=!1;t:for(;;){for(;Bt||_t<lt;){var Ft=0;if(V>=Ct){var ae=_t-y;t((Ct=c).Pb),Ct.wd=Ct.m,Ct.xd=ae,0<Ct.s.ua&&St(Ct.s.Wa,Ct.s.vb),Ct=V+cb}if(q&Rt||(kt=wn(st,q,V)),t(kt!=null),kt.Qb&&(d[_t]=kt.qb,Bt=!0),!Bt)if(Q(J),kt.jc){Ft=J,ae=d;var te=_t,Pe=kt.pd[Z(Ft)&Pa-1];t(kt.jc),256>Pe.g?(ot(Ft,Ft.u+Pe.g),ae[te]=Pe.value,Ft=0):(ot(Ft,Ft.u+Pe.g-256),t(256<=Pe.value),Ft=Pe.value),Ft==0&&(Bt=!0)}else Ft=_n(kt.G[0],kt.H[0],J);if(J.h)break;if(Bt||256>Ft){if(!Bt)if(kt.nd)d[_t]=(kt.qb|Ft<<8)>>>0;else{if(Q(J),Bt=_n(kt.G[1],kt.H[1],J),Q(J),ae=_n(kt.G[2],kt.H[2],J),te=_n(kt.G[3],kt.H[3],J),J.h)break;d[_t]=(te<<24|Bt<<16|Ft<<8|ae)>>>0}if(Bt=!1,++_t,++q>=w&&(q=0,++V,M!=null&&V<=O&&!(V%16)&&M(c,V),vt!=null))for(;X<_t;)Ft=d[X++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft}else if(280>Ft){if(Ft=rr(Ft-256,J),ae=_n(kt.G[4],kt.H[4],J),Q(J),ae=ir(w,ae=rr(ae,J)),J.h)break;if(_t-y<ae||N-_t<Ft)break t;for(te=0;te<Ft;++te)d[_t+te]=d[_t+te-ae];for(_t+=Ft,q+=Ft;q>=w;)q-=w,++V,M!=null&&V<=O&&!(V%16)&&M(c,V);if(t(_t<=N),q&Rt&&(kt=wn(st,q,V)),vt!=null)for(;X<_t;)Ft=d[X++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft}else{if(!(Ft<gt))break t;for(Bt=Ft-280,t(vt!=null);X<_t;)Ft=d[X++],vt.X[(506832829*Ft&4294967295)>>>vt.Mb]=Ft;Ft=_t,t(!(Bt>>>(ae=vt).Xa)),d[Ft]=ae.X[Bt],Bt=!0}Bt||t(J.h==rt(J))}if(c.Pb&&J.h&&_t<N)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&St(c.s.vb,c.s.Wa);else{if(J.h)break t;M?.(c,V>O?O:V),c.a=0,c.$=_t-y}return 1}return c.a=3,0}function Mn(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,t(c!=null)}function Zi(){var c=new re;return c==null?null:(c.a=0,c.xb=P1,Te("Predictor","VP8LPredictors"),Te("Predictor","VP8LPredictors_C"),Te("PredictorAdd","VP8LPredictorsAdd"),Te("PredictorAdd","VP8LPredictorsAdd_C"),Fn=Gt,pu=Zt,gu=Ae,Io=Ce,To=ee,xo=ie,Na=Le,S.VP8LMapColor32b=cs,S.VP8LMapColor8b=fu,c)}function ri(c,d,y,w,N){var O=1,M=[c],V=[d],q=w.m,J=w.s,st=null,_t=0;t:for(;;){if(y)for(;O&&Ot(q,1);){var X=M,lt=V,gt=w,Ct=1,vt=gt.m,Rt=gt.gc[gt.ab],kt=Ot(vt,2);if(gt.Oc&1<<kt)O=0;else{switch(gt.Oc|=1<<kt,Rt.hc=kt,Rt.Ea=X[0],Rt.nc=lt[0],Rt.K=[null],++gt.ab,t(4>=gt.ab),kt){case 0:case 1:Rt.b=Ot(vt,3)+2,Ct=ri(ft(Rt.Ea,Rt.b),ft(Rt.nc,Rt.b),0,gt,Rt.K),Rt.K=Rt.K[0];break;case 3:var Bt,Ft=Ot(vt,8)+1,ae=16<Ft?0:4<Ft?1:2<Ft?2:3;if(X[0]=ft(Rt.Ea,ae),Rt.b=ae,Bt=Ct=ri(Ft,1,0,gt,Rt.K)){var te,Pe=Ft,se=Rt,Ve=1<<(8>>se.b),Xn=s(Ve);if(Xn==null)Bt=0;else{var Ne=se.K[0],oe=se.w;for(Xn[0]=se.K[0][0],te=1;te<1*Pe;++te)Xn[te]=It(Ne[oe+te],Xn[te-1]);for(;te<4*Ve;++te)Xn[te]=0;se.K[0]=null,se.K[0]=Xn,Bt=1}}Ct=Bt;break;case 2:break;default:t(0)}O=Ct}}if(M=M[0],V=V[0],O&&Ot(q,1)&&!(O=1<=(_t=Ot(q,4))&&11>=_t)){w.a=3;break t}var $t;if($t=O)e:{var Bn,Se,Ue,mn=w,hr=M,Vr=V,Rn=_t,wr=y,Br=mn.m,Qn=mn.s,He=[null],tn=1,kn=0,en=ub[Rn];n:for(;;){if(wr&&Ot(Br,1)){var fr=Ot(Br,3)+2,Bi=ft(hr,fr),jn=ft(Vr,fr),Jr=Bi*jn;if(!ri(Bi,jn,0,mn,He))break n;for(He=He[0],Qn.xc=fr,Bn=0;Bn<Jr;++Bn){var an=He[Bn]>>8&65535;He[Bn]=an,an>=tn&&(tn=an+1)}}if(Br.h)break n;for(Se=0;5>Se;++Se){var Zn=T1[Se];!Se&&0<Rn&&(Zn+=1<<Rn),kn<Zn&&(kn=Zn)}var hi=o(tn*en,I),jr=tn,fi=o(jr,wt);if(fi==null)var di=null;else t(65536>=jr),di=fi;var Xr=s(kn);if(di==null||Xr==null||hi==null){mn.a=1;break n}var pi=hi;for(Bn=Ue=0;Bn<tn;++Bn){var hn=di[Bn],gi=hn.G,ji=hn.H,La=0,Hs=1,dr=0;for(Se=0;5>Se;++Se){Zn=T1[Se],gi[Se]=pi,ji[Se]=Ue,!Se&&0<Rn&&(Zn+=1<<Rn);i:{var zc,Hf=Zn,Hc=mn,wu=Xr,Cb=pi,Lb=Ue,Wf=0,Lo=Hc.m,Rb=Ot(Lo,1);if(i(wu,0,0,Hf),Rb){var kb=Ot(Lo,1)+1,Ob=Ot(Lo,1),M1=Ot(Lo,Ob==0?1:8);wu[M1]=1,kb==2&&(wu[M1=Ot(Lo,8)]=1);var Wc=1}else{var F1=s(19),V1=Ot(Lo,4)+4;if(19<V1){Hc.a=3;var $c=0;break i}for(zc=0;zc<V1;++zc)F1[ab[zc]]=Ot(Lo,3);var $f=void 0,bu=void 0,B1=Hc,Db=F1,Gc=Hf,j1=wu,Gf=0,Ro=B1.m,U1=8,q1=o(128,I);r:for(;E(q1,0,7,Db,19);){if(Ot(Ro,1)){var Mb=2+2*Ot(Ro,3);if(($f=2+Ot(Ro,Mb))>Gc)break r}else $f=Gc;for(bu=0;bu<Gc&&$f--;){Q(Ro);var z1=q1[0+(127&Z(Ro))];ot(Ro,Ro.u+z1.g);var al=z1.value;if(16>al)j1[bu++]=al,al!=0&&(U1=al);else{var Fb=al==16,H1=al-16,Vb=sb[H1],W1=Ot(Ro,ib[H1])+Vb;if(bu+W1>Gc)break r;for(var Bb=Fb?U1:0;0<W1--;)j1[bu++]=Bb}}Gf=1;break r}Gf||(B1.a=3),Wc=Gf}(Wc=Wc&&!Lo.h)&&(Wf=E(Cb,Lb,8,wu,Hf)),Wc&&Wf!=0?$c=Wf:(Hc.a=3,$c=0)}if($c==0)break n;if(Hs&&ob[Se]==1&&(Hs=pi[Ue].g==0),La+=pi[Ue].g,Ue+=$c,3>=Se){var Au,Kf=Xr[0];for(Au=1;Au<Zn;++Au)Xr[Au]>Kf&&(Kf=Xr[Au]);dr+=Kf}}if(hn.nd=Hs,hn.Qb=0,Hs&&(hn.qb=(gi[3][ji[3]+0].value<<24|gi[1][ji[1]+0].value<<16|gi[2][ji[2]+0].value)>>>0,La==0&&256>gi[0][ji[0]+0].value&&(hn.Qb=1,hn.qb+=gi[0][ji[0]+0].value<<8)),hn.jc=!hn.Qb&&6>dr,hn.jc){var Kc,Ws=hn;for(Kc=0;Kc<Pa;++Kc){var ko=Kc,Oo=Ws.pd[ko],Yc=Ws.G[0][Ws.H[0]+ko];256<=Yc.value?(Oo.g=Yc.g+256,Oo.value=Yc.value):(Oo.g=0,Oo.value=0,ko>>=$n(Yc,8,Oo),ko>>=$n(Ws.G[1][Ws.H[1]+ko],16,Oo),ko>>=$n(Ws.G[2][Ws.H[2]+ko],0,Oo),$n(Ws.G[3][Ws.H[3]+ko],24,Oo))}}}Qn.vc=He,Qn.Wb=tn,Qn.Ya=di,Qn.yc=hi,$t=1;break e}$t=0}if(!(O=$t)){w.a=3;break t}if(0<_t){if(J.ua=1<<_t,!D(J.Wa,_t)){w.a=1,O=0;break t}}else J.ua=0;var Yf=w,$1=M,jb=V,Jf=Yf.s,Xf=Jf.xc;if(Yf.c=$1,Yf.i=jb,Jf.md=ft($1,Xf),Jf.wc=Xf==0?-1:(1<<Xf)-1,y){w.xb=vb;break t}if((st=s(M*V))==null){w.a=1,O=0;break t}O=(O=yr(w,st,0,M,V,V,null))&&!q.h;break t}return O?(N!=null?N[0]=st:(t(st==null),t(y)),w.$=0,y||Mn(J)):Mn(J),O}function Ri(c,d){var y=c.c*c.i,w=y+d+16*d;return t(c.c<=d),c.V=s(w),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function ts(c,d){var y=c.C,w=d-y,N=c.V,O=c.Ba+c.c*y;for(t(d<=c.l.o);0<w;){var M=16<w?16:w,V=c.l.ma,q=c.l.width,J=q*M,st=V.ca,_t=V.tb+q*y,X=c.Ta,lt=c.Ua;Rs(c,M,N,O),y1(X,lt,st,_t,J),ni(V,y,y+M,st,_t,q),w-=M,N+=M*c.c,y+=M}t(y==d),c.C=c.Ma=d}function ks(){this.ub=this.yd=this.td=this.Rb=0}function Os(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function es(){this.Yb=(function(){var c=[];return(function d(y,w,N){for(var O=N[w],M=0;M<O&&(y.push(N.length>w+1?[]:0),!(N.length<w+1));M++)d(y[M],w+1,N)})(c,0,[3,11]),c})()}function da(){this.jb=s(3),this.Wc=a([4,8],es),this.Xc=a([4,17],es)}function fo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function sr(){this.ld=this.La=this.dd=this.tc=0}function ii(){this.Na=this.la=0}function po(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ga(){this.uc=this.M=this.Nb=0,this.wa=Array(new sr),this.Y=0,this.ya=Array(new pa),this.aa=0,this.l=new ns}function ma(){this.y=s(16),this.f=s(8),this.ea=s(8)}function va(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new ks,this.Kc=new Os,this.ed=new fo,this.Qa=new nu,this.Ic=this.$c=this.Aa=0,this.D=new ga,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,k),this.ia=0,this.pb=o(4,po),this.Pa=new da,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ma),this.Hd=0,this.rb=Array(new ii),this.sb=0,this.wa=Array(new sr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pa),this.L=this.aa=0,this.gd=a([4,2],sr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ns(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ya(){var c=new va;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,yu||(yu=ki)),c}function An(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function _a(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function nl(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return An(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,w=d.w,N=d.ha;if(4>N)return An(c,7,"Truncated header.");var O=y[w+0]|y[w+1]<<8|y[w+2]<<16,M=c.Od;if(M.Rb=!(1&O),M.td=O>>1&7,M.yd=O>>4&1,M.ub=O>>5,3<M.td)return An(c,3,"Incorrect keyframe parameters.");if(!M.yd)return An(c,4,"Frame not displayable.");w+=3,N-=3;var V=c.Kc;if(M.Rb){if(7>N)return An(c,7,"cannot parse picture header");if(!_a(y,w,N))return An(c,3,"Bad code word");V.c=16383&(y[w+4]<<8|y[w+3]),V.Td=y[w+4]>>6,V.i=16383&(y[w+6]<<8|y[w+5]),V.Ud=y[w+6]>>6,w+=7,N-=7,c.za=V.c+15>>4,c.Ub=V.i+15>>4,d.width=V.c,d.height=V.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((O=c.Pa).jb,0,255,O.jb.length),t((O=c.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,i(O.Zb,0,0,O.Zb.length),i(O.Lb,0,0,O.Lb)}if(M.ub>N)return An(c,7,"bad partition length");At(O=c.m,y,w,M.ub),w+=M.ub,N-=M.ub,M.Rb&&(V.Ld=nt(O),V.Kd=nt(O)),V=c.Qa;var q,J=c.Pa;if(t(O!=null),t(V!=null),V.Cb=nt(O),V.Cb){if(V.Bb=nt(O),nt(O)){for(V.Fb=nt(O),q=0;4>q;++q)V.Zb[q]=nt(O)?at(O,7):0;for(q=0;4>q;++q)V.Lb[q]=nt(O)?at(O,6):0}if(V.Bb)for(q=0;3>q;++q)J.jb[q]=nt(O)?mt(O,8):255}else V.Bb=0;if(O.Ka)return An(c,3,"cannot parse segment header");if((V=c.ed).zd=nt(O),V.Tb=mt(O,6),V.wb=mt(O,3),V.Pc=nt(O),V.Pc&&nt(O)){for(J=0;4>J;++J)nt(O)&&(V.vd[J]=at(O,6));for(J=0;4>J;++J)nt(O)&&(V.od[J]=at(O,6))}if(c.L=V.Tb==0?0:V.zd?1:2,O.Ka)return An(c,3,"cannot parse filter header");var st=N;if(N=q=w,w=q+st,V=st,c.Xb=(1<<mt(c.m,2))-1,st<3*(J=c.Xb))y=7;else{for(q+=3*J,V-=3*J,st=0;st<J;++st){var _t=y[N+0]|y[N+1]<<8|y[N+2]<<16;_t>V&&(_t=V),At(c.Jc[+st],y,q,_t),q+=_t,V-=_t,N+=3}At(c.Jc[+J],y,q,V),y=q<w?0:5}if(y!=0)return An(c,y,"cannot parse partitions");for(y=mt(q=c.m,7),N=nt(q)?at(q,4):0,w=nt(q)?at(q,4):0,V=nt(q)?at(q,4):0,J=nt(q)?at(q,4):0,q=nt(q)?at(q,4):0,st=c.Qa,_t=0;4>_t;++_t){if(st.Cb){var X=st.Zb[_t];st.Fb||(X+=y)}else{if(0<_t){c.pb[_t]=c.pb[0];continue}X=y}var lt=c.pb[_t];lt.Sc[0]=Uf[Re(X+N,127)],lt.Sc[1]=qf[Re(X+0,127)],lt.Eb[0]=2*Uf[Re(X+w,127)],lt.Eb[1]=101581*qf[Re(X+V,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=Uf[Re(X+J,117)],lt.Qc[1]=qf[Re(X+q,127)],lt.lc=X+q}if(!M.Rb)return An(c,4,"Not a key frame.");for(nt(O),M=c.Pa,y=0;4>y;++y){for(N=0;8>N;++N)for(w=0;3>w;++w)for(V=0;11>V;++V)J=ut(O,gb[y][N][w][V])?mt(O,8):db[y][N][w][V],M.Wc[y][N].Yb[w][V]=J;for(N=0;17>N;++N)M.Xc[y][N]=M.Wc[y][mb[N]]}return c.kc=nt(O),c.kc&&(c.Bd=mt(O,8)),c.cb=1}function ki(c,d,y,w,N,O,M){var V=d[N].Yb[y];for(y=0;16>N;++N){if(!ut(c,V[y+0]))return N;for(;!ut(c,V[y+1]);)if(V=d[++N].Yb[0],y=0,N==16)return 16;var q=d[N+1].Yb;if(ut(c,V[y+2])){var J=c,st=0;if(ut(J,(X=V)[(_t=y)+3]))if(ut(J,X[_t+6])){for(V=0,_t=2*(st=ut(J,X[_t+8]))+(X=ut(J,X[_t+9+st])),st=0,X=hb[_t];X[V];++V)st+=st+ut(J,X[V]);st+=3+(8<<_t)}else ut(J,X[_t+7])?(st=7+2*ut(J,165),st+=ut(J,145)):st=5+ut(J,159);else st=ut(J,X[_t+4])?3+ut(J,X[_t+5]):2;V=q[2]}else st=1,V=q[1];q=M+fb[N],0>(J=c).b&&it(J);var _t,X=J.b,lt=(_t=J.Ca>>1)-(J.I>>X)>>31;--J.b,J.Ca+=lt,J.Ca|=1,J.I-=(_t+1&lt)<<X,O[q]=((st^lt)-lt)*w[(0<N)+0]}return 16}function rs(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function $r(c,d,y,w,N){N=c[d+y+32*w]+(N>>3),c[d+y+32*w]=-256&N?0>N?0:255:N}function Ds(c,d,y,w,N,O){$r(c,d,0,y,w+N),$r(c,d,1,y,w+O),$r(c,d,2,y,w-O),$r(c,d,3,y,w-N)}function Qe(c){return(20091*c>>16)+c}function Mr(c,d,y,w){var N,O=0,M=s(16);for(N=0;4>N;++N){var V=c[d+0]+c[d+8],q=c[d+0]-c[d+8],J=(35468*c[d+4]>>16)-Qe(c[d+12]),st=Qe(c[d+4])+(35468*c[d+12]>>16);M[O+0]=V+st,M[O+1]=q+J,M[O+2]=q-J,M[O+3]=V-st,O+=4,d++}for(N=O=0;4>N;++N)V=(c=M[O+0]+4)+M[O+8],q=c-M[O+8],J=(35468*M[O+4]>>16)-Qe(M[O+12]),$r(y,w,0,0,V+(st=Qe(M[O+4])+(35468*M[O+12]>>16))),$r(y,w,1,0,q+J),$r(y,w,2,0,q-J),$r(y,w,3,0,V-st),O++,w+=32}function go(c,d,y,w){var N=c[d+0]+4,O=35468*c[d+4]>>16,M=Qe(c[d+4]),V=35468*c[d+1]>>16;Ds(y,w,0,N+M,c=Qe(c[d+1]),V),Ds(y,w,1,N+O,c,V),Ds(y,w,2,N-O,c,V),Ds(y,w,3,N-M,c,V)}function mo(c,d,y,w,N){Mr(c,d,y,w),N&&Mr(c,d+16,y,w+4)}function rl(c,d,y,w){Ca(c,d+0,y,w,1),Ca(c,d+32,y,w+128,1)}function De(c,d,y,w){var N;for(c=c[d+0]+4,N=0;4>N;++N)for(d=0;4>d;++d)$r(y,w,d,N,c)}function Ms(c,d,y,w){c[d+0]&&Ke(c,d+0,y,w),c[d+16]&&Ke(c,d+16,y,w+4),c[d+32]&&Ke(c,d+32,y,w+128),c[d+48]&&Ke(c,d+48,y,w+128+4)}function is(c,d,y,w){var N,O=s(16);for(N=0;4>N;++N){var M=c[d+0+N]+c[d+12+N],V=c[d+4+N]+c[d+8+N],q=c[d+4+N]-c[d+8+N],J=c[d+0+N]-c[d+12+N];O[0+N]=M+V,O[8+N]=M-V,O[4+N]=J+q,O[12+N]=J-q}for(N=0;4>N;++N)M=(c=O[0+4*N]+3)+O[3+4*N],V=O[1+4*N]+O[2+4*N],q=O[1+4*N]-O[2+4*N],J=c-O[3+4*N],y[w+0]=M+V>>3,y[w+16]=J+q>>3,y[w+32]=M-V>>3,y[w+48]=J-q>>3,w+=64}function Gr(c,d,y){var w,N=d-32,O=ci,M=255-c[N-1];for(w=0;w<y;++w){var V,q=O,J=M+c[d-1];for(V=0;V<y;++V)c[d+V]=q[J+c[N+V]];d+=32}}function wa(c,d){Gr(c,d,4)}function il(c,d){Gr(c,d,8)}function ru(c,d){Gr(c,d,16)}function iu(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function ba(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function Fs(c,d,y){var w;for(w=0;16>w;++w)i(d,y+32*w,c,16)}function Kr(c,d){var y,w=16;for(y=0;16>y;++y)w+=c[d-1+32*y]+c[d+y-32];Fs(w>>5,c,d)}function Ai(c,d){var y,w=8;for(y=0;16>y;++y)w+=c[d-1+32*y];Fs(w>>4,c,d)}function ss(c,d){var y,w=8;for(y=0;16>y;++y)w+=c[d+y-32];Fs(w>>4,c,d)}function vo(c,d){Fs(128,c,d)}function ge(c,d,y){return c+2*d+y+2>>2}function os(c,d){var y,w=d-32;for(w=new Uint8Array([ge(c[w-1],c[w+0],c[w+1]),ge(c[w+0],c[w+1],c[w+2]),ge(c[w+1],c[w+2],c[w+3]),ge(c[w+2],c[w+3],c[w+4])]),y=0;4>y;++y)r(c,d+32*y,w,0,w.length)}function su(c,d){var y=c[d-1],w=c[d-1+32],N=c[d-1+64],O=c[d-1+96];Nt(c,d+0,16843009*ge(c[d-1-32],y,w)),Nt(c,d+32,16843009*ge(y,w,N)),Nt(c,d+64,16843009*ge(w,N,O)),Nt(c,d+96,16843009*ge(N,O,O))}function ou(c,d){var y,w=4;for(y=0;4>y;++y)w+=c[d+y-32]+c[d-1+32*y];for(w>>=3,y=0;4>y;++y)i(c,d+32*y,w,4)}function au(c,d){var y=c[d-1+0],w=c[d-1+32],N=c[d-1+64],O=c[d-1-32],M=c[d+0-32],V=c[d+1-32],q=c[d+2-32],J=c[d+3-32];c[d+0+96]=ge(w,N,c[d-1+96]),c[d+1+96]=c[d+0+64]=ge(y,w,N),c[d+2+96]=c[d+1+64]=c[d+0+32]=ge(O,y,w),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ge(M,O,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ge(V,M,O),c[d+3+32]=c[d+2+0]=ge(q,V,M),c[d+3+0]=ge(J,q,V)}function or(c,d){var y=c[d+1-32],w=c[d+2-32],N=c[d+3-32],O=c[d+4-32],M=c[d+5-32],V=c[d+6-32],q=c[d+7-32];c[d+0+0]=ge(c[d+0-32],y,w),c[d+1+0]=c[d+0+32]=ge(y,w,N),c[d+2+0]=c[d+1+32]=c[d+0+64]=ge(w,N,O),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ge(N,O,M),c[d+3+32]=c[d+2+64]=c[d+1+96]=ge(O,M,V),c[d+3+64]=c[d+2+96]=ge(M,V,q),c[d+3+96]=ge(V,q,q)}function Oi(c,d){var y=c[d-1+0],w=c[d-1+32],N=c[d-1+64],O=c[d-1-32],M=c[d+0-32],V=c[d+1-32],q=c[d+2-32],J=c[d+3-32];c[d+0+0]=c[d+1+64]=O+M+1>>1,c[d+1+0]=c[d+2+64]=M+V+1>>1,c[d+2+0]=c[d+3+64]=V+q+1>>1,c[d+3+0]=q+J+1>>1,c[d+0+96]=ge(N,w,y),c[d+0+64]=ge(w,y,O),c[d+0+32]=c[d+1+96]=ge(y,O,M),c[d+1+32]=c[d+2+96]=ge(O,M,V),c[d+2+32]=c[d+3+96]=ge(M,V,q),c[d+3+32]=ge(V,q,J)}function lu(c,d){var y=c[d+0-32],w=c[d+1-32],N=c[d+2-32],O=c[d+3-32],M=c[d+4-32],V=c[d+5-32],q=c[d+6-32],J=c[d+7-32];c[d+0+0]=y+w+1>>1,c[d+1+0]=c[d+0+64]=w+N+1>>1,c[d+2+0]=c[d+1+64]=N+O+1>>1,c[d+3+0]=c[d+2+64]=O+M+1>>1,c[d+0+32]=ge(y,w,N),c[d+1+32]=c[d+0+96]=ge(w,N,O),c[d+2+32]=c[d+1+96]=ge(N,O,M),c[d+3+32]=c[d+2+96]=ge(O,M,V),c[d+3+64]=ge(M,V,q),c[d+3+96]=ge(V,q,J)}function yo(c,d){var y=c[d-1+0],w=c[d-1+32],N=c[d-1+64],O=c[d-1+96];c[d+0+0]=y+w+1>>1,c[d+2+0]=c[d+0+32]=w+N+1>>1,c[d+2+32]=c[d+0+64]=N+O+1>>1,c[d+1+0]=ge(y,w,N),c[d+3+0]=c[d+1+32]=ge(w,N,O),c[d+3+32]=c[d+1+64]=ge(N,O,O),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=O}function Di(c,d){var y=c[d-1+0],w=c[d-1+32],N=c[d-1+64],O=c[d-1+96],M=c[d-1-32],V=c[d+0-32],q=c[d+1-32],J=c[d+2-32];c[d+0+0]=c[d+2+32]=y+M+1>>1,c[d+0+32]=c[d+2+64]=w+y+1>>1,c[d+0+64]=c[d+2+96]=N+w+1>>1,c[d+0+96]=O+N+1>>1,c[d+3+0]=ge(V,q,J),c[d+2+0]=ge(M,V,q),c[d+1+0]=c[d+3+32]=ge(y,M,V),c[d+1+32]=c[d+3+64]=ge(w,y,M),c[d+1+64]=c[d+3+96]=ge(N,w,y),c[d+1+96]=ge(O,N,w)}function _o(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function si(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Si(c,d,y){var w;for(w=0;8>w;++w)i(d,y+32*w,c,8)}function Vs(c,d){var y,w=8;for(y=0;8>y;++y)w+=c[d+y-32]+c[d-1+32*y];Si(w>>4,c,d)}function Aa(c,d){var y,w=4;for(y=0;8>y;++y)w+=c[d+y-32];Si(w>>3,c,d)}function sn(c,d){var y,w=4;for(y=0;8>y;++y)w+=c[d-1+32*y];Si(w>>3,c,d)}function Sa(c,d){Si(128,c,d)}function Bs(c,d,y){var w=c[d-y],N=c[d+0],O=3*(N-w)+Mf[1020+c[d-2*y]-c[d+y]],M=Oc[112+(O+4>>3)];c[d-y]=ci[255+w+Oc[112+(O+3>>3)]],c[d+0]=ci[255+N-M]}function as(c,d,y,w){var N=c[d+0],O=c[d+y];return Ti[255+c[d-2*y]-c[d-y]]>w||Ti[255+O-N]>w}function wo(c,d,y,w){return 4*Ti[255+c[d-y]-c[d+0]]+Ti[255+c[d-2*y]-c[d+y]]<=w}function js(c,d,y,w,N){var O=c[d-3*y],M=c[d-2*y],V=c[d-y],q=c[d+0],J=c[d+y],st=c[d+2*y],_t=c[d+3*y];return 4*Ti[255+V-q]+Ti[255+M-J]>w?0:Ti[255+c[d-4*y]-O]<=N&&Ti[255+O-M]<=N&&Ti[255+M-V]<=N&&Ti[255+_t-st]<=N&&Ti[255+st-J]<=N&&Ti[255+J-q]<=N}function ls(c,d,y,w){var N=2*w+1;for(w=0;16>w;++w)wo(c,d+w,y,N)&&Bs(c,d+w,y)}function us(c,d,y,w){var N=2*w+1;for(w=0;16>w;++w)wo(c,d+w*y,1,N)&&Bs(c,d+w*y,1)}function Yr(c,d,y,w){var N;for(N=3;0<N;--N)ls(c,d+=4*y,y,w)}function Ea(c,d,y,w){var N;for(N=3;0<N;--N)us(c,d+=4,y,w)}function Mi(c,d,y,w,N,O,M,V){for(O=2*O+1;0<N--;){if(js(c,d,y,O,M))if(as(c,d,y,V))Bs(c,d,y);else{var q=c,J=d,st=y,_t=q[J-2*st],X=q[J-st],lt=q[J+0],gt=q[J+st],Ct=q[J+2*st],vt=27*(kt=Mf[1020+3*(lt-X)+Mf[1020+_t-gt]])+63>>7,Rt=18*kt+63>>7,kt=9*kt+63>>7;q[J-3*st]=ci[255+q[J-3*st]+kt],q[J-2*st]=ci[255+_t+Rt],q[J-st]=ci[255+X+vt],q[J+0]=ci[255+lt-vt],q[J+st]=ci[255+gt-Rt],q[J+2*st]=ci[255+Ct-kt]}d+=w}}function Fr(c,d,y,w,N,O,M,V){for(O=2*O+1;0<N--;){if(js(c,d,y,O,M))if(as(c,d,y,V))Bs(c,d,y);else{var q=c,J=d,st=y,_t=q[J-st],X=q[J+0],lt=q[J+st],gt=Oc[112+(4+(Ct=3*(X-_t))>>3)],Ct=Oc[112+(Ct+3>>3)],vt=gt+1>>1;q[J-2*st]=ci[255+q[J-2*st]+vt],q[J-st]=ci[255+_t+Ct],q[J+0]=ci[255+X-gt],q[J+st]=ci[255+lt-vt]}d+=w}}function Ia(c,d,y,w,N,O){Mi(c,d,y,1,16,w,N,O)}function bo(c,d,y,w,N,O){Mi(c,d,1,y,16,w,N,O)}function Ei(c,d,y,w,N,O){var M;for(M=3;0<M;--M)Fr(c,d+=4*y,y,1,16,w,N,O)}function Ta(c,d,y,w,N,O){var M;for(M=3;0<M;--M)Fr(c,d+=4,1,y,16,w,N,O)}function m(c,d,y,w,N,O,M,V){Mi(c,d,N,1,8,O,M,V),Mi(y,w,N,1,8,O,M,V)}function P(c,d,y,w,N,O,M,V){Mi(c,d,1,N,8,O,M,V),Mi(y,w,1,N,8,O,M,V)}function Y(c,d,y,w,N,O,M,V){Fr(c,d+4*N,N,1,8,O,M,V),Fr(y,w+4*N,N,1,8,O,M,V)}function et(c,d,y,w,N,O,M,V){Fr(c,d+4,1,N,8,O,M,V),Fr(y,w+4,1,N,8,O,M,V)}function ht(){this.ba=new $e,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ke,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new yt,this.vb=new yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new wt,this.yc=new I}function re(){this.xb=this.a=0,this.l=new ns,this.ca=new $e,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=o(4,Mt),this.Oc=0}function fe(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ns,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function me(c,d,y,w,N,O,M){for(c=c==null?0:c[d+0],d=0;d<M;++d)N[O+d]=c+y[w+d]&255,c=N[O+d]}function je(c,d,y,w,N,O,M){var V;if(c==null)me(null,null,y,w,N,O,M);else for(V=0;V<M;++V)N[O+V]=c[d+V]+y[w+V]&255}function Ge(c,d,y,w,N,O,M){if(c==null)me(null,null,y,w,N,O,M);else{var V,q=c[d+0],J=q,st=q;for(V=0;V<M;++V)J=st+(q=c[d+V])-J,st=y[w+V]+(-256&J?0>J?0:255:J)&255,J=q,N[O+V]=st}}function Sn(c,d,y,w){var N=d.width,O=d.o;if(t(c!=null&&d!=null),0>y||0>=w||y+w>O)return null;if(!c.Cc){if(c.ga==null){var M;if(c.ga=new fe,(M=c.ga==null)||(M=d.width*d.o,t(c.Gb.length==0),c.Gb=s(M),c.Uc=0,c.Gb==null?M=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,M=1),M=!M),!M){M=c.ga;var V=c.Fa,q=c.P,J=c.qc,st=c.mb,_t=c.nb,X=q+1,lt=J-1,gt=M.l;if(t(V!=null&&st!=null&&d!=null),Co[0]=null,Co[1]=me,Co[2]=je,Co[3]=Ge,M.ca=st,M.tb=_t,M.c=d.width,M.i=d.height,t(0<M.c&&0<M.i),1>=J)d=0;else if(M.$a=3&V[q+0],M.Z=V[q+0]>>2&3,M.Lc=V[q+0]>>4&3,q=V[q+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||q)d=0;else if(gt.put=he,gt.ac=mr,gt.bc=gn,gt.ma=M,gt.width=d.width,gt.height=d.height,gt.Da=d.Da,gt.v=d.v,gt.va=d.va,gt.j=d.j,gt.o=d.o,M.$a)t:{t(M.$a==1),d=Zi();e:for(;;){if(d==null){d=0;break t}if(t(M!=null),M.mc=d,d.c=M.c,d.i=M.i,d.l=M.l,d.l.ma=M,d.l.width=M.c,d.l.height=M.i,d.a=0,Tt(d.m,V,X,lt),!ri(M.c,M.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&vr(d.s)?(M.ic=1,V=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(V),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(M.ic=0,d=Ri(d,M.c)),!d))break e;d=1;break t}M.mc=null,d=0}else d=lt>=M.c*M.i;M=!d}if(M)return null;c.ga.Lc!=1?c.Ga=0:w=O-y}t(c.ga!=null),t(y+w<=O);t:{if(d=(V=c.ga).c,O=V.l.o,V.$a==0){if(X=c.rc,lt=c.Vc,gt=c.Fa,q=c.P+1+y*d,J=c.mb,st=c.nb+y*d,t(q<=c.P+c.qc),V.Z!=0)for(t(Co[V.Z]!=null),M=0;M<w;++M)Co[V.Z](X,lt,gt,q,J,st,d),X=J,lt=st,st+=d,q+=d;else for(M=0;M<w;++M)r(J,st,gt,q,d),X=J,lt=st,st+=d,q+=d;c.rc=X,c.Vc=lt}else{if(t(V.mc!=null),d=y+w,t((M=V.mc)!=null),t(d<=M.i),M.C>=d)d=1;else if(V.ic||un(),V.ic){V=M.V,X=M.Ba,lt=M.c;var Ct=M.i,vt=(gt=1,q=M.$/lt,J=M.$%lt,st=M.m,_t=M.s,M.$),Rt=lt*Ct,kt=lt*d,Bt=_t.wc,Ft=vt<kt?wn(_t,J,q):null;t(vt<=Rt),t(d<=Ct),t(vr(_t));e:for(;;){for(;!st.h&&vt<kt;){if(J&Bt||(Ft=wn(_t,J,q)),t(Ft!=null),Q(st),256>(Ct=_n(Ft.G[0],Ft.H[0],st)))V[X+vt]=Ct,++vt,++J>=lt&&(J=0,++q<=d&&!(q%16)&&Dr(M,q));else{if(!(280>Ct)){gt=0;break e}Ct=rr(Ct-256,st);var ae,te=_n(Ft.G[4],Ft.H[4],st);if(Q(st),!(vt>=(te=ir(lt,te=rr(te,st)))&&Rt-vt>=Ct)){gt=0;break e}for(ae=0;ae<Ct;++ae)V[X+vt+ae]=V[X+vt+ae-te];for(vt+=Ct,J+=Ct;J>=lt;)J-=lt,++q<=d&&!(q%16)&&Dr(M,q);vt<kt&&J&Bt&&(Ft=wn(_t,J,q))}t(st.h==rt(st))}Dr(M,q>d?d:q);break e}!gt||st.h&&vt<Rt?(gt=0,M.a=st.h?5:3):M.$=vt,d=gt}else d=yr(M,M.V,M.Ba,M.c,M.i,d,ts);if(!d){w=0;break t}}y+w>=O&&(c.Cc=1),w=1}if(!w)return null;if(c.Cc&&((w=c.ga)!=null&&(w.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*N}function Ze(c,d,y,w,N,O){for(;0<N--;){var M,V=c,q=d+(y?1:0),J=c,st=d+(y?0:3);for(M=0;M<w;++M){var _t=J[st+4*M];_t!=255&&(_t*=32897,V[q+4*M+0]=V[q+4*M+0]*_t>>23,V[q+4*M+1]=V[q+4*M+1]*_t>>23,V[q+4*M+2]=V[q+4*M+2]*_t>>23)}d+=O}}function Cn(c,d,y,w,N){for(;0<w--;){var O;for(O=0;O<y;++O){var M=c[d+2*O+0],V=15&(J=c[d+2*O+1]),q=4369*V,J=(240&J|J>>4)*q>>16;c[d+2*O+0]=(240&M|M>>4)*q>>16&240|(15&M|M<<4)*q>>16>>4&15,c[d+2*O+1]=240&J|V}d+=N}}function En(c,d,y,w,N,O,M,V){var q,J,st=255;for(J=0;J<N;++J){for(q=0;q<w;++q){var _t=c[d+q];O[M+4*q]=_t,st&=_t}d+=y,M+=V}return st!=255}function Ln(c,d,y,w,N){var O;for(O=0;O<N;++O)y[w+O]=c[d+O]>>8}function un(){vu=Ze,m1=Cn,v1=En,y1=Ln}function ur(c,d,y){S[c]=function(w,N,O,M,V,q,J,st,_t,X,lt,gt,Ct,vt,Rt,kt,Bt){var Ft,ae=Bt-1>>1,te=V[q+0]|J[st+0]<<16,Pe=_t[X+0]|lt[gt+0]<<16;t(w!=null);var se=3*te+Pe+131074>>2;for(d(w[N+0],255&se,se>>16,Ct,vt),O!=null&&(se=3*Pe+te+131074>>2,d(O[M+0],255&se,se>>16,Rt,kt)),Ft=1;Ft<=ae;++Ft){var Ve=V[q+Ft]|J[st+Ft]<<16,Xn=_t[X+Ft]|lt[gt+Ft]<<16,Ne=te+Ve+Pe+Xn+524296,oe=Ne+2*(Ve+Pe)>>3;se=oe+te>>1,te=(Ne=Ne+2*(te+Xn)>>3)+Ve>>1,d(w[N+2*Ft-1],255&se,se>>16,Ct,vt+(2*Ft-1)*y),d(w[N+2*Ft-0],255&te,te>>16,Ct,vt+(2*Ft-0)*y),O!=null&&(se=Ne+Pe>>1,te=oe+Xn>>1,d(O[M+2*Ft-1],255&se,se>>16,Rt,kt+(2*Ft-1)*y),d(O[M+2*Ft+0],255&te,te>>16,Rt,kt+(2*Ft+0)*y)),te=Ve,Pe=Xn}1&Bt||(se=3*te+Pe+131074>>2,d(w[N+Bt-1],255&se,se>>16,Ct,vt+(Bt-1)*y),O!=null&&(se=3*Pe+te+131074>>2,d(O[M+Bt-1],255&se,se>>16,Rt,kt+(Bt-1)*y)))}}function xa(){xi[Dc]=yb,xi[Mc]=N1,xi[E1]=_b,xi[Fc]=C1,xi[Vc]=L1,xi[Ff]=R1,xi[I1]=wb,xi[Vf]=N1,xi[Bf]=C1,xi[Bc]=L1,xi[jf]=R1}function oi(c){return c&-16384?0>c?0:255:c>>bb}function h(c,d){return oi((19077*c>>8)+(26149*d>>8)-14234)}function _(c,d,y){return oi((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function A(c,d){return oi((19077*c>>8)+(33050*d>>8)-17685)}function B(c,d,y,w,N){w[N+0]=h(c,y),w[N+1]=_(c,d,y),w[N+2]=A(c,d)}function dt(c,d,y,w,N){w[N+0]=A(c,d),w[N+1]=_(c,d,y),w[N+2]=h(c,y)}function bt(c,d,y,w,N){var O=_(c,d,y);d=O<<3&224|A(c,d)>>3,w[N+0]=248&h(c,y)|O>>5,w[N+1]=d}function zt(c,d,y,w,N){var O=240&A(c,d)|15;w[N+0]=240&h(c,y)|_(c,d,y)>>4,w[N+1]=O}function Fe(c,d,y,w,N){w[N+0]=255,B(c,d,y,w,N+1)}function In(c,d,y,w,N){dt(c,d,y,w,N),w[N+3]=255}function Oe(c,d,y,w,N){B(c,d,y,w,N),w[N+3]=255}function Re(c,d){return 0>c?0:c>d?d:c}function cn(c,d,y){S[c]=function(w,N,O,M,V,q,J,st,_t){for(var X=st+(-2&_t)*y;st!=X;)d(w[N+0],O[M+0],V[q+0],J,st),d(w[N+1],O[M+0],V[q+0],J,st+y),N+=2,++M,++q,st+=2*y;1&_t&&d(w[N+0],O[M+0],V[q+0],J,st)}}function ai(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function _r(c,d,y,w,N){switch(c>>>30){case 3:Ca(d,y,w,N,0);break;case 2:Ii(d,y,w,N);break;case 1:Ke(d,y,w,N)}}function cr(c,d){var y,w,N=d.M,O=d.Nb,M=c.oc,V=c.pc+40,q=c.oc,J=c.pc+584,st=c.oc,_t=c.pc+600;for(y=0;16>y;++y)M[V+32*y-1]=129;for(y=0;8>y;++y)q[J+32*y-1]=129,st[_t+32*y-1]=129;for(0<N?M[V-1-32]=q[J-1-32]=st[_t-1-32]=129:(i(M,V-32-1,127,21),i(q,J-32-1,127,9),i(st,_t-32-1,127,9)),w=0;w<c.za;++w){var X=d.ya[d.aa+w];if(0<w){for(y=-1;16>y;++y)r(M,V+32*y-4,M,V+32*y+12,4);for(y=-1;8>y;++y)r(q,J+32*y-4,q,J+32*y+4,4),r(st,_t+32*y-4,st,_t+32*y+4,4)}var lt=c.Gd,gt=c.Hd+w,Ct=X.ad,vt=X.Hc;if(0<N&&(r(M,V-32,lt[gt].y,0,16),r(q,J-32,lt[gt].f,0,8),r(st,_t-32,lt[gt].ea,0,8)),X.Za){var Rt=M,kt=V-32+16;for(0<N&&(w>=c.za-1?i(Rt,kt,lt[gt].y[15],4):r(Rt,kt,lt[gt+1].y,0,4)),y=0;4>y;y++)Rt[kt+128+y]=Rt[kt+256+y]=Rt[kt+384+y]=Rt[kt+0+y];for(y=0;16>y;++y,vt<<=2)Rt=M,kt=V+O1[y],Vi[X.Ob[y]](Rt,kt),_r(vt,Ct,16*+y,Rt,kt)}else if(Rt=ai(w,N,X.Ob[0]),No[Rt](M,V),vt!=0)for(y=0;16>y;++y,vt<<=2)_r(vt,Ct,16*+y,M,V+O1[y]);for(y=X.Gc,Rt=ai(w,N,X.Dd),zs[Rt](q,J),zs[Rt](st,_t),vt=Ct,Rt=q,kt=J,255&(X=0|y)&&(170&X?fs(vt,256,Rt,kt):on(vt,256,Rt,kt)),X=st,vt=_t,255&(y>>=8)&&(170&y?fs(Ct,320,X,vt):on(Ct,320,X,vt)),N<c.Ub-1&&(r(lt[gt].y,0,M,V+480,16),r(lt[gt].f,0,q,J+224,8),r(lt[gt].ea,0,st,_t+224,8)),y=8*O*c.B,lt=c.sa,gt=c.ta+16*w+16*O*c.R,Ct=c.qa,X=c.ra+8*w+y,vt=c.Ha,Rt=c.Ia+8*w+y,y=0;16>y;++y)r(lt,gt+y*c.R,M,V+32*y,16);for(y=0;8>y;++y)r(Ct,X+y*c.B,q,J+32*y,8),r(vt,Rt+y*c.B,st,_t+32*y,8)}}function Fi(c,d,y,w,N,O,M,V,q){var J=[0],st=[0],_t=0,X=q!=null?q.kd:0,lt=q??new Lt;if(c==null||12>y)return 7;lt.data=c,lt.w=d,lt.ha=y,d=[d],y=[y],lt.gb=[lt.gb];t:{var gt=d,Ct=y,vt=lt.gb;if(t(c!=null),t(Ct!=null),t(vt!=null),vt[0]=0,12<=Ct[0]&&!e(c,gt[0],"RIFF")){if(e(c,gt[0]+8,"WEBP")){vt=3;break t}var Rt=H(c,gt[0]+4);if(12>Rt||4294967286<Rt){vt=3;break t}if(X&&Rt>Ct[0]-8){vt=7;break t}vt[0]=Rt,gt[0]+=12,Ct[0]-=12}vt=0}if(vt!=0)return vt;for(Rt=0<lt.gb[0],y=y[0];;){t:{var kt=c;Ct=d,vt=y;var Bt=J,Ft=st,ae=gt=[0];if((se=_t=[_t])[0]=0,8>vt[0])vt=7;else{if(!e(kt,Ct[0],"VP8X")){if(H(kt,Ct[0]+4)!=10){vt=3;break t}if(18>vt[0]){vt=7;break t}var te=H(kt,Ct[0]+8),Pe=1+W(kt,Ct[0]+12);if(2147483648<=Pe*(kt=1+W(kt,Ct[0]+15))){vt=3;break t}ae!=null&&(ae[0]=te),Bt!=null&&(Bt[0]=Pe),Ft!=null&&(Ft[0]=kt),Ct[0]+=18,vt[0]-=18,se[0]=1}vt=0}}if(_t=_t[0],gt=gt[0],vt!=0)return vt;if(Ct=!!(2&gt),!Rt&&_t)return 3;if(O!=null&&(O[0]=!!(16&gt)),M!=null&&(M[0]=Ct),V!=null&&(V[0]=0),M=J[0],gt=st[0],_t&&Ct&&q==null){vt=0;break}if(4>y){vt=7;break}if(Rt&&_t||!Rt&&!_t&&!e(c,d[0],"ALPH")){y=[y],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];t:{te=c,vt=d,Rt=y;var se=lt.gb;Bt=lt.na,Ft=lt.P,ae=lt.Sa,Pe=22,t(te!=null),t(Rt!=null),kt=vt[0];var Ve=Rt[0];for(t(Bt!=null),t(ae!=null),Bt[0]=null,Ft[0]=null,ae[0]=0;;){if(vt[0]=kt,Rt[0]=Ve,8>Ve){vt=7;break t}var Xn=H(te,kt+4);if(4294967286<Xn){vt=3;break t}var Ne=8+Xn+1&-2;if(Pe+=Ne,0<se&&Pe>se){vt=3;break t}if(!e(te,kt,"VP8 ")||!e(te,kt,"VP8L")){vt=0;break t}if(Ve[0]<Ne){vt=7;break t}e(te,kt,"ALPH")||(Bt[0]=te,Ft[0]=kt+8,ae[0]=Xn),kt+=Ne,Ve-=Ne}}if(y=y[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],vt!=0)break}y=[y],lt.Ja=[lt.Ja],lt.xa=[lt.xa];t:if(se=c,vt=d,Rt=y,Bt=lt.gb[0],Ft=lt.Ja,ae=lt.xa,te=vt[0],kt=!e(se,te,"VP8 "),Pe=!e(se,te,"VP8L"),t(se!=null),t(Rt!=null),t(Ft!=null),t(ae!=null),8>Rt[0])vt=7;else{if(kt||Pe){if(se=H(se,te+4),12<=Bt&&se>Bt-12){vt=3;break t}if(X&&se>Rt[0]-8){vt=7;break t}Ft[0]=se,vt[0]+=8,Rt[0]-=8,ae[0]=Pe}else ae[0]=5<=Rt[0]&&se[te+0]==47&&!(se[te+4]>>5),Ft[0]=Rt[0];vt=0}if(y=y[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],d=d[0],vt!=0)break;if(4294967286<lt.Ja)return 3;if(V==null||Ct||(V[0]=lt.xa?2:1),M=[M],gt=[gt],lt.xa){if(5>y){vt=7;break}V=M,X=gt,Ct=O,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Rt=[0],se=[0],Bt=[0],Tt(Ft=new K,c,d,y),bi(Ft,Rt,se,Bt)?(V!=null&&(V[0]=Rt[0]),X!=null&&(X[0]=se[0]),Ct!=null&&(Ct[0]=Bt[0]),c=1):c=0):c=0}else{if(10>y){vt=7;break}V=gt,c==null||10>y||!_a(c,d+3,y-3)?c=0:(X=c[d+0]|c[d+1]<<8|c[d+2]<<16,Ct=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=lt.Ja||!Ct||!c?c=0:(M&&(M[0]=Ct),V&&(V[0]=c),c=1))}if(!c||(M=M[0],gt=gt[0],_t&&(J[0]!=M||st[0]!=gt)))return 3;q!=null&&(q[0]=lt,q.offset=d-q.w,t(4294967286>d-q.w),t(q.offset==q.ha-y));break}return vt==0||vt==7&&_t&&q==null?(O!=null&&(O[0]|=lt.na!=null&&0<lt.na.length),w!=null&&(w[0]=M),N!=null&&(N[0]=gt),0):vt}function uu(c,d,y){var w=d.width,N=d.height,O=0,M=0,V=w,q=N;if(d.Da=c!=null&&0<c.Da,d.Da&&(V=c.cd,q=c.bd,O=c.v,M=c.j,11>y||(O&=-2,M&=-2),0>O||0>M||0>=V||0>=q||O+V>w||M+q>N))return 0;if(d.v=O,d.j=M,d.va=O+V,d.o=M+q,d.U=V,d.T=q,d.da=c!=null&&0<c.da,d.da){if(!xt(V,q,y=[c.ib],O=[c.hb]))return 0;d.ib=y[0],d.hb=O[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*w/4&&d.hb<3*N/4,d.Kb=0),1}function cu(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Ao(c,d,y,w){if(w==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var N=y.cd,O=y.bd,M=-2&y.v,V=-2&y.j;if(0>M||0>V||0>=N||0>=O||M+N>c||V+O>d)return 2;c=N,d=O}if(y.da){if(!xt(c,d,N=[y.ib],O=[y.hb]))return 2;c=N[0],d=O[0]}}w.width=c,w.height=d;t:{var q=w.width,J=w.height;if(c=w.S,0>=q||0>=J||!(c>=Dc&&13>c))c=2;else{if(0>=w.Rd&&w.sd==null){M=O=N=d=0;var st=(V=q*D1[c])*J;if(11>c||(O=(J+1)/2*(d=(q+1)/2),c==12&&(M=(N=q)*J)),(J=s(st+2*O+M))==null){c=1;break t}w.sd=J,11>c?((q=w.f.RGBA).eb=J,q.fb=0,q.A=V,q.size=st):((q=w.f.kb).y=J,q.O=0,q.fa=V,q.Fd=st,q.f=J,q.N=0+st,q.Ab=d,q.Cd=O,q.ea=J,q.W=0+st+O,q.Db=d,q.Ed=O,c==12&&(q.F=J,q.J=0+st+2*O),q.Tc=M,q.lb=N)}if(d=1,N=w.S,O=w.width,M=w.height,N>=Dc&&13>N)if(11>N)c=w.f.RGBA,d&=(V=Math.abs(c.A))*(M-1)+O<=c.size,d&=V>=O*D1[N],d&=c.eb!=null;else{c=w.f.kb,V=(O+1)/2,st=(M+1)/2,q=Math.abs(c.fa),J=Math.abs(c.Ab);var _t=Math.abs(c.Db),X=Math.abs(c.lb),lt=X*(M-1)+O;d&=q*(M-1)+O<=c.Fd,d&=J*(st-1)+V<=c.Cd,d=(d&=_t*(st-1)+V<=c.Ed)&q>=O&J>=V&_t>=V,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,N==12&&(d&=X>=O,d&=lt<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=cu(w)),c}var Pa=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ui=24,So=32,Us=8,Eo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(c){return c},S.Predictor2=function(c,d,y){return d[y+0]},S.Predictor3=function(c,d,y){return d[y+1]},S.Predictor4=function(c,d,y){return d[y-1]},S.Predictor5=function(c,d,y){return Pt(Pt(c,d[y+1]),d[y+0])},S.Predictor6=function(c,d,y){return Pt(c,d[y-1])},S.Predictor7=function(c,d,y){return Pt(c,d[y+0])},S.Predictor8=function(c,d,y){return Pt(d[y-1],d[y+0])},S.Predictor9=function(c,d,y){return Pt(d[y+0],d[y+1])},S.Predictor10=function(c,d,y){return Pt(Pt(c,d[y-1]),Pt(d[y+0],d[y+1]))},S.Predictor11=function(c,d,y){var w=d[y+0];return 0>=Ut(w>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Ut(w>>16&255,c>>16&255,d>>16&255)+Ut(w>>8&255,c>>8&255,d>>8&255)+Ut(255&w,255&c,255&d)?w:c},S.Predictor12=function(c,d,y){var w=d[y+0];return(Ht((c>>24&255)+(w>>24&255)-((d=d[y-1])>>24&255))<<24|Ht((c>>16&255)+(w>>16&255)-(d>>16&255))<<16|Ht((c>>8&255)+(w>>8&255)-(d>>8&255))<<8|Ht((255&c)+(255&w)-(255&d)))>>>0},S.Predictor13=function(c,d,y){var w=d[y-1];return(qt((c=Pt(c,d[y+0]))>>24&255,w>>24&255)<<24|qt(c>>16&255,w>>16&255)<<16|qt(c>>8&255,w>>8&255)<<8|qt(255&c,255&w))>>>0};var hu=S.PredictorAdd0;S.PredictorAdd1=Yt,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var sl=S.PredictorAdd2;Jt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Fn,Rc=S.ColorIndexInverseTransform,cs=S.MapARGB,hs=S.VP8LColorIndexInverseTransformAlpha,fu=S.MapAlpha,du=S.VP8LPredictorsAdd=[];du.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var pu,gu,Io,To,xo,Na,Po,Ca,Ii,fs,Ke,on,Vn,Jn,qs,mu,ol,kc,c1,h1,f1,d1,p1,g1,vu,m1,v1,y1,_1=s(511),w1=s(2041),b1=s(225),A1=s(767),S1=0,Mf=w1,Oc=b1,ci=A1,Ti=_1,Dc=0,Mc=1,E1=2,Fc=3,Vc=4,Ff=5,I1=6,Vf=7,Bf=8,Bc=9,jf=10,ib=[2,3,7],sb=[3,3,11],T1=[280,256,256,256,40],ob=[0,1,1,1,0],ab=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ub=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cb=8,Uf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,hb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],x1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],db=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],No=[],Vi=[],zs=[],vb=1,P1=2,Co=[],xi=[];ur("UpsampleRgbLinePair",B,3),ur("UpsampleBgrLinePair",dt,3),ur("UpsampleRgbaLinePair",Oe,4),ur("UpsampleBgraLinePair",In,4),ur("UpsampleArgbLinePair",Fe,4),ur("UpsampleRgba4444LinePair",zt,2),ur("UpsampleRgb565LinePair",bt,2);var yb=S.UpsampleRgbLinePair,_b=S.UpsampleBgrLinePair,N1=S.UpsampleRgbaLinePair,C1=S.UpsampleBgraLinePair,L1=S.UpsampleArgbLinePair,R1=S.UpsampleRgba4444LinePair,wb=S.UpsampleRgb565LinePair,jc=16,Uc=1<<jc-1,_u=-227,zf=482,bb=6,k1=0,Ab=s(256),Sb=s(256),Eb=s(256),Ib=s(256),Tb=s(zf-_u),xb=s(zf-_u);cn("YuvToRgbRow",B,3),cn("YuvToBgrRow",dt,3),cn("YuvToRgbaRow",Oe,4),cn("YuvToBgraRow",In,4),cn("YuvToArgbRow",Fe,4),cn("YuvToRgba4444Row",zt,2),cn("YuvToRgb565Row",bt,2);var O1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qc=[0,2,8],Pb=[8,7,6,4,4,2,2,2,1,1,1,1],Nb=1;this.WebPDecodeRGBA=function(c,d,y,w,N){var O=Mc,M=new ht,V=new $e;M.ba=V,V.S=O,V.width=[V.width],V.height=[V.height];var q=V.width,J=V.height,st=new pe;if(st==null||c==null)var _t=2;else t(st!=null),_t=Fi(c,d,y,st.width,st.height,st.Pd,st.Qd,st.format,null);if(_t!=0?q=0:(q!=null&&(q[0]=st.width[0]),J!=null&&(J[0]=st.height[0]),q=1),q){V.width=V.width[0],V.height=V.height[0],w!=null&&(w[0]=V.width),N!=null&&(N[0]=V.height);t:{if(w=new ns,(N=new Lt).data=c,N.w=d,N.ha=y,N.kd=1,d=[0],t(N!=null),((c=Fi(N.data,N.w,N.ha,null,null,null,d,null,N))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(t(M!=null),w.data=N.data,w.w=N.w+N.offset,w.ha=N.ha-N.offset,w.put=he,w.ac=mr,w.bc=gn,w.ma=M,N.xa){if((c=Zi())==null){M=1;break t}if((function(X,lt){var gt=[0],Ct=[0],vt=[0];e:for(;;){if(X==null)return 0;if(lt==null)return X.a=2,0;if(X.l=lt,X.a=0,Tt(X.m,lt.data,lt.w,lt.ha),!bi(X.m,gt,Ct,vt)){X.a=3;break e}if(X.xb=P1,lt.width=gt[0],lt.height=Ct[0],!ri(gt[0],Ct[0],1,X,null))break e;return 1}return t(X.a!=0),0})(c,w)){if(w=(d=Ao(w.width,w.height,M.Oa,M.ba))==0){e:{w=c;n:for(;;){if(w==null){w=0;break e}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((y=w.l)!=null),t((N=y.ma)!=null),w.xb!=0){if(w.ca=N.ba,w.tb=N.tb,t(w.ca!=null),!uu(N.Oa,y,Fc)){w.a=2;break n}if(!Ri(w,y.width)||y.da)break n;if((y.da||_e(w.ca.S))&&un(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&un()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!D(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!yr(w,w.V,w.Ba,w.c,w.i,y.o,Qi))break n;N.Dc=w.Ma,w=1;break e}t(w.a!=0),w=0}w=!w}w&&(d=c.a)}else d=c.a}else{if((c=new ya)==null){M=1;break t}if(c.Fa=N.na,c.P=N.P,c.qc=N.Sa,nl(c,w)){if((d=Ao(w.width,w.height,M.Oa,M.ba))==0){if(c.Aa=0,y=M.Oa,t((N=c)!=null),y!=null){if(0<(q=0>(q=y.Md)?0:100<q?255:255*q/100)){for(J=st=0;4>J;++J)12>(_t=N.pb[J]).lc&&(_t.ia=q*Pb[0>_t.lc?0:_t.lc]>>3),st|=_t.ia;st&&(alert("todo:VP8InitRandom"),N.ia=1)}N.Ga=y.Id,100<N.Ga?N.Ga=100:0>N.Ga&&(N.Ga=0)}(function(X,lt){if(X==null)return 0;if(lt==null)return An(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!nl(X,lt))return 0;if(t(X.cb),lt.ac==null||lt.ac(lt)){lt.ob&&(X.L=0);var gt=qc[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=lt.v-gt>>4,X.zb=lt.j-gt>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=lt.o+15+gt>>4,X.Hb=lt.va+15+gt>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Ct=X.ed;for(gt=0;4>gt;++gt){var vt;if(X.Qa.Cb){var Rt=X.Qa.Lb[gt];X.Qa.Fb||(Rt+=Ct.Tb)}else Rt=Ct.Tb;for(vt=0;1>=vt;++vt){var kt=X.gd[gt][vt],Bt=Rt;if(Ct.Pc&&(Bt+=Ct.vd[0],vt&&(Bt+=Ct.od[0])),0<(Bt=0>Bt?0:63<Bt?63:Bt)){var Ft=Bt;0<Ct.wb&&(Ft=4<Ct.wb?Ft>>2:Ft>>1)>9-Ct.wb&&(Ft=9-Ct.wb),1>Ft&&(Ft=1),kt.dd=Ft,kt.tc=2*Bt+Ft,kt.ld=40<=Bt?2:15<=Bt?1:0}else kt.tc=0;kt.La=vt}}}gt=0}else An(X,6,"Frame setup failed"),gt=X.a;if(gt=gt==0){if(gt){X.$c=0,0<X.Aa||(X.Ic=Nb);e:{gt=X.Ic,Ct=4*(Ft=X.za);var ae=32*Ft,te=Ft+1,Pe=0<X.L?Ft*(0<X.Aa?2:1):0,se=(X.Aa==2?2:1)*Ft;if((kt=Ct+832+(vt=3*(16*gt+qc[X.L])/2*ae)+(Rt=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=kt)gt=0;else{if(kt>X.Vb){if(X.Vb=0,X.Ec=s(kt),X.Fc=0,X.Ec==null){gt=An(X,1,"no memory during frame initialization.");break e}X.Vb=kt}kt=X.Ec,Bt=X.Fc,X.Ac=kt,X.Bc=Bt,Bt+=Ct,X.Gd=o(ae,ma),X.Hd=0,X.rb=o(te+1,ii),X.sb=1,X.wa=Pe?o(Pe,sr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Ft),t(!0),X.oc=kt,X.pc=Bt,Bt+=832,X.ya=o(se,pa),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Ft),X.R=16*Ft,X.B=8*Ft,Ft=(ae=qc[X.L])*X.R,ae=ae/2*X.B,X.sa=kt,X.ta=Bt+Ft,X.qa=X.sa,X.ra=X.ta+16*gt*X.R+ae,X.Ha=X.qa,X.Ia=X.ra+8*gt*X.B+ae,X.$c=0,Bt+=vt,X.mb=Rt?kt:null,X.nb=Rt?Bt:null,t(Bt+Rt<=X.Fc+X.Vb),rs(X),i(X.Ac,X.Bc,0,Ct),gt=1}}if(gt){if(lt.ka=0,lt.y=X.sa,lt.O=X.ta,lt.f=X.qa,lt.N=X.ra,lt.ea=X.Ha,lt.Vd=X.Ia,lt.fa=X.R,lt.Rc=X.B,lt.F=null,lt.J=0,!S1){for(gt=-255;255>=gt;++gt)_1[255+gt]=0>gt?-gt:gt;for(gt=-1020;1020>=gt;++gt)w1[1020+gt]=-128>gt?-128:127<gt?127:gt;for(gt=-112;112>=gt;++gt)b1[112+gt]=-16>gt?-16:15<gt?15:gt;for(gt=-255;510>=gt;++gt)A1[255+gt]=0>gt?0:255<gt?255:gt;S1=1}Po=is,Ca=mo,fs=rl,Ke=De,on=Ms,Ii=go,Vn=Ia,Jn=bo,qs=m,mu=P,ol=Ei,kc=Ta,c1=Y,h1=et,f1=ls,d1=us,p1=Yr,g1=Ea,Vi[0]=ou,Vi[1]=wa,Vi[2]=os,Vi[3]=su,Vi[4]=au,Vi[5]=Oi,Vi[6]=or,Vi[7]=lu,Vi[8]=Di,Vi[9]=yo,No[0]=Kr,No[1]=ru,No[2]=iu,No[3]=ba,No[4]=Ai,No[5]=ss,No[6]=vo,zs[0]=Vs,zs[1]=il,zs[2]=_o,zs[3]=si,zs[4]=sn,zs[5]=Aa,zs[6]=Sa,gt=1}else gt=0}gt&&(gt=(function(Ve,Xn){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var Ne,oe=Ve.Jc[Ve.M&Ve.Xb],$t=Ve.m,Bn=Ve;for(Ne=0;Ne<Bn.za;++Ne){var Se=$t,Ue=Bn,mn=Ue.Ac,hr=Ue.Bc+4*Ne,Vr=Ue.zc,Rn=Ue.ya[Ue.aa+Ne];if(Ue.Qa.Bb?Rn.$b=ut(Se,Ue.Pa.jb[0])?2+ut(Se,Ue.Pa.jb[2]):ut(Se,Ue.Pa.jb[1]):Rn.$b=0,Ue.kc&&(Rn.Ad=ut(Se,Ue.Bd)),Rn.Za=!ut(Se,145)+0,Rn.Za){var wr=Rn.Ob,Br=0;for(Ue=0;4>Ue;++Ue){var Qn,He=Vr[0+Ue];for(Qn=0;4>Qn;++Qn){He=pb[mn[hr+Qn]][He];for(var tn=x1[ut(Se,He[0])];0<tn;)tn=x1[2*tn+ut(Se,He[tn])];He=-tn,mn[hr+Qn]=He}r(wr,Br,mn,hr,4),Br+=4,Vr[0+Ue]=He}}else He=ut(Se,156)?ut(Se,128)?1:3:ut(Se,163)?2:0,Rn.Ob[0]=He,i(mn,hr,He,4),i(Vr,0,He,4);Rn.Dd=ut(Se,142)?ut(Se,114)?ut(Se,183)?1:3:2:0}if(Bn.m.Ka)return An(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(Bn=oe,Se=($t=Ve).rb[$t.sb-1],mn=$t.rb[$t.sb+$t.ja],Ne=$t.ya[$t.aa+$t.ja],hr=$t.kc?Ne.Ad:0)Se.la=mn.la=0,Ne.Za||(Se.Na=mn.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var kn,en;if(Se=mn,mn=Bn,hr=$t.Pa.Xc,Vr=$t.ya[$t.aa+$t.ja],Rn=$t.pb[Vr.$b],Ue=Vr.ad,wr=0,Br=$t.rb[$t.sb-1],He=Qn=0,i(Ue,wr,0,384),Vr.Za)var fr=0,Bi=hr[3];else{tn=s(16);var jn=Se.Na+Br.Na;if(jn=yu(mn,hr[1],jn,Rn.Eb,0,tn,0),Se.Na=Br.Na=(0<jn)+0,1<jn)Po(tn,0,Ue,wr);else{var Jr=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)Ue[wr+tn]=Jr}fr=1,Bi=hr[0]}var an=15&Se.la,Zn=15&Br.la;for(tn=0;4>tn;++tn){var hi=1&Zn;for(Jr=en=0;4>Jr;++Jr)an=an>>1|(hi=(jn=yu(mn,Bi,jn=hi+(1&an),Rn.Sc,fr,Ue,wr))>fr)<<7,en=en<<2|(3<jn?3:1<jn?2:Ue[wr+0]!=0),wr+=16;an>>=4,Zn=Zn>>1|hi<<7,Qn=(Qn<<8|en)>>>0}for(Bi=an,fr=Zn>>4,kn=0;4>kn;kn+=2){for(en=0,an=Se.la>>4+kn,Zn=Br.la>>4+kn,tn=0;2>tn;++tn){for(hi=1&Zn,Jr=0;2>Jr;++Jr)jn=hi+(1&an),an=an>>1|(hi=0<(jn=yu(mn,hr[2],jn,Rn.Qc,0,Ue,wr)))<<3,en=en<<2|(3<jn?3:1<jn?2:Ue[wr+0]!=0),wr+=16;an>>=2,Zn=Zn>>1|hi<<5}He|=en<<4*kn,Bi|=an<<4<<kn,fr|=(240&Zn)<<kn}Se.la=Bi,Br.la=fr,Vr.Hc=Qn,Vr.Gc=He,Vr.ia=43690&He?0:Rn.ia,hr=!(Qn|He)}if(0<$t.L&&($t.wa[$t.Y+$t.ja]=$t.gd[Ne.$b][Ne.Za],$t.wa[$t.Y+$t.ja].La|=!hr),Bn.Ka)return An(Ve,7,"Premature end-of-file encountered.")}if(rs(Ve),$t=Xn,Bn=1,Ne=(oe=Ve).D,Se=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Ne.M=oe.M,Ne.uc=Se,cr(oe,Ne),Bn=1,Ne=(en=oe.D).Nb,Se=(He=qc[oe.L])*oe.R,mn=He/2*oe.B,tn=16*Ne*oe.R,Jr=8*Ne*oe.B,hr=oe.sa,Vr=oe.ta-Se+tn,Rn=oe.qa,Ue=oe.ra-mn+Jr,wr=oe.Ha,Br=oe.Ia-mn+Jr,Zn=(an=en.M)==0,Qn=an>=oe.Va-1,oe.Aa==2&&cr(oe,en),en.uc)for(hi=(jn=oe).D.M,t(jn.D.uc),en=jn.yb;en<jn.Hb;++en){fr=en,Bi=hi;var jr=(fi=(dr=jn).D).Nb;kn=dr.R;var fi=fi.wa[fi.Y+fr],di=dr.sa,Xr=dr.ta+16*jr*kn+16*fr,pi=fi.dd,hn=fi.tc;if(hn!=0)if(t(3<=hn),dr.L==1)0<fr&&d1(di,Xr,kn,hn+4),fi.La&&g1(di,Xr,kn,hn),0<Bi&&f1(di,Xr,kn,hn+4),fi.La&&p1(di,Xr,kn,hn);else{var gi=dr.B,ji=dr.qa,La=dr.ra+8*jr*gi+8*fr,Hs=dr.Ha,dr=dr.Ia+8*jr*gi+8*fr;jr=fi.ld,0<fr&&(Jn(di,Xr,kn,hn+4,pi,jr),mu(ji,La,Hs,dr,gi,hn+4,pi,jr)),fi.La&&(kc(di,Xr,kn,hn,pi,jr),h1(ji,La,Hs,dr,gi,hn,pi,jr)),0<Bi&&(Vn(di,Xr,kn,hn+4,pi,jr),qs(ji,La,Hs,dr,gi,hn+4,pi,jr)),fi.La&&(ol(di,Xr,kn,hn,pi,jr),c1(ji,La,Hs,dr,gi,hn,pi,jr))}}if(oe.ia&&alert("todo:DitherRow"),$t.put!=null){if(en=16*an,an=16*(an+1),Zn?($t.y=oe.sa,$t.O=oe.ta+tn,$t.f=oe.qa,$t.N=oe.ra+Jr,$t.ea=oe.Ha,$t.W=oe.Ia+Jr):(en-=He,$t.y=hr,$t.O=Vr,$t.f=Rn,$t.N=Ue,$t.ea=wr,$t.W=Br),Qn||(an-=He),an>$t.o&&(an=$t.o),$t.F=null,$t.J=null,oe.Fa!=null&&0<oe.Fa.length&&en<an&&($t.J=Sn(oe,$t,en,an-en),$t.F=oe.mb,$t.F==null&&$t.F.length==0)){Bn=An(oe,3,"Could not decode alpha data.");break e}en<$t.j&&(He=$t.j-en,en=$t.j,t(!(1&He)),$t.O+=oe.R*He,$t.N+=oe.B*(He>>1),$t.W+=oe.B*(He>>1),$t.F!=null&&($t.J+=$t.width*He)),en<an&&($t.O+=$t.v,$t.N+=$t.v>>1,$t.W+=$t.v>>1,$t.F!=null&&($t.J+=$t.v),$t.ka=en-$t.j,$t.U=$t.va-$t.v,$t.T=an-en,Bn=$t.put($t))}Ne+1!=oe.Ic||Qn||(r(oe.sa,oe.ta-Se,hr,Vr+16*oe.R,Se),r(oe.qa,oe.ra-mn,Rn,Ue+8*oe.B,mn),r(oe.Ha,oe.Ia-mn,wr,Br+8*oe.B,mn))}if(!Bn)return An(Ve,6,"Output aborted.")}return 1})(X,lt)),lt.bc!=null&&lt.bc(lt),gt&=1}return gt?(X.cb=0,gt):0})(c,w)||(d=c.a)}}else d=c.a}d==0&&M.Oa!=null&&M.Oa.fd&&(d=cu(M.ba))}M=d}O=M!=0?null:11>O?V.f.RGBA.eb:V.f.kb.y}else O=null;return O};var D1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,F){for(var b="",E=0;E<4;E++)b+=String.fromCharCode(S[F++]);return b}function f(S,F){return S[F+0]|S[F+1]<<8}function g(S,F){return(S[F+0]|S[F+1]<<8|S[F+2]<<16)>>>0}function v(S,F){return(S[F+0]|S[F+1]<<8|S[F+2]<<16|S[F+3]<<24)>>>0}new l;var p=[0],T=[0],L=[],R=new l,C=n,$=(function(S,F){var b={},E=0,I=!1,tt=0,wt=0;if(b.frames=[],!(function(k,K){for(var Z=0;Z<4;Z++)if(k[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(S,F)){for(v(S,F+=4),F+=8;F<S.length;){var At=u(S,F),mt=v(S,F+=4);F+=4;var at=mt+(1&mt);switch(At){case"VP8 ":case"VP8L":b.frames[E]===void 0&&(b.frames[E]={}),(Ot=b.frames[E]).src_off=I?wt:F-8,Ot.src_size=tt+mt+8,E++,I&&(I=!1,tt=0,wt=0);break;case"VP8X":(Ot=b.header={}).feature_flags=S[F];var Tt=F+4;Ot.canvas_width=1+g(S,Tt),Tt+=3,Ot.canvas_height=1+g(S,Tt),Tt+=3;break;case"ALPH":I=!0,tt=at+8,wt=F-8;break;case"ANIM":(Ot=b.header).bgcolor=v(S,F),Tt=F+4,Ot.loop_count=f(S,Tt),Tt+=2;break;case"ANMF":var Vt,Ot;(Ot=b.frames[E]={}).offset_x=2*g(S,F),F+=3,Ot.offset_y=2*g(S,F),F+=3,Ot.width=1+g(S,F),F+=3,Ot.height=1+g(S,F),F+=3,Ot.duration=g(S,F),F+=3,Vt=S[F++],Ot.dispose=1&Vt,Ot.blend=Vt>>1&1}At!="ANMF"&&(F+=at)}return b}})(C,0);$.response=C,$.rgbaoutput=!0,$.dataurl=!1;var G=$.header?$.header:null,z=$.frames?$.frames:null;if(G){G.loop_counter=G.loop_count,p=[G.canvas_height],T=[G.canvas_width];for(var ct=0;ct<z.length&&z[ct].blend!=0;ct++);}var Et=z[0],U=R.WebPDecodeRGBA(C,Et.src_off,Et.src_size,T,p);Et.rgba=U,Et.imgwidth=T[0],Et.imgheight=p[0];for(var x=0;x<T[0]*p[0]*4;x++)L[x]=U[x];return this.width=T,this.height=p,this.data=L,this}(function(n){var t,e,r,i,s,o,a,l,u,f=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var g=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=k;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(H){Z=!!H}});var rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return rt},set:function(H){rt=!!H}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(H){isNaN(H)||(ot=H)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(H){isNaN(H)||(Q=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var D;typeof H=="number"?D=[H,H,H,H]:((D=new Array(4))[0]=H[0],D[1]=H.length>=2?H[1]:D[0],D[2]=H.length>=3?H[2]:D[0],D[3]=H.length>=4?H[3]:D[1]),u.margin=D}});var it=!1;Object.defineProperty(this,"autoPaging",{get:function(){return it},set:function(H){it=H}});var nt=0;Object.defineProperty(this,"lastBreak",{get:function(){return nt},set:function(H){nt=H}});var ut=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ut},set:function(H){ut=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof f&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(H){Nt=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var D;D=v(H),this.ctx.fillStyle=D.style,this.ctx.isFillTransparent=D.a===0,this.ctx.fillOpacity=D.a,this.pdf.setFillColor(D.r,D.g,D.b,{a:D.a}),this.pdf.setTextColor(D.r,D.g,D.b,{a:D.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var D=v(H);this.ctx.strokeStyle=D.style,this.ctx.isStrokeTransparent=D.a===0,this.ctx.strokeOpacity=D.a,D.a===0?this.pdf.setDrawColor(255,255,255):(D.a,this.pdf.setDrawColor(D.r,D.g,D.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var j=null,W=null;Object.defineProperty(this,"fontFaces",{get:function(){return W},set:function(H){j=null,W=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var D;if(this.ctx.font=H,(D=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(H))!==null){var St=D[1];D[2];var yt=D[3],xt=D[4];D[5];var ft=D[6],It=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(It==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:It==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var pt=(function(Zt){var Jt,Ae,Ce=[],ee=Zt.trim();if(ee==="")return Hd;if(ee in a5)return[a5[ee]];for(;ee!=="";){switch(Ae=null,Jt=(ee=u5(ee)).charAt(0)){case'"':case"'":Ae=XL(ee.substring(1),Jt);break;default:Ae=QL(ee)}if(Ae===null||(Ce.push(Ae[0]),(ee=u5(Ae[1]))!==""&&ee.charAt(0)!==","))return Hd;ee=ee.replace(/^,/,"")}return Ce})(ft);if(this.fontFaces){var jt=(function(Zt,Jt){if(j===null){var Ae=(function(Ce){var ee=[];return Object.keys(Ce).forEach(function(ie){Ce[ie].forEach(function(Le){var ce=null;switch(Le){case"bold":ce={family:ie,weight:"bold"};break;case"italic":ce={family:ie,style:"italic"};break;case"bolditalic":ce={family:ie,weight:"bold",style:"italic"};break;case"":case"normal":ce={family:ie}}ce!==null&&(ce.ref={name:ie,style:Le},ee.push(ce))})}),ee})(Zt.getFontList());j=(function(Ce){for(var ee={},ie=0;ie<Ce.length;++ie){var Le=zd(Ce[ie]),ce=Le.family,Te=Le.stretch,_e=Le.style,yn=Le.weight;ee[ce]=ee[ce]||{},ee[ce][Te]=ee[ce][Te]||{},ee[ce][Te][_e]=ee[ce][Te][_e]||{},ee[ce][Te][_e][yn]=Le}return ee})(Ae.concat(Jt))}return j})(this.pdf,this.fontFaces),Pt=pt.map(function(Zt){return{family:Zt,stretch:"normal",weight:yt,style:St}}),Ht=(function(Zt,Jt,Ae){for(var Ce=(Ae=Ae||{}).defaultFontFamily||"times",ee=Object.assign({},JL,Ae.genericFontFamilies||{}),ie=null,Le=null,ce=0;ce<Jt.length;++ce)if(ee[(ie=zd(Jt[ce])).family]&&(ie.family=ee[ie.family]),Zt.hasOwnProperty(ie.family)){Le=Zt[ie.family];break}if(!(Le=Le||Zt[Ce]))throw new Error("Could not find a font-family for the rule '"+l5(ie)+"' and default family '"+Ce+"'.");if(Le=(function(Te,_e){if(_e[Te])return _e[Te];var yn=Jp[Te],pn=yn<=Jp.normal?-1:1,$e=o5(_e,jw,yn,pn);if(!$e)throw new Error("Could not find a matching font-stretch value for "+Te);return $e})(ie.stretch,Le),Le=(function(Te,_e){if(_e[Te])return _e[Te];for(var yn=Bw[Te],pn=0;pn<yn.length;++pn)if(_e[yn[pn]])return _e[yn[pn]];throw new Error("Could not find a matching font-style for "+Te)})(ie.style,Le),!(Le=(function(Te,_e){if(_e[Te])return _e[Te];if(Te===400&&_e[500])return _e[500];if(Te===500&&_e[400])return _e[400];var yn=YL[Te],pn=o5(_e,Uw,yn,Te<400?-1:1);if(!pn)throw new Error("Could not find a matching font-weight for value "+Te);return pn})(ie.weight,Le)))throw new Error("Failed to resolve a font for the rule '"+l5(ie)+"'.");return Le})(jt,Pt);this.pdf.setFont(Ht.ref.name,Ht.ref.style)}else{var qt="";(yt==="bold"||parseInt(yt,10)>=700||St==="bold")&&(qt="bold"),St==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var Ut="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gt=0;Gt<pt.length;Gt++){if(this.pdf.internal.getFont(pt[Gt],qt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=pt[Gt];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(pt[Gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=pt[Gt],qt="bold";else if(this.pdf.internal.getFont(pt[Gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=pt[Gt],qt="normal";break}}if(Ut===""){for(var Kt=0;Kt<pt.length;Kt++)if(Yt[pt[Kt]]){Ut=Yt[pt[Kt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Ot.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Ot.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};g.prototype.setLineDash=function(k){this.lineDash=k},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){z.call(this,"fill",!1)},g.prototype.stroke=function(){z.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(k,K){if(isNaN(k)||isNaN(K))throw ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(k,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(k,K)},g.prototype.closePath=function(){var k=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&rn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){k=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},g.prototype.lineTo=function(k,K){if(isNaN(k)||isNaN(K))throw ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(k,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},g.prototype.quadraticCurveTo=function(k,K,Z,rt){if(isNaN(Z)||isNaN(rt)||isNaN(k)||isNaN(K))throw ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new o(Z,rt)),Q=this.ctx.transform.applyToPoint(new o(k,K));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new o(ot.x,ot.y)},g.prototype.bezierCurveTo=function(k,K,Z,rt,ot,Q){if(isNaN(ot)||isNaN(Q)||isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt))throw ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var it=this.ctx.transform.applyToPoint(new o(ot,Q)),nt=this.ctx.transform.applyToPoint(new o(k,K)),ut=this.ctx.transform.applyToPoint(new o(Z,rt));this.path.push({type:"bct",x1:nt.x,y1:nt.y,x2:ut.x,y2:ut.y,x:it.x,y:it.y}),this.ctx.lastPoint=new o(it.x,it.y)},g.prototype.arc=function(k,K,Z,rt,ot,Q){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt)||isNaN(ot))throw ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var it=this.ctx.transform.applyToPoint(new o(k,K));k=it.x,K=it.y;var nt=this.ctx.transform.applyToPoint(new o(0,Z)),ut=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(nt.x-ut.x,2)+Math.pow(nt.y-ut.y,2))}Math.abs(ot-rt)>=2*Math.PI&&(rt=0,ot=2*Math.PI),this.path.push({type:"arc",x:k,y:K,radius:Z,startAngle:rt,endAngle:ot,counterclockwise:Q})},g.prototype.arcTo=function(k,K,Z,rt,ot){throw new Error("arcTo not implemented.")},g.prototype.rect=function(k,K,Z,rt){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt))throw ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,K),this.lineTo(k+Z,K),this.lineTo(k+Z,K+rt),this.lineTo(k,K+rt),this.lineTo(k,K),this.lineTo(k+Z,K),this.lineTo(k,K)},g.prototype.fillRect=function(k,K,Z,rt){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt))throw ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ot={};this.lineCap!=="butt"&&(ot.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,K,Z,rt),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},g.prototype.strokeRect=function(k,K,Z,rt){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt))throw ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(k,K,Z,rt),this.stroke())},g.prototype.clearRect=function(k,K,Z,rt){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt))throw ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,K,Z,rt))},g.prototype.save=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var rt=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=rt}},g.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(k){var K,Z,rt,ot;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))K=0,Z=0,rt=0,ot=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(Q!==null)K=parseInt(Q[1]),Z=parseInt(Q[2]),rt=parseInt(Q[3]),ot=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)K=parseInt(Q[1]),Z=parseInt(Q[2]),rt=parseInt(Q[3]),ot=parseFloat(Q[4]);else{if(ot=1,typeof k=="string"&&k.charAt(0)!=="#"){var it=new Rw(k);k=it.ok?it.toHex():"#000000"}k.length===4?(K=k.substring(1,2),K+=K,Z=k.substring(2,3),Z+=Z,rt=k.substring(3,4),rt+=rt):(K=k.substring(1,3),Z=k.substring(3,5),rt=k.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),rt=parseInt(rt,16)}}return{r:K,g:Z,b:rt,a:ot,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(k,K,Z,rt){if(isNaN(K)||isNaN(Z)||typeof k!="string")throw ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(rt=isNaN(rt)?void 0:rt,!p.call(this)){var ot=at(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;E.call(this,{text:k,x:K,y:Z,scale:Q,angle:ot,align:this.textAlign,maxWidth:rt})}},g.prototype.strokeText=function(k,K,Z,rt){if(isNaN(K)||isNaN(Z)||typeof k!="string")throw ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){rt=isNaN(rt)?void 0:rt;var ot=at(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;E.call(this,{text:k,x:K,y:Z,scale:Q,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:rt})}},g.prototype.measureText=function(k){if(typeof k!="string")throw ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,rt=K.internal.getFontSize(),ot=K.getStringUnitWidth(k)*rt/K.internal.scaleFactor;return new function(Q){var it=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return it}}),this}({width:ot*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(k,K){if(isNaN(k)||isNaN(K))throw ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(k,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(k){if(isNaN(k))throw ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},g.prototype.translate=function(k,K){if(isNaN(k)||isNaN(K))throw ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,k,K);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(k,K,Z,rt,ot,Q){if(isNaN(k)||isNaN(K)||isNaN(Z)||isNaN(rt)||isNaN(ot)||isNaN(Q))throw ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var it=new l(k,K,Z,rt,ot,Q);this.ctx.transform=this.ctx.transform.multiply(it)},g.prototype.setTransform=function(k,K,Z,rt,ot,Q){k=isNaN(k)?1:k,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,rt=isNaN(rt)?1:rt,ot=isNaN(ot)?0:ot,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(k,K,Z,rt,ot,Q)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(k,K,Z,rt,ot,Q,it,nt,ut){var Nt=this.pdf.getImageProperties(k),j=1,W=1,H=1,D=1;rt!==void 0&&nt!==void 0&&(H=nt/rt,D=ut/ot,j=Nt.width/rt*nt/rt,W=Nt.height/ot*ut/ot),Q===void 0&&(Q=K,it=Z,K=0,Z=0),rt!==void 0&&nt===void 0&&(nt=rt,ut=ot),rt===void 0&&nt===void 0&&(nt=Nt.width,ut=Nt.height);for(var St,yt=this.ctx.transform.decompose(),xt=at(yt.rotate.shx),ft=new l,It=(ft=(ft=(ft=ft.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new a(Q-K*H,it-Z*D,rt*j,ot*W)),pt=R.call(this,It),jt=[],Pt=0;Pt<pt.length;Pt+=1)jt.indexOf(pt[Pt])===-1&&jt.push(pt[Pt]);if(G(jt),this.autoPaging)for(var Ht=jt[0],qt=jt[jt.length-1],Ut=Ht;Ut<qt+1;Ut++){this.pdf.setPage(Ut);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gt=Ut===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=Ut===1?0:Kt+(Ut-2)*Zt;if(this.ctx.clip_path.length!==0){var Ae=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(St,this.posX+this.margin[3],-Jt+Gt+this.ctx.prevPageLastElemOffset),ct.call(this,"fill",!0),this.path=Ae}var Ce=JSON.parse(JSON.stringify(It));Ce=$([Ce],this.posX+this.margin[3],-Jt+Gt+this.ctx.prevPageLastElemOffset)[0];var ee=(Ut>Ht||Ut<qt)&&L.call(this);ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Zt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,xt),ee&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",It.x,It.y,It.w,It.h,null,null,xt)};var R=function(k,K,Z){var rt=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":rt.push(Math.floor((k.y+ot)/Z)+1);break;case"arc":rt.push(Math.floor((k.y+ot-k.radius)/Z)+1),rt.push(Math.floor((k.y+ot+k.radius)/Z)+1);break;case"qct":var Q=Tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);rt.push(Math.floor((Q.y+ot)/Z)+1),rt.push(Math.floor((Q.y+Q.h+ot)/Z)+1);break;case"bct":var it=Vt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);rt.push(Math.floor((it.y+ot)/Z)+1),rt.push(Math.floor((it.y+it.h+ot)/Z)+1);break;case"rect":rt.push(Math.floor((k.y+ot)/Z)+1),rt.push(Math.floor((k.y+k.h+ot)/Z)+1)}for(var nt=0;nt<rt.length;nt+=1)for(;this.pdf.internal.getNumberOfPages()<rt[nt];)C.call(this);return rt},C=function(){var k=this.fillStyle,K=this.strokeStyle,Z=this.font,rt=this.lineCap,ot=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=K,this.font=Z,this.lineCap=rt,this.lineWidth=ot,this.lineJoin=Q},$=function(k,K,Z){for(var rt=0;rt<k.length;rt++)switch(k[rt].type){case"bct":k[rt].x2+=K,k[rt].y2+=Z;case"qct":k[rt].x1+=K,k[rt].y1+=Z;default:k[rt].x+=K,k[rt].y+=Z}return k},G=function(k){return k.sort(function(K,Z){return K-Z})},z=function(k,K){for(var Z,rt,ot=this.fillStyle,Q=this.strokeStyle,it=this.lineCap,nt=this.lineWidth,ut=Math.abs(nt*this.ctx.transform.scaleX),Nt=this.lineJoin,j=JSON.parse(JSON.stringify(this.path)),W=JSON.parse(JSON.stringify(this.path)),H=[],D=0;D<W.length;D++)if(W[D].x!==void 0)for(var St=R.call(this,W[D]),yt=0;yt<St.length;yt+=1)H.indexOf(St[yt])===-1&&H.push(St[yt]);for(var xt=0;xt<H.length;xt++)for(;this.pdf.internal.getNumberOfPages()<H[xt];)C.call(this);if(G(H),this.autoPaging)for(var ft=H[0],It=H[H.length-1],pt=ft;pt<It+1;pt++){this.pdf.setPage(pt),this.fillStyle=ot,this.strokeStyle=Q,this.lineCap=it,this.lineWidth=ut,this.lineJoin=Nt;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=pt===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=pt===1?0:Ht+(pt-2)*qt;if(this.ctx.clip_path.length!==0){var Yt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(Z,this.posX+this.margin[3],-Ut+Pt+this.ctx.prevPageLastElemOffset),ct.call(this,k,!0),this.path=Yt}if(rt=JSON.parse(JSON.stringify(j)),this.path=$(rt,this.posX+this.margin[3],-Ut+Pt+this.ctx.prevPageLastElemOffset),K===!1||pt===0){var Gt=(pt>ft||pt<It)&&L.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,qt,null).clip().discardPath()),ct.call(this,k,K),Gt&&this.pdf.restoreGraphicsState()}this.lineWidth=nt}else this.lineWidth=ut,ct.call(this,k,K),this.lineWidth=nt;this.path=j},ct=function(k,K){if((k!=="stroke"||K||!T.call(this))&&(k==="stroke"||K||!p.call(this))){for(var Z,rt,ot=[],Q=this.path,it=0;it<Q.length;it++){var nt=Q[it];switch(nt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:nt,deltas:[],abs:[]});break;case"lt":var ut=ot.length;if(Q[it-1]&&!isNaN(Q[it-1].x)&&(Z=[nt.x-Q[it-1].x,nt.y-Q[it-1].y],ut>0)){for(;ut>=0;ut--)if(ot[ut-1].close!==!0&&ot[ut-1].begin!==!0){ot[ut-1].deltas.push(Z),ot[ut-1].abs.push(nt);break}}break;case"bct":Z=[nt.x1-Q[it-1].x,nt.y1-Q[it-1].y,nt.x2-Q[it-1].x,nt.y2-Q[it-1].y,nt.x-Q[it-1].x,nt.y-Q[it-1].y],ot[ot.length-1].deltas.push(Z);break;case"qct":var Nt=Q[it-1].x+2/3*(nt.x1-Q[it-1].x),j=Q[it-1].y+2/3*(nt.y1-Q[it-1].y),W=nt.x+2/3*(nt.x1-nt.x),H=nt.y+2/3*(nt.y1-nt.y),D=nt.x,St=nt.y;Z=[Nt-Q[it-1].x,j-Q[it-1].y,W-Q[it-1].x,H-Q[it-1].y,D-Q[it-1].x,St-Q[it-1].y],ot[ot.length-1].deltas.push(Z);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(nt)}}rt=K?null:k==="stroke"?"stroke":"fill";for(var yt=!1,xt=0;xt<ot.length;xt++)if(ot[xt].arc)for(var ft=ot[xt].abs,It=0;It<ft.length;It++){var pt=ft[It];pt.type==="arc"?x.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,K,!yt):I.call(this,pt.x,pt.y),yt=!0}else if(ot[xt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ot[xt].begin!==!0){var jt=ot[xt].start.x,Pt=ot[xt].start.y;tt.call(this,ot[xt].deltas,jt,Pt),yt=!0}rt&&S.call(this,rt),K&&F.call(this)}},Et=function(k){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Z;case"top":return k+K-Z;case"hanging":return k+K-2*Z;case"middle":return k+K/2-Z;default:return k}},U=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(K,Z){this.colorStops.push([K,Z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(k,K,Z,rt,ot,Q,it,nt,ut){for(var Nt=At.call(this,Z,rt,ot,Q),j=0;j<Nt.length;j++){var W=Nt[j];j===0&&(ut?b.call(this,W.x1+k,W.y1+K):I.call(this,W.x1+k,W.y1+K)),wt.call(this,k,K,W.x2,W.y2,W.x3,W.y3,W.x4,W.y4)}nt?F.call(this):S.call(this,it)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},b=function(k,K){this.pdf.internal.out(e(k)+" "+r(K)+" m")},E=function(k){var K;switch(k.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(k.text),rt=Et.call(this,k.y),ot=U.call(this,rt)-Z.h,Q=this.ctx.transform.applyToPoint(new o(k.x,rt)),it=this.ctx.transform.decompose(),nt=new l;nt=(nt=(nt=nt.multiply(it.translate)).multiply(it.skew)).multiply(it.scale);for(var ut,Nt,j,W=this.ctx.transform.applyToRectangle(new a(k.x,rt,Z.w,Z.h)),H=nt.applyToRectangle(new a(k.x,ot,Z.w,Z.h)),D=R.call(this,H),St=[],yt=0;yt<D.length;yt+=1)St.indexOf(D[yt])===-1&&St.push(D[yt]);if(G(St),this.autoPaging)for(var xt=St[0],ft=St[St.length-1],It=xt;It<ft+1;It++){this.pdf.setPage(It);var pt=It===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Ht=Pt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Ut=qt-this.margin[3],Yt=It===1?0:jt+(It-2)*Ht;if(this.ctx.clip_path.length!==0){var Gt=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(ut,this.posX+this.margin[3],-1*Yt+pt),ct.call(this,"fill",!0),this.path=Gt}var Kt=$([JSON.parse(JSON.stringify(H))],this.posX+this.margin[3],-Yt+pt+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*k.scale),j=this.lineWidth,this.lineWidth=j*k.scale);var Zt=this.autoPaging!=="text";if(Zt||Kt.y+Kt.h<=Pt){if(Zt||Kt.y>=pt&&Kt.x<=qt){var Jt=Zt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||qt-Kt.x)[0],Ae=$([JSON.parse(JSON.stringify(W))],this.posX+this.margin[3],-Yt+pt+this.ctx.prevPageLastElemOffset)[0],Ce=Zt&&(It>xt||It<ft)&&L.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Ht,null).clip().discardPath()),this.pdf.text(Jt,Ae.x,Ae.y,{angle:k.angle,align:K,renderingMode:k.renderingMode}),Ce&&this.pdf.restoreGraphicsState()}}else Kt.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Kt.y);k.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=j)}else k.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*k.scale),j=this.lineWidth,this.lineWidth=j*k.scale),this.pdf.text(k.text,Q.x+this.posX,Q.y+this.posY,{angle:k.angle,align:K,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=j)},I=function(k,K,Z,rt){Z=Z||0,rt=rt||0,this.pdf.internal.out(e(k+Z)+" "+r(K+rt)+" l")},tt=function(k,K,Z){return this.pdf.lines(k,K,Z,null,null)},wt=function(k,K,Z,rt,ot,Q,it,nt){this.pdf.internal.out([t(i(Z+k)),t(s(rt+K)),t(i(ot+k)),t(s(Q+K)),t(i(it+k)),t(s(nt+K)),"c"].join(" "))},At=function(k,K,Z,rt){for(var ot=2*Math.PI,Q=Math.PI/2;K>Z;)K-=ot;var it=Math.abs(Z-K);it<ot&&rt&&(it=ot-it);for(var nt=[],ut=rt?-1:1,Nt=K;it>1e-5;){var j=Nt+ut*Math.min(it,Q);nt.push(mt.call(this,k,Nt,j)),it-=Math.abs(j-Nt),Nt=j}return nt},mt=function(k,K,Z){var rt=(Z-K)/2,ot=k*Math.cos(rt),Q=k*Math.sin(rt),it=ot,nt=-Q,ut=it*it+nt*nt,Nt=ut+it*ot+nt*Q,j=4/3*(Math.sqrt(2*ut*Nt)-Nt)/(it*Q-nt*ot),W=it-j*nt,H=nt+j*it,D=W,St=-H,yt=rt+K,xt=Math.cos(yt),ft=Math.sin(yt);return{x1:k*Math.cos(K),y1:k*Math.sin(K),x2:W*xt-H*ft,y2:W*ft+H*xt,x3:D*xt-St*ft,y3:D*ft+St*xt,x4:k*Math.cos(Z),y4:k*Math.sin(Z)}},at=function(k){return 180*k/Math.PI},Tt=function(k,K,Z,rt,ot,Q){var it=k+.5*(Z-k),nt=K+.5*(rt-K),ut=ot+.5*(Z-ot),Nt=Q+.5*(rt-Q),j=Math.min(k,ot,it,ut),W=Math.max(k,ot,it,ut),H=Math.min(K,Q,nt,Nt),D=Math.max(K,Q,nt,Nt);return new a(j,H,W-j,D-H)},Vt=function(k,K,Z,rt,ot,Q,it,nt){var ut,Nt,j,W,H,D,St,yt,xt,ft,It,pt,jt,Pt,Ht=Z-k,qt=rt-K,Ut=ot-Z,Yt=Q-rt,Gt=it-ot,Kt=nt-Q;for(Nt=0;Nt<41;Nt++)xt=(St=(j=k+(ut=Nt/40)*Ht)+ut*((H=Z+ut*Ut)-j))+ut*(H+ut*(ot+ut*Gt-H)-St),ft=(yt=(W=K+ut*qt)+ut*((D=rt+ut*Yt)-W))+ut*(D+ut*(Q+ut*Kt-D)-yt),Nt==0?(It=xt,pt=ft,jt=xt,Pt=ft):(It=Math.min(It,xt),pt=Math.min(pt,ft),jt=Math.max(jt,xt),Pt=Math.max(Pt,ft));return new a(Math.round(It),Math.round(pt),Math.round(jt-It),Math.round(Pt-pt))},Ot=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,K,Z=(k=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(le.API),(function(n){var t=function(o){var a,l,u,f,g,v,p,T,L,R;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(R=g%85))/85)-(L=g%85))/85)-(T=g%85))/85)-(p=g%85))/85)%85,l.push(v+33,p+33,T+33,L+33,R+33)):l.push(122);return(function(C,$){for(var G=$;G>0;G--)C.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(o){var a,l,u,f,g,v=String,p="length",T=255,L="charCodeAt",R="slice",C="replace";for(o[R](-2),o=o[R](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],f=0,g=(o+=a="uuuuu"[R](o[p]%5||5))[p];g>f;f+=5)l=52200625*(o[L](f)-33)+614125*(o[L](f+1)-33)+7225*(o[L](f+2)-33)+85*(o[L](f+3)-33)+(o[L](f+4)-33),u.push(T&l>>24,T&l>>16,T&l>>8,T&l);return(function($,G){for(var z=G;z>0;z--)$.pop()})(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=zp(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(le.API),(function(n){n.loadFile=function(t,e,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(l,u,f){var g=new XMLHttpRequest,v=0,p=function(T){var L=T.length,R=[],C=String.fromCharCode;for(v=0;v<L;v+=1)R.push(C(255&T.charCodeAt(v)));return R.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),u&&g.status===200)return p(g.responseText)})(i,s,o)}catch{}return a})(t,e,r)},n.loadImageFile=n.loadFile})(le.API),(function(n){function t(){return(ve.html2canvas?Promise.resolve(ve.html2canvas):Id(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(ve.DOMPurify?Promise.resolve(ve.DOMPurify):Id(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=rn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(a(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(e).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var T=f[p],L=T.src.find(function(R){return R.format==="truetype"});L&&u.addFont(L.url,T.ref.name,T.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,g){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,g).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=u.call(g,a,l);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,le.getPageSize=function(a,l,u){if(rn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var T,L=0,R=0;if(p.hasOwnProperty(v))L=p[v][1]/g,R=p[v][0]/g;else try{L=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",R>L&&(T=R,R=L,L=T);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",L>R&&(T=R,R=L,L=T)}return{width:R,height:L,unit:l,k:g,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(zd):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}})(le.API),le.API.addJS=function(n){return h5=n,this.internal.events.subscribe("postPutResources",function(){fh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fh!==void 0&&c5!==void 0&&this.internal.out("/Names <</JavaScript "+fh+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var g=e.internal.newObject();f.push(g);var v=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<f.length;s++)e.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(le.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=(function(g){for(var v,p=256*g.charCodeAt(4)+g.charCodeAt(5),T=g.length,L={width:0,height:0,numcomponents:1},R=4;R<T;R+=2){if(R+=p,t.indexOf(g.charCodeAt(R+1))!==-1){v=256*g.charCodeAt(R+5)+g.charCodeAt(R+6),L={width:256*g.charCodeAt(R+7)+g.charCodeAt(R+8),height:v,numcomponents:g.charCodeAt(R+9)};break}p=256*g.charCodeAt(R+2)+g.charCodeAt(R+3)}return L})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}})(le.API),le.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=DL(n,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?(function(x){for(var S=x.width,F=x.height,b=x.data,E=x.palette,I=x.depth,tt=!1,wt=[],At=[],mt=void 0,at=!1,Tt=0,Vt=0;Vt<E.length;Vt++){var Ot=g2(E[Vt],4),k=Ot[0],K=Ot[1],Z=Ot[2],rt=Ot[3];wt.push(k,K,Z),rt!=null&&(rt===0?(Tt++,At.length<1&&At.push(Vt)):rt<255&&(at=!0))}if(at||Tt>1){tt=!0,At=void 0;var ot=S*F;mt=new Uint8Array(ot);for(var Q=new DataView(b.buffer),it=0;it<ot;it++){var nt=Wd(Q,it,I),ut=g2(E[nt],4)[3];mt[it]=ut}}else Tt===0&&(At=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:tt?8:void 0,colorBytes:b,alphaBytes:mt,needSMask:tt,palette:wt,mask:At}})(s):l===2||l===4?(function(x){for(var S=x.data,F=x.width,b=x.height,E=x.channels,I=x.depth,tt=E===2?"DeviceGray":"DeviceRGB",wt=E-1,At=F*b,mt=wt,at=At*mt,Tt=1*At,Vt=Math.ceil(at*I/8),Ot=Math.ceil(Tt*I/8),k=new Uint8Array(Vt),K=new Uint8Array(Ot),Z=new DataView(S.buffer),rt=new DataView(k.buffer),ot=new DataView(K.buffer),Q=!1,it=0;it<At;it++){for(var nt=it*E,ut=0;ut<mt;ut++)w5(rt,Wd(Z,nt+ut,I),it*mt+ut,I);var Nt=Wd(Z,nt+mt,I);Nt<(1<<I)-1&&(Q=!0),w5(ot,Nt,1*it,I)}return{colorSpace:tt,colorsPerPixel:wt,sMaskBitsPerComponent:Q?I:void 0,colorBytes:k,alphaBytes:K,needSMask:Q}})(s):(function(x){var S=x.data,F=x.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?(function(b){for(var E=b.length,I=new Uint8Array(2*E),tt=new DataView(I.buffer,I.byteOffset,I.byteLength),wt=0;wt<E;wt++)tt.setUint16(2*wt,b[wt],!1);return I})(S):S,needSMask:!1}})(s);var g,v,p,T=i,L=T.colorSpace,R=T.colorsPerPixel,C=T.sMaskBitsPerComponent,$=T.colorBytes,G=T.alphaBytes,z=T.needSMask,ct=T.palette,Et=T.mask,U=null;return r!==le.API.image_compression.NONE&&typeof zp=="function"?(U=(function(x){var S;switch(x){case le.API.image_compression.FAST:S=11;break;case le.API.image_compression.MEDIUM:S=13;break;case le.API.image_compression.SLOW:S=14;break;default:S=12}return S})(r),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(U," /Colors ").concat(R," /BitsPerComponent ").concat(f," /Columns ").concat(o),n=g5($,Math.ceil(o*R*f/8),R,f,r),z&&(p=g5(G,Math.ceil(o*C/8),1,C,r))):(g=void 0,v=void 0,n=$,z&&(p=G)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:n,index:t,filter:g,decodeParameters:v,transparency:Et,palette:ct,sMask:p,predictor:U,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:C,colorSpace:L}}},(function(n){n.processGIF89A=function(t,e,r,i){var s=new n8(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new $d(100).encode(u,100);return n.processJPEG.call(this,f,e,r,i)},n.processGIF87A=n.processGIF89A})(le.API),Ui.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ui.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ln.log("bit decode error:"+e)}},Ui.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}e!==0&&(this.pos+=4-e)}},Ui.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ui.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Ui.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=n}},Ui.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,u=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=n}},Ui.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ui.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ui.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,i){var s=new Ui(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new $d(100).encode(l,100);return n.processJPEG.call(this,u,e,r,i)}})(le.API),A5.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,i){var s=new A5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new $d(100).encode(l,100);return n.processJPEG.call(this,u,e,r,i)}})(le.API),le.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],g=r[u+1],v=r[u+2],p=r[u+3];s[a++]=f,s[a++]=g,s[a++]=v,o[l++]=p}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:T,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},le.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hl=le.API,dh=hl.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,g=t.doKerning!==!1,v=0,p=n.length,T=0,L=a[0]||l,R=[];for(e=0;e<p;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=g&&rn(u[r])==="object"&&!isNaN(parseInt(u[r][T],10))?u[r][T]/f:0,R.push((a[r]||L)/l+v)),T=r;return R},f5=hl.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return hl.processArabic&&(n=hl.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:dh.apply(this,arguments).reduce(function(s,o){return s+o},0)},d5=function(n,t,e,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(n.slice(l,s)),i},p5=function(n,t,e){e||(e={});var r,i,s,o,a,l,u,f=[],g=[f],v=e.textIndent||0,p=0,T=0,L=n.split(" "),R=dh.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?L[0].length+2:e.lineIndent||0){var C=Array(l).join(" "),$=[];L.map(function(z){(z=z.split(/\s*\n/)).length>1?$=$.concat(z.map(function(ct,Et){return(Et&&ct.length?`
`:"")+ct})):$.push(z[0])}),L=$,l=f5.apply(this,[C,e])}for(s=0,o=L.length;s<o;s++){var G=0;if(r=L[s],l&&r[0]==`
`&&(r=r.substr(1),G=1),v+p+(T=(i=dh.apply(this,[r,e])).reduce(function(z,ct){return z+ct},0))>t||G){if(T>t){for(a=d5.apply(this,[r,i,t-(v+p),t]),f.push(a.shift()),f=[a.pop()];a.length;)g.push([a.shift()]);T=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(z,ct){return z+ct},0)}else f=[r];g.push(f),v=T+l,p=R}else f.push(r),v+=p+T,p=R}return u=l?function(z,ct){return(ct?C:"")+z.join(" ")}:function(z){return z.join(" ")},g.map(u)},hl.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(p5.apply(this,[r[a],o,s]));return u},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[e[s]]=t[s],i[t[s]]=e[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=n.__fontmetrics__.compress=function(v){var p,T,L,R,C=["{"];for(var $ in v){if(p=v[$],isNaN(parseInt($,10))?T="'"+$+"'":($=parseInt($,10),T=(T=o($).slice(2)).slice(0,-1)+i[T.slice(-1)]),typeof p=="number")p<0?(L=o(p).slice(3),R="-"):(L=o(p).slice(2),R=""),L=R+L.slice(0,-1)+i[L.slice(-1)];else{if(rn(p)!=="object")throw new Error("Don't know what to do with value type "+rn(p)+".");L=a(p)}C.push(T+L)}return C.push("}"),C.join("")},l=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,T,L,R,C={},$=1,G=C,z=[],ct="",Et="",U=v.length-1,x=1;x<U;x+=1)(R=v[x])=="'"?p?(L=p.join(""),p=void 0):p=[]:p?p.push(R):R=="{"?(z.push([G,L]),G={},L=void 0):R=="}"?((T=z.pop())[0][T[1]]=G,L=void 0,G=T[0]):R=="-"?$=-1:L===void 0?r.hasOwnProperty(R)?(ct+=r[R],L=parseInt(ct,16)*$,$=1,ct=""):ct+=R:r.hasOwnProperty(R)?(Et+=r[R],G[L]=parseInt(Et,16)*$,$=1,L=void 0,Et=""):Et+=R;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var p=v.font,T=g.Unicode[p.postScriptName];T&&(p.metadata.Unicode={},p.metadata.Unicode.widths=T.widths,p.metadata.Unicode.kerning=T.kerning);var L=f.Unicode[p.postScriptName];L&&(p.metadata.Unicode.encoding=L,p.encoding=L.codePages[0])}])})(le.API),(function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=e.charCodeAt(s);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Nh(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(le),le.API.addSvgAsImage=function(n,t,e,r,i,s,o,a){if(isNaN(t)||isNaN(e))throw ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(ve.canvg?Promise.resolve(ve.canvg):Id(()=>import("./index.es-BReTO5V4.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),t,e,r,i,o,a)})},le.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},le.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,g=0;function v(T,L){var R,C=!1;for(R=0;R<T.length;R+=1)T[R]===L&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var p=a.length;for(g=0;g<p;g+=1)e[a[g]].value=e[a[g]].defaultValue,e[a[g]].explicitSet=!1}if(rn(n)==="object"){for(i in n)if(s=n[i],v(a,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&v(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}e[i].value="["+l.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,L=[];for(T in e)e[T].explicitSet===!0&&(e[T].type==="name"?L.push("/"+T+" /"+e[T].value):L.push("/"+T+" "+e[T].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(le.API),(function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],g=0,v=s.length;g<v;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,g,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(a=Object.keys(s).sort(function(p,T){return p-T})).length;g<v;g++)o=a[g],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",T=0;T<v.length;T++)p+=String.fromCharCode(v[T]);var L=u();f({data:p,addLength1:!0,objectId:L}),l("endobj");var R=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),l("endobj");var C=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+wl(a.fontName)),l("/FontFile2 "+L+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var $=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+wl(a.fontName)),l("/FontDescriptor "+C+" 0 R"),l("/W "+n.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+R+" 0 R"),l("/BaseFont /"+wl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+$+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,v="",p=0;p<g.length;p++)v+=String.fromCharCode(g[p]);var T=u();f({data:v,addLength1:!0,objectId:T}),l("endobj");var L=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var R=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+T+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+wl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+wl(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},g=s.mutex||{},v=g.pdfEscape,p=g.activeFontKey,T=g.fonts,L=p,R="",C=0,$="",G=T[L].encoding;if(T[L].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:g};for($=a,L=p,Array.isArray(a)&&($=a[0]),C=0;C<$.length;C+=1)T[L].metadata.hasOwnProperty("cmap")&&(o=T[L].metadata.cmap.unicode.codeMap[$[C].charCodeAt(0)]),o||$[C].charCodeAt(0)<256&&T[L].metadata.hasOwnProperty("Unicode")?R+=$[C]:R+="";var z="";return parseInt(L.slice(1))<14||G==="WinAnsiEncoding"?z=v(R,L).split("").map(function(ct){return ct.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(z=e(R,T[L])),g.isHex=!0,{text:z,x:l,y:u,options:f,mutex:g}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])})(le),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(le.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,g=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,G=0;this.__bidiEngine__={};var z=function(b){var E=b.charCodeAt(),I=E>>8,tt=L[I];return tt!==void 0?g[256*tt+(255&E)]:I===252||I===253?"AL":C.test(I)?"L":I===8?"R":"N"},ct=function(b){for(var E,I=0;I<b.length;I++){if((E=z(b.charAt(I)))==="L")return!1;if(E==="R")return!0}return!1},Et=function(b,E,I,tt){var wt,At,mt,at,Tt=E[tt];switch(Tt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Tt="AN");break;case"AL":$=!0,Tt="R";break;case"WS":case"BN":Tt="N";break;case"CS":tt<1||tt+1>=E.length||(wt=I[tt-1])!=="EN"&&wt!=="AN"||(At=E[tt+1])!=="EN"&&At!=="AN"?Tt="N":$&&(At="AN"),Tt=At===wt?At:"N";break;case"ES":Tt=(wt=tt>0?I[tt-1]:"B")==="EN"&&tt+1<E.length&&E[tt+1]==="EN"?"EN":"N";break;case"ET":if(tt>0&&I[tt-1]==="EN"){Tt="EN";break}if($){Tt="N";break}for(mt=tt+1,at=E.length;mt<at&&E[mt]==="ET";)mt++;Tt=mt<at&&E[mt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(at=E.length,mt=tt+1;mt<at&&E[mt]==="NSM";)mt++;if(mt<at){var Vt=b[tt],Ot=Vt>=1425&&Vt<=2303||Vt===64286;if(wt=E[mt],Ot&&(wt==="R"||wt==="AL")){Tt="R";break}}}Tt=tt<1||(wt=E[tt-1])==="B"?"N":I[tt-1];break;case"B":$=!1,i=!0,Tt=G;break;case"S":s=!0,Tt="N"}return Tt},U=function(b,E,I){var tt=b.split("");return I&&x(tt,I,{hiLevel:G}),tt.reverse(),E&&E.reverse(),tt.join("")},x=function(b,E,I){var tt,wt,At,mt,at,Tt=-1,Vt=b.length,Ot=0,k=[],K=G?p:v,Z=[];for($=!1,i=!1,s=!1,wt=0;wt<Vt;wt++)Z[wt]=z(b[wt]);for(At=0;At<Vt;At++){if(at=Ot,k[At]=Et(b,Z,k,At),tt=240&(Ot=K[at][T[k[At]]]),Ot&=15,E[At]=mt=K[Ot][5],tt>0)if(tt===16){for(wt=Tt;wt<At;wt++)E[wt]=1;Tt=-1}else Tt=-1;if(K[Ot][6])Tt===-1&&(Tt=At);else if(Tt>-1){for(wt=Tt;wt<At;wt++)E[wt]=mt;Tt=-1}Z[At]==="B"&&(E[At]=0),I.hiLevel|=mt}s&&(function(rt,ot,Q){for(var it=0;it<Q;it++)if(rt[it]==="S"){ot[it]=G;for(var nt=it-1;nt>=0&&rt[nt]==="WS";nt--)ot[nt]=G}})(Z,E,Vt)},S=function(b,E,I,tt,wt){if(!(wt.hiLevel<b)){if(b===1&&G===1&&!i)return E.reverse(),void(I&&I.reverse());for(var At,mt,at,Tt,Vt=E.length,Ot=0;Ot<Vt;){if(tt[Ot]>=b){for(at=Ot+1;at<Vt&&tt[at]>=b;)at++;for(Tt=Ot,mt=at-1;Tt<mt;Tt++,mt--)At=E[Tt],E[Tt]=E[mt],E[mt]=At,I&&(At=I[Tt],I[Tt]=I[mt],I[mt]=At);Ot=at}Ot++}}},F=function(b,E,I){var tt=b.split(""),wt={hiLevel:G};return I||(I=[]),x(tt,I,wt),(function(At,mt,at){if(at.hiLevel!==0&&f)for(var Tt,Vt=0;Vt<At.length;Vt++)mt[Vt]===1&&(Tt=R.indexOf(At[Vt]))>=0&&(At[Vt]=R[Tt+1])})(tt,I,wt),S(2,tt,E,I,wt),S(1,tt,E,I,wt),tt.join("")};return this.__bidiEngine__.doBidiReorder=function(b,E,I){if((function(wt,At){if(At)for(var mt=0;mt<wt.length;mt++)At[mt]=mt;a===void 0&&(a=ct(wt)),u===void 0&&(u=ct(wt))})(b,E),o||!l||u)if(o&&l&&a^u)G=a?1:0,b=U(b,E,I);else if(!o&&l&&u)G=a?1:0,b=F(b,E,I),b=U(b,E);else if(!o||a||l||u){if(o&&!l&&a^u)b=U(b,E),a?(G=0,b=F(b,E,I)):(G=1,b=F(b,E,I),b=U(b,E));else if(o&&a&&!l&&u)G=1,b=F(b,E,I),b=U(b,E);else if(!o&&!l&&a^u){var tt=f;a?(G=1,b=F(b,E,I),G=0,f=!1,b=F(b,E,I),f=tt):(G=0,b=F(b,E,I),b=U(b,E),G=1,f=!1,b=F(b,E,I),f=tt,b=U(b,E))}}else G=0,b=F(b,E,I);else G=a?1:0,b=F(b,E,I);return b},this.__bidiEngine__.setOptions=function(b){b&&(o=b.isInputVisual,l=b.isOutputVisual,a=b.isInputRtl,u=b.isOutputRtl,f=b.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([e.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([e.doBidiReorder(i[a])]);r.text=o}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])})(le),le.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new ha(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new v8(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new r8(this.contents),this.head=new s8(this),this.name=new c8(this),this.cmap=new zw(this),this.toUnicode={},this.hhea=new o8(this),this.maxp=new h8(this),this.hmtx=new f8(this),this.post=new l8(this),this.os2=new a8(this),this.loca=new m8(this),this.glyf=new d8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var Ji,ha=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,s,o,a,l;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)e=t[r],s.push(this.writeByte(e));return s},n})(),r8=(function(){var n;function t(e){var r,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,s,o,a,l,u,f,g,v,p,T,L;for(L in p=Object.keys(e).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),o=Math.floor(g/l),f=16*p-g,(i=new ha).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,T=[],e)for(v=e[L],i.writeString(L),i.writeInt(n(v)),i.writeInt(u),i.writeInt(v.length),T=T.concat(v),L==="head"&&(a=u),u+=v.length;u%4;)T.push(0),u++;return i.write(T),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(e){var r,i,s,o;for(e=Hw.call(e);e.length%4;)e.push(0);for(s=new ha(e),i=0,r=0,o=e.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t})(),i8={}.hasOwnProperty,Ls=function(n,t){for(var e in t)i8.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};Ji=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var s8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new ha).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),S5=(function(){function n(t,e){var r,i,s,o,a,l,u,f,g,v,p,T,L,R,C,$,G;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),v=p/2,t.pos+=6,s=(function(){var z,ct;for(ct=[],l=z=0;0<=v?z<v:z>v;l=0<=v?++z:--z)ct.push(t.readUInt16());return ct})(),t.pos+=2,L=(function(){var z,ct;for(ct=[],l=z=0;0<=v?z<v:z>v;l=0<=v?++z:--z)ct.push(t.readUInt16());return ct})(),u=(function(){var z,ct;for(ct=[],l=z=0;0<=v?z<v:z>v;l=0<=v?++z:--z)ct.push(t.readUInt16());return ct})(),f=(function(){var z,ct;for(ct=[],l=z=0;0<=v?z<v:z>v;l=0<=v?++z:--z)ct.push(t.readUInt16());return ct})(),i=(this.length-t.pos+this.offset)/2,a=(function(){var z,ct;for(ct=[],l=z=0;0<=i?z<i:z>i;l=0<=i?++z:--z)ct.push(t.readUInt16());return ct})(),l=C=0,G=s.length;C<G;l=++C)for(R=s[l],r=$=T=L[l];T<=R?$<=R:$>=R;r=T<=R?++$:--$)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-T)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}t.pos=g}return n.encode=function(t,e){var r,i,s,o,a,l,u,f,g,v,p,T,L,R,C,$,G,z,ct,Et,U,x,S,F,b,E,I,tt,wt,At,mt,at,Tt,Vt,Ot,k,K,Z,rt,ot,Q,it,nt,ut,Nt,j;switch(tt=new ha,o=Object.keys(t).sort(function(W,H){return W-H}),e){case"macroman":for(L=0,R=(function(){var W=[];for(T=0;T<256;++T)W.push(0);return W})(),$={0:0},s={},wt=0,Tt=o.length;wt<Tt;wt++)$[nt=t[i=o[wt]]]==null&&($[nt]=++L),s[i]={old:t[i],new:$[t[i]]},R[i]=$[t[i]];return tt.writeUInt16(1),tt.writeUInt16(0),tt.writeUInt32(12),tt.writeUInt16(0),tt.writeUInt16(262),tt.writeUInt16(0),tt.write(R),{charMap:s,subtable:tt.data,maxGlyphID:L+1};case"unicode":for(E=[],g=[],G=0,$={},r={},C=u=null,At=0,Vt=o.length;At<Vt;At++)$[ct=t[i=o[At]]]==null&&($[ct]=++G),r[i]={old:ct,new:$[ct]},a=$[ct]-i,C!=null&&a===u||(C&&g.push(C),E.push(i),u=a),C=i;for(C&&g.push(C),g.push(65535),E.push(65535),F=2*(S=E.length),x=2*Math.pow(Math.log(S)/Math.LN2,2),v=Math.log(x/2)/Math.LN2,U=2*S-x,l=[],Et=[],p=[],T=mt=0,Ot=E.length;mt<Ot;T=++mt){if(b=E[T],f=g[T],b===65535){l.push(0),Et.push(0);break}if(b-(I=r[b].new)>=32768)for(l.push(0),Et.push(2*(p.length+S-T)),i=at=b;b<=f?at<=f:at>=f;i=b<=f?++at:--at)p.push(r[i].new);else l.push(I-b),Et.push(0)}for(tt.writeUInt16(3),tt.writeUInt16(1),tt.writeUInt32(12),tt.writeUInt16(4),tt.writeUInt16(16+8*S+2*p.length),tt.writeUInt16(0),tt.writeUInt16(F),tt.writeUInt16(x),tt.writeUInt16(v),tt.writeUInt16(U),Q=0,k=g.length;Q<k;Q++)i=g[Q],tt.writeUInt16(i);for(tt.writeUInt16(0),it=0,K=E.length;it<K;it++)i=E[it],tt.writeUInt16(i);for(ut=0,Z=l.length;ut<Z;ut++)a=l[ut],tt.writeUInt16(a);for(Nt=0,rt=Et.length;Nt<rt;Nt++)z=Et[Nt],tt.writeUInt16(z);for(j=0,ot=p.length;j<ot;j++)L=p[j],tt.writeUInt16(L);return{charMap:r,subtable:tt.data,maxGlyphID:G+1}}},n})(),zw=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)e=new S5(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,i;return e==null&&(e="macroman"),r=S5.encode(t,e),(i=new ha).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),o8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),a8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),l8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},n})(),u8=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},c8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,i,s,o,a,l,u,f,g,v;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=f=0,g=r.length;f<g;s=++f)i=r[s],t.pos=i.offset,u=t.readString(i.length),o=new u8(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),h8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),f8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,i,s,o,a,l;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],e=u=0;0<=i?u<i:u>i;e=0<=i?++u:--u)f.push(t.readInt16());return f})(),this.widths=(function(){var u,f,g,v;for(v=[],u=0,f=(g=this.metrics).length;u<f;u++)s=g[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],e=o=0;0<=i?o<i:o>i;e=0<=i?++o:--o)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),Hw=[].slice,d8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,i,s,o,a,l,u,f,g;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,o=(a=new ha(e.read(i))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[t]=o===-1?new g8(a,u,g,l,f):new p8(a,o,u,g,l,f),this.cache[t]))},n.prototype.encode=function(t,e,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=e.length;a<l;a++)i=t[e[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),p8=(function(){function n(t,e,r,i,s,o){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),g8=(function(){function n(t,e,r,i,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new ha(Hw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),m8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ls(n,Ji),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<e.length&&e[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},n})(),v8=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(r=i[s])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))r=l[s],i[s]=r;return i},n.prototype.encode=function(t,e){var r,i,s,o,a,l,u,f,g,v,p,T,L,R,C;for(i in r=zw.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},C=r.charMap)p[(l=C[i]).old]=l.new;for(T in v=r.maxGlyphID,o)T in p||(p[T]=v++);return f=(function($){var G,z;for(G in z={},$)z[$[G]]=G;return z})(p),g=Object.keys(f).sort(function($,G){return $-G}),L=(function(){var $,G,z;for(z=[],$=0,G=g.length;$<G;$++)a=g[$],z.push(f[a]);return z})(),s=this.font.glyf.encode(o,L,p),u=this.font.loca.encode(s.offsets,L),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n})();le.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,s,o;if(Array.isArray(e))return"["+(function(){var a,l,u;for(u=[],a=0,l=e.length;a<l;a++)r=e[a],u.push(t.convert(r));return u})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)o=e[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t})();function Ww(n,t,e,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,g="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof n=="string"?n.split(f):n,v=g.length||1),e+=a*(2-s),r.valign==="middle"?e-=v/2*u:r.valign==="bottom"&&(e-=v*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),g&&v>=1){for(var T=0;T<g.length;T++)i.text(g[T],t-i.getStringUnitWidth(g[T])*p,e),e+=u;return i}t-=i.getStringUnitWidth(n)*p}return r.halign==="justify"?i.text(n,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,t,e),i}var E5={},Ml=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:E5=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var r,i,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var f=n.unifyColor(t.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=n.unifyColor(t.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=n.unifyColor(t.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},n.prototype.rect=function(t,e,r,i,s){return this.jsPDFDocument.rect(t,e,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return E5||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Xp=function(n,t){return Xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},Xp(n,t)};function $w(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xp(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Gw=(function(n){$w(t,n);function t(e){var r=n.call(this)||this;return r._element=e,r}return t})(Array);function y8(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function _8(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function sf(n,t,e){e.applyStyles(t,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function Kw(n,t,e,r){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var o=Yw(i,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),r.y-e.y,o)}function Yw(n,t){var e=n>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function Df(n,t){var e,r,i,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(r=n.top)!==null&&r!==void 0?r:t,right:(i=n.right)!==null&&i!==void 0?i:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function Jw(n,t){var e=Df(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function w8(n,t,e,r,i){var s={},o=1.3333333333333333,a=Gd(t,function(G){return i.getComputedStyle(G).backgroundColor});a!=null&&(s.fillColor=a);var l=Gd(t,function(G){return i.getComputedStyle(G).color});l!=null&&(s.textColor=l);var u=A8(r,e);u&&(s.cellPadding=u);var f="borderTopColor",g=o*e,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var p=(parseFloat(v)||0)/g;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var T=Gd(t,function(G){return i.getComputedStyle(G)[f]});T!=null&&(s.lineColor=T);var L=["left","right","center","justify"];L.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),L=["middle","bottom","top"],L.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var R=parseInt(r.fontSize||"");isNaN(R)||(s.fontSize=R/o);var C=b8(r);C&&(s.fontStyle=C);var $=(r.fontFamily||"").toLowerCase();return n.indexOf($)!==-1&&(s.font=$),s}function b8(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function Gd(n,t){var e=Xw(n,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Xw(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:Xw(n.parentElement,t):e}function A8(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/t),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(a){return parseInt(a||"0")/r}),o=Df(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Qw(n,t,e,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof t=="string"?a=e.document.querySelector(t):a=t;var l=Object.keys(n.getFontList()),u=n.scaleFactor(),f=[],g=[],v=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:f,body:g,foot:v};for(var p=0;p<a.rows.length;p++){var T=a.rows[p],L=(o=(s=T?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),R=S8(l,u,e,T,r,i);R&&(L==="thead"?f.push(R):L==="tfoot"?v.push(R):g.push(R))}return{head:f,body:g,foot:v}}function S8(n,t,e,r,i,s){for(var o=new Gw(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=e.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=w8(n,l,t,u,e)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:E8(l)})}}var g=e.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function E8(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function I8(n,t,e){for(var r=0,i=[n,t,e];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function eo(n,t,e,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function T8(n,t){var e=new Ml(n),r=e.getDocumentOptions(),i=e.getGlobalOptions();I8(i,r,t);var s=eo({},i,r,t),o;typeof window<"u"&&(o=window);var a=x8(i,r,t),l=P8(i,r,t),u=N8(e,s),f=L8(e,s,o);return{id:t.tableId,content:f,hooks:l,styles:a,settings:u}}function x8(n,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=n[l],f=t[l],g=e[l];r.columnStyles=eo({},u,f,g)}else{var v=[n,t,e],p=v.map(function(T){return T[l]||{}});r[l]=eo({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function P8(n,t,e){for(var r=[n,t,e],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function N8(n,t){var e,r,i,s,o,a,l,u,f,g,v,p,T=Df(t.margin,40/n.scaleFactor()),L=(e=C8(n,t.startY))!==null&&e!==void 0?e:T.top,R;t.showFoot===!0?R="everyPage":t.showFoot===!1?R="never":R=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var $=(s=t.useCss)!==null&&s!==void 0?s:!1,G=t.theme||($?"plain":"striped"),z=!!t.horizontalPageBreak,ct=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:$,theme:G,startY:L,margin:T,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:C,showFoot:R,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(v=t.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:z,horizontalPageBreakRepeat:ct,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function C8(n,t){var e=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&e?.finalY!=null?e.finalY+20/r:null}function L8(n,t,e){var r=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var a=Qw(n,t.html,e,o,t.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||R8(r,i,s);return{columns:l,head:r,body:i,foot:s}}function R8(n,t,e){var r=n[0]||t[0]||e[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var Qp=(function(){function n(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return n})(),k8=(function(n){$w(t,n);function t(e,r,i,s,o,a){var l=n.call(this,e,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return t})(Qp),O8=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,r,i,s,o){for(var a=0,l=e;a<l.length;a++){var u=l[a],f=new k8(t,this,r,i,s,o),g=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Qp(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Qp(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},n})(),Zw=(function(){function n(t,e,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof Gw&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,i){var s;return Math.max(r,((s=e.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var i=e.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=e.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},n})(),tb=(function(){function n(t,e,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*e,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=Df(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),D8=(function(){function n(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,i=t.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n})();function M8(n,t){F8(n,t);var e=[],r=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),r+=s.width});var i=t.getWidth(n.pageSize().width)-r;i&&(i=Zp(e,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Zp(e,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),B8(t),j8(t,n),V8(t)}function F8(n,t){var e=n.scaleFactor(),r=t.settings.horizontalPageBreak,i=Jw(n,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=t.hooks.didParseCell;t.callCellHooks(n,f,u,s,l,null);var g=u.padding("horizontal");u.contentWidth=sf(u.text,u.styles,n)+g;var v=sf(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,n);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/e;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},g=f.cellWidth||f.minCellWidth;g&&typeof g=="number"&&(l.minWidth=g,l.wrappedWidth=g)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Zp(n,t,e){for(var r=t,i=n.reduce(function(p,T){return p+T.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=e(o),g=u<f?f:u;t-=g-o.width,o.width=g}if(t=Math.round(t*1e10)/1e10,t){var v=n.filter(function(p){return t<0?p.width>e(p):!0});v.length&&(t=Zp(v,t,e))}return t}function V8(n){for(var t={},e=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t[l.index];if(e>1)e--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,e=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var g=r.length-i,v=f.rowSpan>g?g:f.rowSpan;t[l.index]={cell:f,left:v,row:s}}}}}function B8(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var r=t[e],i=null,s=0,o=0,a=0;a<n.columns.length;a++){var l=n.columns[a];if(o-=1,o>1&&n.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function j8(n,t){for(var e={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],o=0,a=n.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){t.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,f+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=I5(u.text,f,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=I5(u.text,f,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,f);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&e.count*e.height<v*u.rowSpan?e={height:v,count:u.rowSpan}:e&&e.count>0&&e.height>v&&(v=e.height),v>s.height&&(s.height=v)}}e.count--}}function I5(n,t,e,r,i){return n.map(function(s){return U8(s,t,e,r,i)})}function U8(n,t,e,r,i){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=sf(n,e,r))return n;for(;t<sf(n+i,e,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function q8(n,t){var e=new Ml(n),r=z8(t,e.scaleFactor()),i=new O8(t,r);return M8(e,i),e.applyStyles(e.userStyles),i}function z8(n,t){var e=n.content,r=W8(e.columns);if(e.head.length===0){var i=T5(r,"head");i&&e.head.push(i)}if(e.foot.length===0){var i=T5(r,"foot");i&&e.foot.push(i)}var s=n.settings.theme,o=n.styles;return{columns:r,head:Kd("head",e.head,r,o,s,t),body:Kd("body",e.body,r,o,s,t),foot:Kd("foot",e.foot,r,o,s,t)}}function Kd(n,t,e,r,i,s){var o={},a=t.map(function(l,u){for(var f=0,g={},v=0,p=0,T=0,L=e;T<L.length;T++){var R=L[T];if(o[R.index]==null||o[R.index].left===0)if(p===0){var C=void 0;Array.isArray(l)?C=l[R.index-v-f]:C=l[R.dataKey];var $={};typeof C=="object"&&!Array.isArray(C)&&($=C?.styles||{});var G=$8(n,R,u,i,r,s,$),z=new tb(C,G,n);g[R.dataKey]=z,g[R.index]=z,p=z.colSpan-1,o[R.index]={left:z.rowSpan-1,times:p}}else p--,v++;else o[R.index].left--,p=o[R.index].times,f++}return new Zw(l,u,n,g)});return a}function T5(n,t){var e={};return n.forEach(function(r){if(r.raw!=null){var i=H8(t,r.raw);i!=null&&(e[r.dataKey]=i)}}),Object.keys(e).length>0?e:null}function H8(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function W8(n){return n.map(function(t,e){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:e:i=e,new D8(i,t,e)})}function $8(n,t,e,r,i,s,o){var a=_8(r),l;n==="head"?l=i.headStyles:n==="body"?l=i.bodyStyles:n==="foot"&&(l=i.footStyles);var u=eo({},a.table,a[n],i.styles,l),f=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},g=n==="body"?f:{},v=n==="body"&&e%2===0?eo({},a.alternateRow,i.alternateRowStyles):{},p=y8(s),T=eo({},p,u,v,g);return eo(T,o)}function G8(n,t,e){var r;e===void 0&&(e={});var i=Jw(n,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=t.columns.find(function(T){return T.dataKey===v||T.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(t.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=e?.start)!==null&&r!==void 0?r:0;f<t.columns.length;){if(s.has(f)){f++;continue}var g=t.columns[f].wrappedWidth;if(u||i>=g)u=!1,o.push(f),a.push(t.columns[f]),i-=g;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function K8(n,t){for(var e=[],r=0;r<t.columns.length;r++){var i=G8(n,t,{start:r});i.columns.length&&(e.push(i),r=i.lastIndex)}return e}function Y8(n,t){var e=t.settings,r=e.startY,i=e.margin,s={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=r+i.bottom+o;if(e.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(v,p){return v+p.height},0);a+=u}var f=new Ml(n);(e.pageBreak==="always"||e.startY!=null&&a>f.pageSize().height)&&(nb(f),s.y=i.top),t.callWillDrawPageHooks(f,s);var g=eo({},s);t.startPageNumber=f.pageNumber(),e.horizontalPageBreak?J8(f,t,g,s):(f.applyStyles(f.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(v){return lo(f,t,v,s,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(v,p){var T=p===t.body.length-1;of(f,t,v,T,g,s,t.columns)}),f.applyStyles(f.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(v){return lo(f,t,v,s,t.columns)})),Kw(f,t,g,s),t.callEndPageHooks(f,s),t.finalY=s.y,n.lastAutoTable=t,f.applyStyles(f.userStyles)}function J8(n,t,e,r){var i=K8(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){n.applyStyles(n.userStyles),f>0?Zu(n,t,e,r,u.columns,!0):x5(n,t,r,u.columns),X8(n,t,e,r,u.columns),Yd(n,t,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){n.applyStyles(n.userStyles);var f=a.columns;o>=0?Zu(n,t,e,r,f,!0):x5(n,t,r,f),u=P5(n,t,o+1,r,f),Yd(n,t,r,f)}var g=u-o;i.slice(1).forEach(function(v){n.applyStyles(n.userStyles),Zu(n,t,e,r,v.columns,!0),P5(n,t,o+1,r,v.columns,g),Yd(n,t,r,v.columns)}),o=u};o<t.body.length-1;)l()}function x5(n,t,e,r){var i=t.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return lo(n,t,s,e,r)})}function X8(n,t,e,r,i){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;of(n,t,s,a,e,r,i)})}function P5(n,t,e,r,i,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),a=-1;return t.body.slice(e,o).forEach(function(l,u){var f=e+u===t.body.length-1,g=eb(n,t,f,r);l.canEntireRowFit(g,i)&&(lo(n,t,l,r,i),a=e+u)}),a}function Yd(n,t,e,r){var i=t.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return lo(n,t,s,e,r)})}function Q8(n,t,e){var r=e.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((t-i)/r);return Math.max(0,s)}function Z8(n,t,e,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,a=e.columns;o<a.length;o++){var l=a[o],u=n.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new tb(u.raw,u.styles,u.section);f=eo(f,u),f.text=[];var g=Q8(u,t,r);u.text.length>g&&(f.text=u.text.splice(g,u.text.length));var v=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,p),u.contentHeight>=t&&(u.contentHeight=t,f.styles.minCellHeight-=t),u.contentHeight>n.height&&(n.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var T=new Zw(n.raw,-1,n.section,i,!0);T.height=s;for(var L=0,R=e.columns;L<R.length;L++){var l=R[L],f=T.cells[l.index];f&&(f.height=T.height);var u=n.cells[l.index];u&&(u.height=n.height)}return T}function tR(n,t,e,r){var i=n.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;t.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,n),u=l<e;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=t.hasRowSpan(r.columns),g=t.getMaxCellHeight(r.columns)>a;return g?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function of(n,t,e,r,i,s,o){var a=eb(n,t,r,s);if(e.canEntireRowFit(a,o))lo(n,t,e,s,o);else if(tR(n,e,a,t)){var l=Z8(e,a,t,n);lo(n,t,e,s,o),Zu(n,t,i,s,o),of(n,t,l,r,i,s,o)}else Zu(n,t,i,s,o),of(n,t,e,r,i,s,o)}function lo(n,t,e,r,i){r.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=e.cells[a.index];if(!l){r.x+=a.width;continue}n.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=t.callCellHooks(n,t.hooks.willDrawCell,l,e,a,r);if(u===!1){r.x+=a.width;continue}eR(n,l,r);var f=l.getTextPos();Ww(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,l,e,a,r),r.x+=a.width}r.y+=e.height}function eR(n,t,e){var r=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Yw(r.lineWidth,r.fillColor);i&&n.rect(t.x,e.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),nR(n,t,e,r.lineWidth))}function nR(n,t,e,r){var i,s,o,a;r.top&&(i=e.x,s=e.y,o=e.x+t.width,a=e.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=e.x,s=e.y+t.height,o=e.x+t.width,a=e.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=e.x,s=e.y,o=e.x,a=e.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=e.x+t.width,s=e.y,o=e.x+t.width,a=e.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,g,v,p){n.getDocument().setLineWidth(u),n.getDocument().line(f,g,v,p,"S")}}function eb(n,t,e,r){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(i+=t.getFootHeight(t.columns)),n.pageSize().height-r.y-i}function Zu(n,t,e,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return lo(n,t,a,r,i)}),t.callEndPageHooks(n,r);var o=t.settings.margin;Kw(n,t,e,r),nb(n),t.pageNumber++,r.x=o.left,r.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return lo(n,t,a,r,i)}),n.applyStyles(n.userStyles))}function nb(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function rR(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=T8(this,r),s=q8(this,i);return Y8(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,r,i){Ww(t,e,r,i,this)},n.API.autoTableSetDefaults=function(t){return Ml.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Ml.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ml(this),s=Qw(i,t,window,e,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Jd;try{if(typeof window<"u"&&window){var N5=window,C5=N5.jsPDF||((Jd=N5.jspdf)===null||Jd===void 0?void 0:Jd.jsPDF);C5&&rR(C5)}}catch(n){console.error("Could not apply autoTable plugin",n)}const rb=aS({history:M3("/5032-A3/"),routes:[]});let ph;function iR(){return ph||(ph=new Promise(n=>{const t=O6(Q_,async e=>{if(ti.user=e||null,ti.profile=null,e)try{const r=await JP(qP(tN,"users",e.uid));ti.profile=r.exists()?r.data():{uid:e.uid,email:e.email,role:"user"}}catch(r){console.error("Failed to load user profile:",r),ti.profile={uid:e.uid,email:e.email,role:"user"}}t(),n()})}),ph)}rb.beforeEach(async n=>n.meta?.public?!0:(await iR(),ti.isAuthed?n.meta?.role==="admin"&&!ti.isAdmin?{name:"Home"}:!0:{name:"FireLogin",query:{next:n.fullPath}}));const sR={apiKey:"AIzaSyAMhWLSmWl6pcgRhPU8TlnDQmAGSBEpsI0",authDomain:"week7-siyi.firebaseapp.com",projectId:"week7-siyi",storageBucket:"week7-siyi.appspot.com",messagingSenderId:"422432926997",appId:"1:422432926997:web:6062c5f012459d70630d1c"};Ig().length?Ac():_f(sR);r3(TN).use(rb).mount("#app");export{rn as _};
